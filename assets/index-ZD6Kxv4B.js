(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var $n=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function j_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ka(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var V_={exports:{}},qa={},G_={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $s=Symbol.for("react.element"),L0=Symbol.for("react.portal"),P0=Symbol.for("react.fragment"),k0=Symbol.for("react.strict_mode"),T0=Symbol.for("react.profiler"),I0=Symbol.for("react.provider"),M0=Symbol.for("react.context"),N0=Symbol.for("react.forward_ref"),O0=Symbol.for("react.suspense"),A0=Symbol.for("react.memo"),R0=Symbol.for("react.lazy"),Wf=Symbol.iterator;function b0(t){return t===null||typeof t!="object"?null:(t=Wf&&t[Wf]||t["@@iterator"],typeof t=="function"?t:null)}var $_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K_=Object.assign,q_={};function Sr(t,e,n){this.props=t,this.context=e,this.refs=q_,this.updater=n||$_}Sr.prototype.isReactComponent={};Sr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Sr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Y_(){}Y_.prototype=Sr.prototype;function Xc(t,e,n){this.props=t,this.context=e,this.refs=q_,this.updater=n||$_}var Jc=Xc.prototype=new Y_;Jc.constructor=Xc;K_(Jc,Sr.prototype);Jc.isPureReactComponent=!0;var jf=Array.isArray,Q_=Object.prototype.hasOwnProperty,eh={current:null},X_={key:!0,ref:!0,__self:!0,__source:!0};function J_(t,e,n){var r,s={},o=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)Q_.call(e,r)&&!X_.hasOwnProperty(r)&&(s[r]=e[r]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var h=Array(c),f=0;f<c;f++)h[f]=arguments[f+2];s.children=h}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)s[r]===void 0&&(s[r]=c[r]);return{$$typeof:$s,type:t,key:o,ref:l,props:s,_owner:eh.current}}function D0(t,e){return{$$typeof:$s,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function th(t){return typeof t=="object"&&t!==null&&t.$$typeof===$s}function z0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Vf=/\/+/g;function tu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?z0(""+t.key):e.toString(36)}function qo(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case $s:case L0:l=!0}}if(l)return l=t,s=s(l),t=r===""?"."+tu(l,0):r,jf(s)?(n="",t!=null&&(n=t.replace(Vf,"$&/")+"/"),qo(s,e,n,"",function(f){return f})):s!=null&&(th(s)&&(s=D0(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Vf,"$&/")+"/")+t)),e.push(s)),1;if(l=0,r=r===""?".":r+":",jf(t))for(var c=0;c<t.length;c++){o=t[c];var h=r+tu(o,c);l+=qo(o,e,n,h,s)}else if(h=b0(t),typeof h=="function")for(t=h.call(t),c=0;!(o=t.next()).done;)o=o.value,h=r+tu(o,c++),l+=qo(o,e,n,h,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Mo(t,e,n){if(t==null)return t;var r=[],s=0;return qo(t,r,"","",function(o){return e.call(n,o,s++)}),r}function B0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ot={current:null},Yo={transition:null},F0={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:Yo,ReactCurrentOwner:eh};function em(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:Mo,forEach:function(t,e,n){Mo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Mo(t,function(){e++}),e},toArray:function(t){return Mo(t,function(e){return e})||[]},only:function(t){if(!th(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Component=Sr;te.Fragment=P0;te.Profiler=T0;te.PureComponent=Xc;te.StrictMode=k0;te.Suspense=O0;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F0;te.act=em;te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=K_({},t.props),s=t.key,o=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=eh.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(h in e)Q_.call(e,h)&&!X_.hasOwnProperty(h)&&(r[h]=e[h]===void 0&&c!==void 0?c[h]:e[h])}var h=arguments.length-2;if(h===1)r.children=n;else if(1<h){c=Array(h);for(var f=0;f<h;f++)c[f]=arguments[f+2];r.children=c}return{$$typeof:$s,type:t.type,key:s,ref:o,props:r,_owner:l}};te.createContext=function(t){return t={$$typeof:M0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:I0,_context:t},t.Consumer=t};te.createElement=J_;te.createFactory=function(t){var e=J_.bind(null,t);return e.type=t,e};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:N0,render:t}};te.isValidElement=th;te.lazy=function(t){return{$$typeof:R0,_payload:{_status:-1,_result:t},_init:B0}};te.memo=function(t,e){return{$$typeof:A0,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=Yo.transition;Yo.transition={};try{t()}finally{Yo.transition=e}};te.unstable_act=em;te.useCallback=function(t,e){return ot.current.useCallback(t,e)};te.useContext=function(t){return ot.current.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t){return ot.current.useDeferredValue(t)};te.useEffect=function(t,e){return ot.current.useEffect(t,e)};te.useId=function(){return ot.current.useId()};te.useImperativeHandle=function(t,e,n){return ot.current.useImperativeHandle(t,e,n)};te.useInsertionEffect=function(t,e){return ot.current.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return ot.current.useLayoutEffect(t,e)};te.useMemo=function(t,e){return ot.current.useMemo(t,e)};te.useReducer=function(t,e,n){return ot.current.useReducer(t,e,n)};te.useRef=function(t){return ot.current.useRef(t)};te.useState=function(t){return ot.current.useState(t)};te.useSyncExternalStore=function(t,e,n){return ot.current.useSyncExternalStore(t,e,n)};te.useTransition=function(){return ot.current.useTransition()};te.version="18.3.1";G_.exports=te;var q=G_.exports;const Bu=j_(q);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0=q,H0=Symbol.for("react.element"),Z0=Symbol.for("react.fragment"),W0=Object.prototype.hasOwnProperty,j0=U0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,V0={key:!0,ref:!0,__self:!0,__source:!0};function tm(t,e,n){var r,s={},o=null,l=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)W0.call(e,r)&&!V0.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:H0,type:t,key:o,ref:l,props:s,_owner:j0.current}}qa.Fragment=Z0;qa.jsx=tm;qa.jsxs=tm;V_.exports=qa;var pe=V_.exports,nm={exports:{}},St={},im={exports:{}},rm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,G){var R=I.length;I.push(G);e:for(;0<R;){var V=R-1>>>1,re=I[V];if(0<s(re,G))I[V]=G,I[R]=re,R=V;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var G=I[0],R=I.pop();if(R!==G){I[0]=R;e:for(var V=0,re=I.length,Re=re>>>1;V<Re;){var ce=2*(V+1)-1,oe=I[ce],$=ce+1,lt=I[$];if(0>s(oe,R))$<re&&0>s(lt,oe)?(I[V]=lt,I[$]=R,V=$):(I[V]=oe,I[ce]=R,V=ce);else if($<re&&0>s(lt,R))I[V]=lt,I[$]=R,V=$;else break e}}return G}function s(I,G){var R=I.sortIndex-G.sortIndex;return R!==0?R:I.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],f=[],g=1,_=null,v=3,y=!1,x=!1,P=!1,D=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(I){for(var G=n(f);G!==null;){if(G.callback===null)r(f);else if(G.startTime<=I)r(f),G.sortIndex=G.expirationTime,e(h,G);else break;G=n(f)}}function M(I){if(P=!1,E(I),!x)if(n(h)!==null)x=!0,Ve(b);else{var G=n(f);G!==null&&nn(M,G.startTime-I)}}function b(I,G){x=!1,P&&(P=!1,S(H),H=-1),y=!0;var R=v;try{for(E(G),_=n(h);_!==null&&(!(_.expirationTime>G)||I&&!de());){var V=_.callback;if(typeof V=="function"){_.callback=null,v=_.priorityLevel;var re=V(_.expirationTime<=G);G=t.unstable_now(),typeof re=="function"?_.callback=re:_===n(h)&&r(h),E(G)}else r(h);_=n(h)}if(_!==null)var Re=!0;else{var ce=n(f);ce!==null&&nn(M,ce.startTime-G),Re=!1}return Re}finally{_=null,v=R,y=!1}}var F=!1,U=null,H=-1,ve=5,Q=-1;function de(){return!(t.unstable_now()-Q<ve)}function Fe(){if(U!==null){var I=t.unstable_now();Q=I;var G=!0;try{G=U(!0,I)}finally{G?ii():(F=!1,U=null)}}else F=!1}var ii;if(typeof w=="function")ii=function(){w(Fe)};else if(typeof MessageChannel<"u"){var xt=new MessageChannel,wl=xt.port2;xt.port1.onmessage=Fe,ii=function(){wl.postMessage(null)}}else ii=function(){D(Fe,0)};function Ve(I){U=I,F||(F=!0,ii())}function nn(I,G){H=D(function(){I(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,Ve(b))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ve=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(I){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var R=v;v=G;try{return I()}finally{v=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,G){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var R=v;v=I;try{return G()}finally{v=R}},t.unstable_scheduleCallback=function(I,G,R){var V=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?V+R:V):R=V,I){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=R+re,I={id:g++,callback:G,priorityLevel:I,startTime:R,expirationTime:re,sortIndex:-1},R>V?(I.sortIndex=R,e(f,I),n(h)===null&&I===n(f)&&(P?(S(H),H=-1):P=!0,nn(M,R-V))):(I.sortIndex=re,e(h,I),x||y||(x=!0,Ve(b))),I},t.unstable_shouldYield=de,t.unstable_wrapCallback=function(I){var G=v;return function(){var R=v;v=G;try{return I.apply(this,arguments)}finally{v=R}}}})(rm);im.exports=rm;var G0=im.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0=q,Ct=G0;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sm=new Set,ys={};function ki(t,e){hr(t,e),hr(t+"Capture",e)}function hr(t,e){for(ys[t]=e,t=0;t<e.length;t++)sm.add(e[t])}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fu=Object.prototype.hasOwnProperty,K0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gf={},$f={};function q0(t){return Fu.call($f,t)?!0:Fu.call(Gf,t)?!1:K0.test(t)?$f[t]=!0:(Gf[t]=!0,!1)}function Y0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Q0(t,e,n,r){if(e===null||typeof e>"u"||Y0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function at(t,e,n,r,s,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var Ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ye[t]=new at(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ye[e]=new at(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ye[t]=new at(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ye[t]=new at(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ye[t]=new at(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ye[t]=new at(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ye[t]=new at(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ye[t]=new at(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ye[t]=new at(t,5,!1,t.toLowerCase(),null,!1,!1)});var nh=/[\-:]([a-z])/g;function ih(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(nh,ih);Ye[e]=new at(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(nh,ih);Ye[e]=new at(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(nh,ih);Ye[e]=new at(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ye[t]=new at(t,1,!1,t.toLowerCase(),null,!1,!1)});Ye.xlinkHref=new at("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ye[t]=new at(t,1,!1,t.toLowerCase(),null,!0,!0)});function rh(t,e,n,r){var s=Ye.hasOwnProperty(e)?Ye[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Q0(e,n,s,r)&&(n=null),r||s===null?q0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Cn=$0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,No=Symbol.for("react.element"),Hi=Symbol.for("react.portal"),Zi=Symbol.for("react.fragment"),sh=Symbol.for("react.strict_mode"),Uu=Symbol.for("react.profiler"),om=Symbol.for("react.provider"),am=Symbol.for("react.context"),oh=Symbol.for("react.forward_ref"),Hu=Symbol.for("react.suspense"),Zu=Symbol.for("react.suspense_list"),ah=Symbol.for("react.memo"),In=Symbol.for("react.lazy"),lm=Symbol.for("react.offscreen"),Kf=Symbol.iterator;function Wr(t){return t===null||typeof t!="object"?null:(t=Kf&&t[Kf]||t["@@iterator"],typeof t=="function"?t:null)}var Pe=Object.assign,nu;function ts(t){if(nu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);nu=e&&e[1]||""}return`
`+nu+t}var iu=!1;function ru(t,e){if(!t||iu)return"";iu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){r=f}t.call(e.prototype)}else{try{throw Error()}catch(f){r=f}t()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var s=f.stack.split(`
`),o=r.stack.split(`
`),l=s.length-1,c=o.length-1;1<=l&&0<=c&&s[l]!==o[c];)c--;for(;1<=l&&0<=c;l--,c--)if(s[l]!==o[c]){if(l!==1||c!==1)do if(l--,c--,0>c||s[l]!==o[c]){var h=`
`+s[l].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=l&&0<=c);break}}}finally{iu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ts(t):""}function X0(t){switch(t.tag){case 5:return ts(t.type);case 16:return ts("Lazy");case 13:return ts("Suspense");case 19:return ts("SuspenseList");case 0:case 2:case 15:return t=ru(t.type,!1),t;case 11:return t=ru(t.type.render,!1),t;case 1:return t=ru(t.type,!0),t;default:return""}}function Wu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zi:return"Fragment";case Hi:return"Portal";case Uu:return"Profiler";case sh:return"StrictMode";case Hu:return"Suspense";case Zu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case am:return(t.displayName||"Context")+".Consumer";case om:return(t._context.displayName||"Context")+".Provider";case oh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ah:return e=t.displayName||null,e!==null?e:Wu(t.type)||"Memo";case In:e=t._payload,t=t._init;try{return Wu(t(e))}catch{}}return null}function J0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wu(e);case 8:return e===sh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Kn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function um(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eC(t){var e=um(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Oo(t){t._valueTracker||(t._valueTracker=eC(t))}function cm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=um(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function la(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ju(t,e){var n=e.checked;return Pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function qf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Kn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hm(t,e){e=e.checked,e!=null&&rh(t,"checked",e,!1)}function Vu(t,e){hm(t,e);var n=Kn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gu(t,e.type,n):e.hasOwnProperty("defaultValue")&&Gu(t,e.type,Kn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Yf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Gu(t,e,n){(e!=="number"||la(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ns=Array.isArray;function nr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Kn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function $u(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return Pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Qf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(ns(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Kn(n)}}function dm(t,e){var n=Kn(e.value),r=Kn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Xf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ku(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ao,pm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ao=Ao||document.createElement("div"),Ao.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ao.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ws(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tC=["Webkit","ms","Moz","O"];Object.keys(ss).forEach(function(t){tC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ss[e]=ss[t]})});function _m(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ss.hasOwnProperty(t)&&ss[t]?(""+e).trim():e+"px"}function mm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=_m(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var nC=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qu(t,e){if(e){if(nC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function Yu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qu=null;function lh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xu=null,ir=null,rr=null;function Jf(t){if(t=Ys(t)){if(typeof Xu!="function")throw Error(O(280));var e=t.stateNode;e&&(e=el(e),Xu(t.stateNode,t.type,e))}}function gm(t){ir?rr?rr.push(t):rr=[t]:ir=t}function vm(){if(ir){var t=ir,e=rr;if(rr=ir=null,Jf(t),e)for(t=0;t<e.length;t++)Jf(e[t])}}function ym(t,e){return t(e)}function wm(){}var su=!1;function Cm(t,e,n){if(su)return t(e,n);su=!0;try{return ym(t,e,n)}finally{su=!1,(ir!==null||rr!==null)&&(wm(),vm())}}function Cs(t,e){var n=t.stateNode;if(n===null)return null;var r=el(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var Ju=!1;if(_n)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){Ju=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{Ju=!1}function iC(t,e,n,r,s,o,l,c,h){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(g){this.onError(g)}}var os=!1,ua=null,ca=!1,ec=null,rC={onError:function(t){os=!0,ua=t}};function sC(t,e,n,r,s,o,l,c,h){os=!1,ua=null,iC.apply(rC,arguments)}function oC(t,e,n,r,s,o,l,c,h){if(sC.apply(this,arguments),os){if(os){var f=ua;os=!1,ua=null}else throw Error(O(198));ca||(ca=!0,ec=f)}}function Ti(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Sm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ep(t){if(Ti(t)!==t)throw Error(O(188))}function aC(t){var e=t.alternate;if(!e){if(e=Ti(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return ep(s),t;if(o===r)return ep(s),e;o=o.sibling}throw Error(O(188))}if(n.return!==r.return)n=s,r=o;else{for(var l=!1,c=s.child;c;){if(c===n){l=!0,n=s,r=o;break}if(c===r){l=!0,r=s,n=o;break}c=c.sibling}if(!l){for(c=o.child;c;){if(c===n){l=!0,n=o,r=s;break}if(c===r){l=!0,r=o,n=s;break}c=c.sibling}if(!l)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function Em(t){return t=aC(t),t!==null?xm(t):null}function xm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=xm(t);if(e!==null)return e;t=t.sibling}return null}var Lm=Ct.unstable_scheduleCallback,tp=Ct.unstable_cancelCallback,lC=Ct.unstable_shouldYield,uC=Ct.unstable_requestPaint,Me=Ct.unstable_now,cC=Ct.unstable_getCurrentPriorityLevel,uh=Ct.unstable_ImmediatePriority,Pm=Ct.unstable_UserBlockingPriority,ha=Ct.unstable_NormalPriority,hC=Ct.unstable_LowPriority,km=Ct.unstable_IdlePriority,Ya=null,en=null;function dC(t){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Ya,t,void 0,(t.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:_C,fC=Math.log,pC=Math.LN2;function _C(t){return t>>>=0,t===0?32:31-(fC(t)/pC|0)|0}var Ro=64,bo=4194304;function is(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function da(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,l=n&268435455;if(l!==0){var c=l&~s;c!==0?r=is(c):(o&=l,o!==0&&(r=is(o)))}else l=n&~s,l!==0?r=is(l):o!==0&&(r=is(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Wt(e),s=1<<n,r|=t[n],e&=~s;return r}function mC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-Wt(o),c=1<<l,h=s[l];h===-1?(!(c&n)||c&r)&&(s[l]=mC(c,e)):h<=e&&(t.expiredLanes|=c),o&=~c}}function tc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Tm(){var t=Ro;return Ro<<=1,!(Ro&4194240)&&(Ro=64),t}function ou(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ks(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wt(e),t[e]=n}function vC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Wt(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function ch(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Wt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ue=0;function Im(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Mm,hh,Nm,Om,Am,nc=!1,Do=[],bn=null,Dn=null,zn=null,Ss=new Map,Es=new Map,Nn=[],yC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function np(t,e){switch(t){case"focusin":case"focusout":bn=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":Ss.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Es.delete(e.pointerId)}}function Vr(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Ys(e),e!==null&&hh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function wC(t,e,n,r,s){switch(e){case"focusin":return bn=Vr(bn,t,e,n,r,s),!0;case"dragenter":return Dn=Vr(Dn,t,e,n,r,s),!0;case"mouseover":return zn=Vr(zn,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return Ss.set(o,Vr(Ss.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Es.set(o,Vr(Es.get(o)||null,t,e,n,r,s)),!0}return!1}function Rm(t){var e=fi(t.target);if(e!==null){var n=Ti(e);if(n!==null){if(e=n.tag,e===13){if(e=Sm(n),e!==null){t.blockedOn=e,Am(t.priority,function(){Nm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ic(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Qu=r,n.target.dispatchEvent(r),Qu=null}else return e=Ys(n),e!==null&&hh(e),t.blockedOn=n,!1;e.shift()}return!0}function ip(t,e,n){Qo(t)&&n.delete(e)}function CC(){nc=!1,bn!==null&&Qo(bn)&&(bn=null),Dn!==null&&Qo(Dn)&&(Dn=null),zn!==null&&Qo(zn)&&(zn=null),Ss.forEach(ip),Es.forEach(ip)}function Gr(t,e){t.blockedOn===e&&(t.blockedOn=null,nc||(nc=!0,Ct.unstable_scheduleCallback(Ct.unstable_NormalPriority,CC)))}function xs(t){function e(s){return Gr(s,t)}if(0<Do.length){Gr(Do[0],t);for(var n=1;n<Do.length;n++){var r=Do[n];r.blockedOn===t&&(r.blockedOn=null)}}for(bn!==null&&Gr(bn,t),Dn!==null&&Gr(Dn,t),zn!==null&&Gr(zn,t),Ss.forEach(e),Es.forEach(e),n=0;n<Nn.length;n++)r=Nn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Nn.length&&(n=Nn[0],n.blockedOn===null);)Rm(n),n.blockedOn===null&&Nn.shift()}var sr=Cn.ReactCurrentBatchConfig,fa=!0;function SC(t,e,n,r){var s=ue,o=sr.transition;sr.transition=null;try{ue=1,dh(t,e,n,r)}finally{ue=s,sr.transition=o}}function EC(t,e,n,r){var s=ue,o=sr.transition;sr.transition=null;try{ue=4,dh(t,e,n,r)}finally{ue=s,sr.transition=o}}function dh(t,e,n,r){if(fa){var s=ic(t,e,n,r);if(s===null)mu(t,e,r,pa,n),np(t,r);else if(wC(s,t,e,n,r))r.stopPropagation();else if(np(t,r),e&4&&-1<yC.indexOf(t)){for(;s!==null;){var o=Ys(s);if(o!==null&&Mm(o),o=ic(t,e,n,r),o===null&&mu(t,e,r,pa,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else mu(t,e,r,null,n)}}var pa=null;function ic(t,e,n,r){if(pa=null,t=lh(r),t=fi(t),t!==null)if(e=Ti(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Sm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pa=t,null}function bm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cC()){case uh:return 1;case Pm:return 4;case ha:case hC:return 16;case km:return 536870912;default:return 16}default:return 16}}var An=null,fh=null,Xo=null;function Dm(){if(Xo)return Xo;var t,e=fh,n=e.length,r,s="value"in An?An.value:An.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===s[o-r];r++);return Xo=s.slice(t,1<r?1-r:void 0)}function Jo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zo(){return!0}function rp(){return!1}function Et(t){function e(n,r,s,o,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?zo:rp,this.isPropagationStopped=rp,this}return Pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zo)},persist:function(){},isPersistent:zo}),e}var Er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ph=Et(Er),qs=Pe({},Er,{view:0,detail:0}),xC=Et(qs),au,lu,$r,Qa=Pe({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_h,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$r&&($r&&t.type==="mousemove"?(au=t.screenX-$r.screenX,lu=t.screenY-$r.screenY):lu=au=0,$r=t),au)},movementY:function(t){return"movementY"in t?t.movementY:lu}}),sp=Et(Qa),LC=Pe({},Qa,{dataTransfer:0}),PC=Et(LC),kC=Pe({},qs,{relatedTarget:0}),uu=Et(kC),TC=Pe({},Er,{animationName:0,elapsedTime:0,pseudoElement:0}),IC=Et(TC),MC=Pe({},Er,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),NC=Et(MC),OC=Pe({},Er,{data:0}),op=Et(OC),AC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=bC[t])?!!e[t]:!1}function _h(){return DC}var zC=Pe({},qs,{key:function(t){if(t.key){var e=AC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?RC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_h,charCode:function(t){return t.type==="keypress"?Jo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BC=Et(zC),FC=Pe({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ap=Et(FC),UC=Pe({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_h}),HC=Et(UC),ZC=Pe({},Er,{propertyName:0,elapsedTime:0,pseudoElement:0}),WC=Et(ZC),jC=Pe({},Qa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),VC=Et(jC),GC=[9,13,27,32],mh=_n&&"CompositionEvent"in window,as=null;_n&&"documentMode"in document&&(as=document.documentMode);var $C=_n&&"TextEvent"in window&&!as,zm=_n&&(!mh||as&&8<as&&11>=as),lp=" ",up=!1;function Bm(t,e){switch(t){case"keyup":return GC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wi=!1;function KC(t,e){switch(t){case"compositionend":return Fm(e);case"keypress":return e.which!==32?null:(up=!0,lp);case"textInput":return t=e.data,t===lp&&up?null:t;default:return null}}function qC(t,e){if(Wi)return t==="compositionend"||!mh&&Bm(t,e)?(t=Dm(),Xo=fh=An=null,Wi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zm&&e.locale!=="ko"?null:e.data;default:return null}}var YC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!YC[t.type]:e==="textarea"}function Um(t,e,n,r){gm(r),e=_a(e,"onChange"),0<e.length&&(n=new ph("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ls=null,Ls=null;function QC(t){Qm(t,0)}function Xa(t){var e=Gi(t);if(cm(e))return t}function XC(t,e){if(t==="change")return e}var Hm=!1;if(_n){var cu;if(_n){var hu="oninput"in document;if(!hu){var hp=document.createElement("div");hp.setAttribute("oninput","return;"),hu=typeof hp.oninput=="function"}cu=hu}else cu=!1;Hm=cu&&(!document.documentMode||9<document.documentMode)}function dp(){ls&&(ls.detachEvent("onpropertychange",Zm),Ls=ls=null)}function Zm(t){if(t.propertyName==="value"&&Xa(Ls)){var e=[];Um(e,Ls,t,lh(t)),Cm(QC,e)}}function JC(t,e,n){t==="focusin"?(dp(),ls=e,Ls=n,ls.attachEvent("onpropertychange",Zm)):t==="focusout"&&dp()}function eS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xa(Ls)}function tS(t,e){if(t==="click")return Xa(e)}function nS(t,e){if(t==="input"||t==="change")return Xa(e)}function iS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gt=typeof Object.is=="function"?Object.is:iS;function Ps(t,e){if(Gt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Fu.call(e,s)||!Gt(t[s],e[s]))return!1}return!0}function fp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pp(t,e){var n=fp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fp(n)}}function Wm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Wm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jm(){for(var t=window,e=la();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=la(t.document)}return e}function gh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function rS(t){var e=jm(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Wm(n.ownerDocument.documentElement,n)){if(r!==null&&gh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=pp(n,o);var l=pp(n,r);s&&l&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sS=_n&&"documentMode"in document&&11>=document.documentMode,ji=null,rc=null,us=null,sc=!1;function _p(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sc||ji==null||ji!==la(r)||(r=ji,"selectionStart"in r&&gh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),us&&Ps(us,r)||(us=r,r=_a(rc,"onSelect"),0<r.length&&(e=new ph("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ji)))}function Bo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vi={animationend:Bo("Animation","AnimationEnd"),animationiteration:Bo("Animation","AnimationIteration"),animationstart:Bo("Animation","AnimationStart"),transitionend:Bo("Transition","TransitionEnd")},du={},Vm={};_n&&(Vm=document.createElement("div").style,"AnimationEvent"in window||(delete Vi.animationend.animation,delete Vi.animationiteration.animation,delete Vi.animationstart.animation),"TransitionEvent"in window||delete Vi.transitionend.transition);function Ja(t){if(du[t])return du[t];if(!Vi[t])return t;var e=Vi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Vm)return du[t]=e[n];return t}var Gm=Ja("animationend"),$m=Ja("animationiteration"),Km=Ja("animationstart"),qm=Ja("transitionend"),Ym=new Map,mp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jn(t,e){Ym.set(t,e),ki(e,[t])}for(var fu=0;fu<mp.length;fu++){var pu=mp[fu],oS=pu.toLowerCase(),aS=pu[0].toUpperCase()+pu.slice(1);Jn(oS,"on"+aS)}Jn(Gm,"onAnimationEnd");Jn($m,"onAnimationIteration");Jn(Km,"onAnimationStart");Jn("dblclick","onDoubleClick");Jn("focusin","onFocus");Jn("focusout","onBlur");Jn(qm,"onTransitionEnd");hr("onMouseEnter",["mouseout","mouseover"]);hr("onMouseLeave",["mouseout","mouseover"]);hr("onPointerEnter",["pointerout","pointerover"]);hr("onPointerLeave",["pointerout","pointerover"]);ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ki("onBeforeInput",["compositionend","keypress","textInput","paste"]);ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lS=new Set("cancel close invalid load scroll toggle".split(" ").concat(rs));function gp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,oC(r,e,void 0,t),t.currentTarget=null}function Qm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var l=r.length-1;0<=l;l--){var c=r[l],h=c.instance,f=c.currentTarget;if(c=c.listener,h!==o&&s.isPropagationStopped())break e;gp(s,c,f),o=h}else for(l=0;l<r.length;l++){if(c=r[l],h=c.instance,f=c.currentTarget,c=c.listener,h!==o&&s.isPropagationStopped())break e;gp(s,c,f),o=h}}}if(ca)throw t=ec,ca=!1,ec=null,t}function ye(t,e){var n=e[cc];n===void 0&&(n=e[cc]=new Set);var r=t+"__bubble";n.has(r)||(Xm(e,t,2,!1),n.add(r))}function _u(t,e,n){var r=0;e&&(r|=4),Xm(n,t,r,e)}var Fo="_reactListening"+Math.random().toString(36).slice(2);function ks(t){if(!t[Fo]){t[Fo]=!0,sm.forEach(function(n){n!=="selectionchange"&&(lS.has(n)||_u(n,!1,t),_u(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fo]||(e[Fo]=!0,_u("selectionchange",!1,e))}}function Xm(t,e,n,r){switch(bm(e)){case 1:var s=SC;break;case 4:s=EC;break;default:s=dh}n=s.bind(null,e,n,t),s=void 0,!Ju||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function mu(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var c=r.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var h=l.tag;if((h===3||h===4)&&(h=l.stateNode.containerInfo,h===s||h.nodeType===8&&h.parentNode===s))return;l=l.return}for(;c!==null;){if(l=fi(c),l===null)return;if(h=l.tag,h===5||h===6){r=o=l;continue e}c=c.parentNode}}r=r.return}Cm(function(){var f=o,g=lh(n),_=[];e:{var v=Ym.get(t);if(v!==void 0){var y=ph,x=t;switch(t){case"keypress":if(Jo(n)===0)break e;case"keydown":case"keyup":y=BC;break;case"focusin":x="focus",y=uu;break;case"focusout":x="blur",y=uu;break;case"beforeblur":case"afterblur":y=uu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=sp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=PC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=HC;break;case Gm:case $m:case Km:y=IC;break;case qm:y=WC;break;case"scroll":y=xC;break;case"wheel":y=VC;break;case"copy":case"cut":case"paste":y=NC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=ap}var P=(e&4)!==0,D=!P&&t==="scroll",S=P?v!==null?v+"Capture":null:v;P=[];for(var w=f,E;w!==null;){E=w;var M=E.stateNode;if(E.tag===5&&M!==null&&(E=M,S!==null&&(M=Cs(w,S),M!=null&&P.push(Ts(w,M,E)))),D)break;w=w.return}0<P.length&&(v=new y(v,x,null,n,g),_.push({event:v,listeners:P}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",v&&n!==Qu&&(x=n.relatedTarget||n.fromElement)&&(fi(x)||x[mn]))break e;if((y||v)&&(v=g.window===g?g:(v=g.ownerDocument)?v.defaultView||v.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=f,x=x?fi(x):null,x!==null&&(D=Ti(x),x!==D||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=f),y!==x)){if(P=sp,M="onMouseLeave",S="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(P=ap,M="onPointerLeave",S="onPointerEnter",w="pointer"),D=y==null?v:Gi(y),E=x==null?v:Gi(x),v=new P(M,w+"leave",y,n,g),v.target=D,v.relatedTarget=E,M=null,fi(g)===f&&(P=new P(S,w+"enter",x,n,g),P.target=E,P.relatedTarget=D,M=P),D=M,y&&x)t:{for(P=y,S=x,w=0,E=P;E;E=Fi(E))w++;for(E=0,M=S;M;M=Fi(M))E++;for(;0<w-E;)P=Fi(P),w--;for(;0<E-w;)S=Fi(S),E--;for(;w--;){if(P===S||S!==null&&P===S.alternate)break t;P=Fi(P),S=Fi(S)}P=null}else P=null;y!==null&&vp(_,v,y,P,!1),x!==null&&D!==null&&vp(_,D,x,P,!0)}}e:{if(v=f?Gi(f):window,y=v.nodeName&&v.nodeName.toLowerCase(),y==="select"||y==="input"&&v.type==="file")var b=XC;else if(cp(v))if(Hm)b=nS;else{b=eS;var F=JC}else(y=v.nodeName)&&y.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(b=tS);if(b&&(b=b(t,f))){Um(_,b,n,g);break e}F&&F(t,v,f),t==="focusout"&&(F=v._wrapperState)&&F.controlled&&v.type==="number"&&Gu(v,"number",v.value)}switch(F=f?Gi(f):window,t){case"focusin":(cp(F)||F.contentEditable==="true")&&(ji=F,rc=f,us=null);break;case"focusout":us=rc=ji=null;break;case"mousedown":sc=!0;break;case"contextmenu":case"mouseup":case"dragend":sc=!1,_p(_,n,g);break;case"selectionchange":if(sS)break;case"keydown":case"keyup":_p(_,n,g)}var U;if(mh)e:{switch(t){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else Wi?Bm(t,n)&&(H="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(H="onCompositionStart");H&&(zm&&n.locale!=="ko"&&(Wi||H!=="onCompositionStart"?H==="onCompositionEnd"&&Wi&&(U=Dm()):(An=g,fh="value"in An?An.value:An.textContent,Wi=!0)),F=_a(f,H),0<F.length&&(H=new op(H,t,null,n,g),_.push({event:H,listeners:F}),U?H.data=U:(U=Fm(n),U!==null&&(H.data=U)))),(U=$C?KC(t,n):qC(t,n))&&(f=_a(f,"onBeforeInput"),0<f.length&&(g=new op("onBeforeInput","beforeinput",null,n,g),_.push({event:g,listeners:f}),g.data=U))}Qm(_,e)})}function Ts(t,e,n){return{instance:t,listener:e,currentTarget:n}}function _a(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Cs(t,n),o!=null&&r.unshift(Ts(t,o,s)),o=Cs(t,e),o!=null&&r.push(Ts(t,o,s))),t=t.return}return r}function Fi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function vp(t,e,n,r,s){for(var o=e._reactName,l=[];n!==null&&n!==r;){var c=n,h=c.alternate,f=c.stateNode;if(h!==null&&h===r)break;c.tag===5&&f!==null&&(c=f,s?(h=Cs(n,o),h!=null&&l.unshift(Ts(n,h,c))):s||(h=Cs(n,o),h!=null&&l.push(Ts(n,h,c)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var uS=/\r\n?/g,cS=/\u0000|\uFFFD/g;function yp(t){return(typeof t=="string"?t:""+t).replace(uS,`
`).replace(cS,"")}function Uo(t,e,n){if(e=yp(e),yp(t)!==e&&n)throw Error(O(425))}function ma(){}var oc=null,ac=null;function lc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var uc=typeof setTimeout=="function"?setTimeout:void 0,hS=typeof clearTimeout=="function"?clearTimeout:void 0,wp=typeof Promise=="function"?Promise:void 0,dS=typeof queueMicrotask=="function"?queueMicrotask:typeof wp<"u"?function(t){return wp.resolve(null).then(t).catch(fS)}:uc;function fS(t){setTimeout(function(){throw t})}function gu(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),xs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);xs(e)}function Bn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Cp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xr=Math.random().toString(36).slice(2),Jt="__reactFiber$"+xr,Is="__reactProps$"+xr,mn="__reactContainer$"+xr,cc="__reactEvents$"+xr,pS="__reactListeners$"+xr,_S="__reactHandles$"+xr;function fi(t){var e=t[Jt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mn]||n[Jt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Cp(t);t!==null;){if(n=t[Jt])return n;t=Cp(t)}return e}t=n,n=t.parentNode}return null}function Ys(t){return t=t[Jt]||t[mn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function el(t){return t[Is]||null}var hc=[],$i=-1;function ei(t){return{current:t}}function Ce(t){0>$i||(t.current=hc[$i],hc[$i]=null,$i--)}function ge(t,e){$i++,hc[$i]=t.current,t.current=e}var qn={},tt=ei(qn),ft=ei(!1),yi=qn;function dr(t,e){var n=t.type.contextTypes;if(!n)return qn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function pt(t){return t=t.childContextTypes,t!=null}function ga(){Ce(ft),Ce(tt)}function Sp(t,e,n){if(tt.current!==qn)throw Error(O(168));ge(tt,e),ge(ft,n)}function Jm(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(O(108,J0(t)||"Unknown",s));return Pe({},n,r)}function va(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qn,yi=tt.current,ge(tt,t),ge(ft,ft.current),!0}function Ep(t,e,n){var r=t.stateNode;if(!r)throw Error(O(169));n?(t=Jm(t,e,yi),r.__reactInternalMemoizedMergedChildContext=t,Ce(ft),Ce(tt),ge(tt,t)):Ce(ft),ge(ft,n)}var un=null,tl=!1,vu=!1;function eg(t){un===null?un=[t]:un.push(t)}function mS(t){tl=!0,eg(t)}function ti(){if(!vu&&un!==null){vu=!0;var t=0,e=ue;try{var n=un;for(ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}un=null,tl=!1}catch(s){throw un!==null&&(un=un.slice(t+1)),Lm(uh,ti),s}finally{ue=e,vu=!1}}return null}var Ki=[],qi=0,ya=null,wa=0,Tt=[],It=0,wi=null,cn=1,hn="";function ui(t,e){Ki[qi++]=wa,Ki[qi++]=ya,ya=t,wa=e}function tg(t,e,n){Tt[It++]=cn,Tt[It++]=hn,Tt[It++]=wi,wi=t;var r=cn;t=hn;var s=32-Wt(r)-1;r&=~(1<<s),n+=1;var o=32-Wt(e)+s;if(30<o){var l=s-s%5;o=(r&(1<<l)-1).toString(32),r>>=l,s-=l,cn=1<<32-Wt(e)+s|n<<s|r,hn=o+t}else cn=1<<o|n<<s|r,hn=t}function vh(t){t.return!==null&&(ui(t,1),tg(t,1,0))}function yh(t){for(;t===ya;)ya=Ki[--qi],Ki[qi]=null,wa=Ki[--qi],Ki[qi]=null;for(;t===wi;)wi=Tt[--It],Tt[It]=null,hn=Tt[--It],Tt[It]=null,cn=Tt[--It],Tt[It]=null}var yt=null,vt=null,Se=!1,Ft=null;function ng(t,e){var n=Mt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function xp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yt=t,vt=Bn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yt=t,vt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=wi!==null?{id:cn,overflow:hn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yt=t,vt=null,!0):!1;default:return!1}}function dc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fc(t){if(Se){var e=vt;if(e){var n=e;if(!xp(t,e)){if(dc(t))throw Error(O(418));e=Bn(n.nextSibling);var r=yt;e&&xp(t,e)?ng(r,n):(t.flags=t.flags&-4097|2,Se=!1,yt=t)}}else{if(dc(t))throw Error(O(418));t.flags=t.flags&-4097|2,Se=!1,yt=t}}}function Lp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yt=t}function Ho(t){if(t!==yt)return!1;if(!Se)return Lp(t),Se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!lc(t.type,t.memoizedProps)),e&&(e=vt)){if(dc(t))throw ig(),Error(O(418));for(;e;)ng(t,e),e=Bn(e.nextSibling)}if(Lp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vt=Bn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vt=null}}else vt=yt?Bn(t.stateNode.nextSibling):null;return!0}function ig(){for(var t=vt;t;)t=Bn(t.nextSibling)}function fr(){vt=yt=null,Se=!1}function wh(t){Ft===null?Ft=[t]:Ft.push(t)}var gS=Cn.ReactCurrentBatchConfig;function Kr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var c=s.refs;l===null?delete c[o]:c[o]=l},e._stringRef=o,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function Zo(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Pp(t){var e=t._init;return e(t._payload)}function rg(t){function e(S,w){if(t){var E=S.deletions;E===null?(S.deletions=[w],S.flags|=16):E.push(w)}}function n(S,w){if(!t)return null;for(;w!==null;)e(S,w),w=w.sibling;return null}function r(S,w){for(S=new Map;w!==null;)w.key!==null?S.set(w.key,w):S.set(w.index,w),w=w.sibling;return S}function s(S,w){return S=Zn(S,w),S.index=0,S.sibling=null,S}function o(S,w,E){return S.index=E,t?(E=S.alternate,E!==null?(E=E.index,E<w?(S.flags|=2,w):E):(S.flags|=2,w)):(S.flags|=1048576,w)}function l(S){return t&&S.alternate===null&&(S.flags|=2),S}function c(S,w,E,M){return w===null||w.tag!==6?(w=Lu(E,S.mode,M),w.return=S,w):(w=s(w,E),w.return=S,w)}function h(S,w,E,M){var b=E.type;return b===Zi?g(S,w,E.props.children,M,E.key):w!==null&&(w.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===In&&Pp(b)===w.type)?(M=s(w,E.props),M.ref=Kr(S,w,E),M.return=S,M):(M=oa(E.type,E.key,E.props,null,S.mode,M),M.ref=Kr(S,w,E),M.return=S,M)}function f(S,w,E,M){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=Pu(E,S.mode,M),w.return=S,w):(w=s(w,E.children||[]),w.return=S,w)}function g(S,w,E,M,b){return w===null||w.tag!==7?(w=vi(E,S.mode,M,b),w.return=S,w):(w=s(w,E),w.return=S,w)}function _(S,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Lu(""+w,S.mode,E),w.return=S,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case No:return E=oa(w.type,w.key,w.props,null,S.mode,E),E.ref=Kr(S,null,w),E.return=S,E;case Hi:return w=Pu(w,S.mode,E),w.return=S,w;case In:var M=w._init;return _(S,M(w._payload),E)}if(ns(w)||Wr(w))return w=vi(w,S.mode,E,null),w.return=S,w;Zo(S,w)}return null}function v(S,w,E,M){var b=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return b!==null?null:c(S,w,""+E,M);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case No:return E.key===b?h(S,w,E,M):null;case Hi:return E.key===b?f(S,w,E,M):null;case In:return b=E._init,v(S,w,b(E._payload),M)}if(ns(E)||Wr(E))return b!==null?null:g(S,w,E,M,null);Zo(S,E)}return null}function y(S,w,E,M,b){if(typeof M=="string"&&M!==""||typeof M=="number")return S=S.get(E)||null,c(w,S,""+M,b);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case No:return S=S.get(M.key===null?E:M.key)||null,h(w,S,M,b);case Hi:return S=S.get(M.key===null?E:M.key)||null,f(w,S,M,b);case In:var F=M._init;return y(S,w,E,F(M._payload),b)}if(ns(M)||Wr(M))return S=S.get(E)||null,g(w,S,M,b,null);Zo(w,M)}return null}function x(S,w,E,M){for(var b=null,F=null,U=w,H=w=0,ve=null;U!==null&&H<E.length;H++){U.index>H?(ve=U,U=null):ve=U.sibling;var Q=v(S,U,E[H],M);if(Q===null){U===null&&(U=ve);break}t&&U&&Q.alternate===null&&e(S,U),w=o(Q,w,H),F===null?b=Q:F.sibling=Q,F=Q,U=ve}if(H===E.length)return n(S,U),Se&&ui(S,H),b;if(U===null){for(;H<E.length;H++)U=_(S,E[H],M),U!==null&&(w=o(U,w,H),F===null?b=U:F.sibling=U,F=U);return Se&&ui(S,H),b}for(U=r(S,U);H<E.length;H++)ve=y(U,S,H,E[H],M),ve!==null&&(t&&ve.alternate!==null&&U.delete(ve.key===null?H:ve.key),w=o(ve,w,H),F===null?b=ve:F.sibling=ve,F=ve);return t&&U.forEach(function(de){return e(S,de)}),Se&&ui(S,H),b}function P(S,w,E,M){var b=Wr(E);if(typeof b!="function")throw Error(O(150));if(E=b.call(E),E==null)throw Error(O(151));for(var F=b=null,U=w,H=w=0,ve=null,Q=E.next();U!==null&&!Q.done;H++,Q=E.next()){U.index>H?(ve=U,U=null):ve=U.sibling;var de=v(S,U,Q.value,M);if(de===null){U===null&&(U=ve);break}t&&U&&de.alternate===null&&e(S,U),w=o(de,w,H),F===null?b=de:F.sibling=de,F=de,U=ve}if(Q.done)return n(S,U),Se&&ui(S,H),b;if(U===null){for(;!Q.done;H++,Q=E.next())Q=_(S,Q.value,M),Q!==null&&(w=o(Q,w,H),F===null?b=Q:F.sibling=Q,F=Q);return Se&&ui(S,H),b}for(U=r(S,U);!Q.done;H++,Q=E.next())Q=y(U,S,H,Q.value,M),Q!==null&&(t&&Q.alternate!==null&&U.delete(Q.key===null?H:Q.key),w=o(Q,w,H),F===null?b=Q:F.sibling=Q,F=Q);return t&&U.forEach(function(Fe){return e(S,Fe)}),Se&&ui(S,H),b}function D(S,w,E,M){if(typeof E=="object"&&E!==null&&E.type===Zi&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case No:e:{for(var b=E.key,F=w;F!==null;){if(F.key===b){if(b=E.type,b===Zi){if(F.tag===7){n(S,F.sibling),w=s(F,E.props.children),w.return=S,S=w;break e}}else if(F.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===In&&Pp(b)===F.type){n(S,F.sibling),w=s(F,E.props),w.ref=Kr(S,F,E),w.return=S,S=w;break e}n(S,F);break}else e(S,F);F=F.sibling}E.type===Zi?(w=vi(E.props.children,S.mode,M,E.key),w.return=S,S=w):(M=oa(E.type,E.key,E.props,null,S.mode,M),M.ref=Kr(S,w,E),M.return=S,S=M)}return l(S);case Hi:e:{for(F=E.key;w!==null;){if(w.key===F)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){n(S,w.sibling),w=s(w,E.children||[]),w.return=S,S=w;break e}else{n(S,w);break}else e(S,w);w=w.sibling}w=Pu(E,S.mode,M),w.return=S,S=w}return l(S);case In:return F=E._init,D(S,w,F(E._payload),M)}if(ns(E))return x(S,w,E,M);if(Wr(E))return P(S,w,E,M);Zo(S,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(n(S,w.sibling),w=s(w,E),w.return=S,S=w):(n(S,w),w=Lu(E,S.mode,M),w.return=S,S=w),l(S)):n(S,w)}return D}var pr=rg(!0),sg=rg(!1),Ca=ei(null),Sa=null,Yi=null,Ch=null;function Sh(){Ch=Yi=Sa=null}function Eh(t){var e=Ca.current;Ce(Ca),t._currentValue=e}function pc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function or(t,e){Sa=t,Ch=Yi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ht=!0),t.firstContext=null)}function Ot(t){var e=t._currentValue;if(Ch!==t)if(t={context:t,memoizedValue:e,next:null},Yi===null){if(Sa===null)throw Error(O(308));Yi=t,Sa.dependencies={lanes:0,firstContext:t}}else Yi=Yi.next=t;return e}var pi=null;function xh(t){pi===null?pi=[t]:pi.push(t)}function og(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,xh(e)):(n.next=s.next,s.next=n),e.interleaved=n,gn(t,r)}function gn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Mn=!1;function Lh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ag(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,gn(t,n)}return s=r.interleaved,s===null?(e.next=e,xh(r)):(e.next=s.next,s.next=e),r.interleaved=e,gn(t,n)}function ea(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ch(t,n)}}function kp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ea(t,e,n,r){var s=t.updateQueue;Mn=!1;var o=s.firstBaseUpdate,l=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var h=c,f=h.next;h.next=null,l===null?o=f:l.next=f,l=h;var g=t.alternate;g!==null&&(g=g.updateQueue,c=g.lastBaseUpdate,c!==l&&(c===null?g.firstBaseUpdate=f:c.next=f,g.lastBaseUpdate=h))}if(o!==null){var _=s.baseState;l=0,g=f=h=null,c=o;do{var v=c.lane,y=c.eventTime;if((r&v)===v){g!==null&&(g=g.next={eventTime:y,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var x=t,P=c;switch(v=e,y=n,P.tag){case 1:if(x=P.payload,typeof x=="function"){_=x.call(y,_,v);break e}_=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=P.payload,v=typeof x=="function"?x.call(y,_,v):x,v==null)break e;_=Pe({},_,v);break e;case 2:Mn=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,v=s.effects,v===null?s.effects=[c]:v.push(c))}else y={eventTime:y,lane:v,tag:c.tag,payload:c.payload,callback:c.callback,next:null},g===null?(f=g=y,h=_):g=g.next=y,l|=v;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;v=c,c=v.next,v.next=null,s.lastBaseUpdate=v,s.shared.pending=null}}while(!0);if(g===null&&(h=_),s.baseState=h,s.firstBaseUpdate=f,s.lastBaseUpdate=g,e=s.shared.interleaved,e!==null){s=e;do l|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Si|=l,t.lanes=l,t.memoizedState=_}}function Tp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(O(191,s));s.call(r)}}}var Qs={},tn=ei(Qs),Ms=ei(Qs),Ns=ei(Qs);function _i(t){if(t===Qs)throw Error(O(174));return t}function Ph(t,e){switch(ge(Ns,e),ge(Ms,t),ge(tn,Qs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ku(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ku(e,t)}Ce(tn),ge(tn,e)}function _r(){Ce(tn),Ce(Ms),Ce(Ns)}function lg(t){_i(Ns.current);var e=_i(tn.current),n=Ku(e,t.type);e!==n&&(ge(Ms,t),ge(tn,n))}function kh(t){Ms.current===t&&(Ce(tn),Ce(Ms))}var xe=ei(0);function xa(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yu=[];function Th(){for(var t=0;t<yu.length;t++)yu[t]._workInProgressVersionPrimary=null;yu.length=0}var ta=Cn.ReactCurrentDispatcher,wu=Cn.ReactCurrentBatchConfig,Ci=0,Le=null,be=null,Ze=null,La=!1,cs=!1,Os=0,vS=0;function Qe(){throw Error(O(321))}function Ih(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gt(t[n],e[n]))return!1;return!0}function Mh(t,e,n,r,s,o){if(Ci=o,Le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ta.current=t===null||t.memoizedState===null?SS:ES,t=n(r,s),cs){o=0;do{if(cs=!1,Os=0,25<=o)throw Error(O(301));o+=1,Ze=be=null,e.updateQueue=null,ta.current=xS,t=n(r,s)}while(cs)}if(ta.current=Pa,e=be!==null&&be.next!==null,Ci=0,Ze=be=Le=null,La=!1,e)throw Error(O(300));return t}function Nh(){var t=Os!==0;return Os=0,t}function Xt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Le.memoizedState=Ze=t:Ze=Ze.next=t,Ze}function At(){if(be===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=be.next;var e=Ze===null?Le.memoizedState:Ze.next;if(e!==null)Ze=e,be=t;else{if(t===null)throw Error(O(310));be=t,t={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Ze===null?Le.memoizedState=Ze=t:Ze=Ze.next=t}return Ze}function As(t,e){return typeof e=="function"?e(t):e}function Cu(t){var e=At(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=be,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var l=s.next;s.next=o.next,o.next=l}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var c=l=null,h=null,f=o;do{var g=f.lane;if((Ci&g)===g)h!==null&&(h=h.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:t(r,f.action);else{var _={lane:g,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};h===null?(c=h=_,l=r):h=h.next=_,Le.lanes|=g,Si|=g}f=f.next}while(f!==null&&f!==o);h===null?l=r:h.next=c,Gt(r,e.memoizedState)||(ht=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=h,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,Le.lanes|=o,Si|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Su(t){var e=At(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do o=t(o,l.action),l=l.next;while(l!==s);Gt(o,e.memoizedState)||(ht=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function ug(){}function cg(t,e){var n=Le,r=At(),s=e(),o=!Gt(r.memoizedState,s);if(o&&(r.memoizedState=s,ht=!0),r=r.queue,Oh(fg.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ze!==null&&Ze.memoizedState.tag&1){if(n.flags|=2048,Rs(9,dg.bind(null,n,r,s,e),void 0,null),je===null)throw Error(O(349));Ci&30||hg(n,e,s)}return s}function hg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function dg(t,e,n,r){e.value=n,e.getSnapshot=r,pg(e)&&_g(t)}function fg(t,e,n){return n(function(){pg(e)&&_g(t)})}function pg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gt(t,n)}catch{return!0}}function _g(t){var e=gn(t,1);e!==null&&jt(e,t,1,-1)}function Ip(t){var e=Xt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:t},e.queue=t,t=t.dispatch=CS.bind(null,Le,t),[e.memoizedState,t]}function Rs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function mg(){return At().memoizedState}function na(t,e,n,r){var s=Xt();Le.flags|=t,s.memoizedState=Rs(1|e,n,void 0,r===void 0?null:r)}function nl(t,e,n,r){var s=At();r=r===void 0?null:r;var o=void 0;if(be!==null){var l=be.memoizedState;if(o=l.destroy,r!==null&&Ih(r,l.deps)){s.memoizedState=Rs(e,n,o,r);return}}Le.flags|=t,s.memoizedState=Rs(1|e,n,o,r)}function Mp(t,e){return na(8390656,8,t,e)}function Oh(t,e){return nl(2048,8,t,e)}function gg(t,e){return nl(4,2,t,e)}function vg(t,e){return nl(4,4,t,e)}function yg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wg(t,e,n){return n=n!=null?n.concat([t]):null,nl(4,4,yg.bind(null,e,t),n)}function Ah(){}function Cg(t,e){var n=At();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ih(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Sg(t,e){var n=At();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ih(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Eg(t,e,n){return Ci&21?(Gt(n,e)||(n=Tm(),Le.lanes|=n,Si|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ht=!0),t.memoizedState=n)}function yS(t,e){var n=ue;ue=n!==0&&4>n?n:4,t(!0);var r=wu.transition;wu.transition={};try{t(!1),e()}finally{ue=n,wu.transition=r}}function xg(){return At().memoizedState}function wS(t,e,n){var r=Hn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Lg(t))Pg(e,n);else if(n=og(t,e,n,r),n!==null){var s=st();jt(n,t,r,s),kg(n,e,r)}}function CS(t,e,n){var r=Hn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Lg(t))Pg(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,c=o(l,n);if(s.hasEagerState=!0,s.eagerState=c,Gt(c,l)){var h=e.interleaved;h===null?(s.next=s,xh(e)):(s.next=h.next,h.next=s),e.interleaved=s;return}}catch{}finally{}n=og(t,e,s,r),n!==null&&(s=st(),jt(n,t,r,s),kg(n,e,r))}}function Lg(t){var e=t.alternate;return t===Le||e!==null&&e===Le}function Pg(t,e){cs=La=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function kg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ch(t,n)}}var Pa={readContext:Ot,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},SS={readContext:Ot,useCallback:function(t,e){return Xt().memoizedState=[t,e===void 0?null:e],t},useContext:Ot,useEffect:Mp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,na(4194308,4,yg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return na(4194308,4,t,e)},useInsertionEffect:function(t,e){return na(4,2,t,e)},useMemo:function(t,e){var n=Xt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wS.bind(null,Le,t),[r.memoizedState,t]},useRef:function(t){var e=Xt();return t={current:t},e.memoizedState=t},useState:Ip,useDebugValue:Ah,useDeferredValue:function(t){return Xt().memoizedState=t},useTransition:function(){var t=Ip(!1),e=t[0];return t=yS.bind(null,t[1]),Xt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Le,s=Xt();if(Se){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),je===null)throw Error(O(349));Ci&30||hg(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,Mp(fg.bind(null,r,o,t),[t]),r.flags|=2048,Rs(9,dg.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Xt(),e=je.identifierPrefix;if(Se){var n=hn,r=cn;n=(r&~(1<<32-Wt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Os++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=vS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ES={readContext:Ot,useCallback:Cg,useContext:Ot,useEffect:Oh,useImperativeHandle:wg,useInsertionEffect:gg,useLayoutEffect:vg,useMemo:Sg,useReducer:Cu,useRef:mg,useState:function(){return Cu(As)},useDebugValue:Ah,useDeferredValue:function(t){var e=At();return Eg(e,be.memoizedState,t)},useTransition:function(){var t=Cu(As)[0],e=At().memoizedState;return[t,e]},useMutableSource:ug,useSyncExternalStore:cg,useId:xg,unstable_isNewReconciler:!1},xS={readContext:Ot,useCallback:Cg,useContext:Ot,useEffect:Oh,useImperativeHandle:wg,useInsertionEffect:gg,useLayoutEffect:vg,useMemo:Sg,useReducer:Su,useRef:mg,useState:function(){return Su(As)},useDebugValue:Ah,useDeferredValue:function(t){var e=At();return be===null?e.memoizedState=t:Eg(e,be.memoizedState,t)},useTransition:function(){var t=Su(As)[0],e=At().memoizedState;return[t,e]},useMutableSource:ug,useSyncExternalStore:cg,useId:xg,unstable_isNewReconciler:!1};function zt(t,e){if(t&&t.defaultProps){e=Pe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function _c(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var il={isMounted:function(t){return(t=t._reactInternals)?Ti(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=st(),s=Hn(t),o=fn(r,s);o.payload=e,n!=null&&(o.callback=n),e=Fn(t,o,s),e!==null&&(jt(e,t,s,r),ea(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=st(),s=Hn(t),o=fn(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Fn(t,o,s),e!==null&&(jt(e,t,s,r),ea(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=st(),r=Hn(t),s=fn(n,r);s.tag=2,e!=null&&(s.callback=e),e=Fn(t,s,r),e!==null&&(jt(e,t,r,n),ea(e,t,r))}};function Np(t,e,n,r,s,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,l):e.prototype&&e.prototype.isPureReactComponent?!Ps(n,r)||!Ps(s,o):!0}function Tg(t,e,n){var r=!1,s=qn,o=e.contextType;return typeof o=="object"&&o!==null?o=Ot(o):(s=pt(e)?yi:tt.current,r=e.contextTypes,o=(r=r!=null)?dr(t,s):qn),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=il,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function Op(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&il.enqueueReplaceState(e,e.state,null)}function mc(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Lh(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=Ot(o):(o=pt(e)?yi:tt.current,s.context=dr(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(_c(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&il.enqueueReplaceState(s,s.state,null),Ea(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function mr(t,e){try{var n="",r=e;do n+=X0(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Eu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function gc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var LS=typeof WeakMap=="function"?WeakMap:Map;function Ig(t,e,n){n=fn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ta||(Ta=!0,kc=r),gc(t,e)},n}function Mg(t,e,n){n=fn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){gc(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){gc(t,e),typeof r!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function Ap(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new LS;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=FS.bind(null,t,e,n),e.then(t,t))}function Rp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bp(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=fn(-1,1),e.tag=2,Fn(n,e,1))),n.lanes|=1),t)}var PS=Cn.ReactCurrentOwner,ht=!1;function it(t,e,n,r){e.child=t===null?sg(e,null,n,r):pr(e,t.child,n,r)}function Dp(t,e,n,r,s){n=n.render;var o=e.ref;return or(e,s),r=Mh(t,e,n,r,o,s),n=Nh(),t!==null&&!ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vn(t,e,s)):(Se&&n&&vh(e),e.flags|=1,it(t,e,r,s),e.child)}function zp(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!Hh(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Ng(t,e,o,r,s)):(t=oa(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ps,n(l,r)&&t.ref===e.ref)return vn(t,e,s)}return e.flags|=1,t=Zn(o,r),t.ref=e.ref,t.return=e,e.child=t}function Ng(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(Ps(o,r)&&t.ref===e.ref)if(ht=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(ht=!0);else return e.lanes=t.lanes,vn(t,e,s)}return vc(t,e,n,r,s)}function Og(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(Xi,gt),gt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ge(Xi,gt),gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ge(Xi,gt),gt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ge(Xi,gt),gt|=r;return it(t,e,s,n),e.child}function Ag(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function vc(t,e,n,r,s){var o=pt(n)?yi:tt.current;return o=dr(e,o),or(e,s),n=Mh(t,e,n,r,o,s),r=Nh(),t!==null&&!ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vn(t,e,s)):(Se&&r&&vh(e),e.flags|=1,it(t,e,n,s),e.child)}function Bp(t,e,n,r,s){if(pt(n)){var o=!0;va(e)}else o=!1;if(or(e,s),e.stateNode===null)ia(t,e),Tg(e,n,r),mc(e,n,r,s),r=!0;else if(t===null){var l=e.stateNode,c=e.memoizedProps;l.props=c;var h=l.context,f=n.contextType;typeof f=="object"&&f!==null?f=Ot(f):(f=pt(n)?yi:tt.current,f=dr(e,f));var g=n.getDerivedStateFromProps,_=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function";_||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==r||h!==f)&&Op(e,l,r,f),Mn=!1;var v=e.memoizedState;l.state=v,Ea(e,r,l,s),h=e.memoizedState,c!==r||v!==h||ft.current||Mn?(typeof g=="function"&&(_c(e,n,g,r),h=e.memoizedState),(c=Mn||Np(e,n,c,r,v,h,f))?(_||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=h),l.props=r,l.state=h,l.context=f,r=c):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,ag(t,e),c=e.memoizedProps,f=e.type===e.elementType?c:zt(e.type,c),l.props=f,_=e.pendingProps,v=l.context,h=n.contextType,typeof h=="object"&&h!==null?h=Ot(h):(h=pt(n)?yi:tt.current,h=dr(e,h));var y=n.getDerivedStateFromProps;(g=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==_||v!==h)&&Op(e,l,r,h),Mn=!1,v=e.memoizedState,l.state=v,Ea(e,r,l,s);var x=e.memoizedState;c!==_||v!==x||ft.current||Mn?(typeof y=="function"&&(_c(e,n,y,r),x=e.memoizedState),(f=Mn||Np(e,n,f,r,v,x,h)||!1)?(g||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,x,h),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,x,h)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),l.props=r,l.state=x,l.context=h,r=f):(typeof l.componentDidUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return yc(t,e,n,r,o,s)}function yc(t,e,n,r,s,o){Ag(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return s&&Ep(e,n,!1),vn(t,e,o);r=e.stateNode,PS.current=e;var c=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=pr(e,t.child,null,o),e.child=pr(e,null,c,o)):it(t,e,c,o),e.memoizedState=r.state,s&&Ep(e,n,!0),e.child}function Rg(t){var e=t.stateNode;e.pendingContext?Sp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Sp(t,e.context,!1),Ph(t,e.containerInfo)}function Fp(t,e,n,r,s){return fr(),wh(s),e.flags|=256,it(t,e,n,r),e.child}var wc={dehydrated:null,treeContext:null,retryLane:0};function Cc(t){return{baseLanes:t,cachePool:null,transitions:null}}function bg(t,e,n){var r=e.pendingProps,s=xe.current,o=!1,l=(e.flags&128)!==0,c;if((c=l)||(c=t!==null&&t.memoizedState===null?!1:(s&2)!==0),c?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ge(xe,s&1),t===null)return fc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,o?(r=e.mode,o=e.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=ol(l,r,0,null),t=vi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Cc(n),e.memoizedState=wc,t):Rh(e,l));if(s=t.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return kS(t,e,l,r,c,s,n);if(o){o=r.fallback,l=e.mode,s=t.child,c=s.sibling;var h={mode:"hidden",children:r.children};return!(l&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=h,e.deletions=null):(r=Zn(s,h),r.subtreeFlags=s.subtreeFlags&14680064),c!==null?o=Zn(c,o):(o=vi(o,l,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,l=t.child.memoizedState,l=l===null?Cc(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=wc,r}return o=t.child,t=o.sibling,r=Zn(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Rh(t,e){return e=ol({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wo(t,e,n,r){return r!==null&&wh(r),pr(e,t.child,null,n),t=Rh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kS(t,e,n,r,s,o,l){if(n)return e.flags&256?(e.flags&=-257,r=Eu(Error(O(422))),Wo(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=ol({mode:"visible",children:r.children},s,0,null),o=vi(o,s,l,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&pr(e,t.child,null,l),e.child.memoizedState=Cc(l),e.memoizedState=wc,o);if(!(e.mode&1))return Wo(t,e,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var c=r.dgst;return r=c,o=Error(O(419)),r=Eu(o,r,void 0),Wo(t,e,l,r)}if(c=(l&t.childLanes)!==0,ht||c){if(r=je,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,gn(t,s),jt(r,t,s,-1))}return Uh(),r=Eu(Error(O(421))),Wo(t,e,l,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=US.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,vt=Bn(s.nextSibling),yt=e,Se=!0,Ft=null,t!==null&&(Tt[It++]=cn,Tt[It++]=hn,Tt[It++]=wi,cn=t.id,hn=t.overflow,wi=e),e=Rh(e,r.children),e.flags|=4096,e)}function Up(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),pc(t.return,e,n)}function xu(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function Dg(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(it(t,e,r.children,n),r=xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Up(t,n,e);else if(t.tag===19)Up(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ge(xe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&xa(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),xu(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&xa(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}xu(e,!0,n,null,o);break;case"together":xu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ia(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Si|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=Zn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function TS(t,e,n){switch(e.tag){case 3:Rg(e),fr();break;case 5:lg(e);break;case 1:pt(e.type)&&va(e);break;case 4:Ph(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ge(Ca,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ge(xe,xe.current&1),e.flags|=128,null):n&e.child.childLanes?bg(t,e,n):(ge(xe,xe.current&1),t=vn(t,e,n),t!==null?t.sibling:null);ge(xe,xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Dg(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ge(xe,xe.current),r)break;return null;case 22:case 23:return e.lanes=0,Og(t,e,n)}return vn(t,e,n)}var zg,Sc,Bg,Fg;zg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sc=function(){};Bg=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,_i(tn.current);var o=null;switch(n){case"input":s=ju(t,s),r=ju(t,r),o=[];break;case"select":s=Pe({},s,{value:void 0}),r=Pe({},r,{value:void 0}),o=[];break;case"textarea":s=$u(t,s),r=$u(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ma)}qu(n,r);var l;n=null;for(f in s)if(!r.hasOwnProperty(f)&&s.hasOwnProperty(f)&&s[f]!=null)if(f==="style"){var c=s[f];for(l in c)c.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(ys.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in r){var h=r[f];if(c=s!=null?s[f]:void 0,r.hasOwnProperty(f)&&h!==c&&(h!=null||c!=null))if(f==="style")if(c){for(l in c)!c.hasOwnProperty(l)||h&&h.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in h)h.hasOwnProperty(l)&&c[l]!==h[l]&&(n||(n={}),n[l]=h[l])}else n||(o||(o=[]),o.push(f,n)),n=h;else f==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,c=c?c.__html:void 0,h!=null&&c!==h&&(o=o||[]).push(f,h)):f==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(f,""+h):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(ys.hasOwnProperty(f)?(h!=null&&f==="onScroll"&&ye("scroll",t),o||c===h||(o=[])):(o=o||[]).push(f,h))}n&&(o=o||[]).push("style",n);var f=o;(e.updateQueue=f)&&(e.flags|=4)}};Fg=function(t,e,n,r){n!==r&&(e.flags|=4)};function qr(t,e){if(!Se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function IS(t,e,n){var r=e.pendingProps;switch(yh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(e),null;case 1:return pt(e.type)&&ga(),Xe(e),null;case 3:return r=e.stateNode,_r(),Ce(ft),Ce(tt),Th(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ho(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ft!==null&&(Mc(Ft),Ft=null))),Sc(t,e),Xe(e),null;case 5:kh(e);var s=_i(Ns.current);if(n=e.type,t!==null&&e.stateNode!=null)Bg(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return Xe(e),null}if(t=_i(tn.current),Ho(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Jt]=e,r[Is]=o,t=(e.mode&1)!==0,n){case"dialog":ye("cancel",r),ye("close",r);break;case"iframe":case"object":case"embed":ye("load",r);break;case"video":case"audio":for(s=0;s<rs.length;s++)ye(rs[s],r);break;case"source":ye("error",r);break;case"img":case"image":case"link":ye("error",r),ye("load",r);break;case"details":ye("toggle",r);break;case"input":qf(r,o),ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ye("invalid",r);break;case"textarea":Qf(r,o),ye("invalid",r)}qu(n,o),s=null;for(var l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="children"?typeof c=="string"?r.textContent!==c&&(o.suppressHydrationWarning!==!0&&Uo(r.textContent,c,t),s=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&Uo(r.textContent,c,t),s=["children",""+c]):ys.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&ye("scroll",r)}switch(n){case"input":Oo(r),Yf(r,o,!0);break;case"textarea":Oo(r),Xf(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ma)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[Jt]=e,t[Is]=r,zg(t,e,!1,!1),e.stateNode=t;e:{switch(l=Yu(n,r),n){case"dialog":ye("cancel",t),ye("close",t),s=r;break;case"iframe":case"object":case"embed":ye("load",t),s=r;break;case"video":case"audio":for(s=0;s<rs.length;s++)ye(rs[s],t);s=r;break;case"source":ye("error",t),s=r;break;case"img":case"image":case"link":ye("error",t),ye("load",t),s=r;break;case"details":ye("toggle",t),s=r;break;case"input":qf(t,r),s=ju(t,r),ye("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Pe({},r,{value:void 0}),ye("invalid",t);break;case"textarea":Qf(t,r),s=$u(t,r),ye("invalid",t);break;default:s=r}qu(n,s),c=s;for(o in c)if(c.hasOwnProperty(o)){var h=c[o];o==="style"?mm(t,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&pm(t,h)):o==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&ws(t,h):typeof h=="number"&&ws(t,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ys.hasOwnProperty(o)?h!=null&&o==="onScroll"&&ye("scroll",t):h!=null&&rh(t,o,h,l))}switch(n){case"input":Oo(t),Yf(t,r,!1);break;case"textarea":Oo(t),Xf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Kn(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?nr(t,!!r.multiple,o,!1):r.defaultValue!=null&&nr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ma)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xe(e),null;case 6:if(t&&e.stateNode!=null)Fg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(n=_i(Ns.current),_i(tn.current),Ho(e)){if(r=e.stateNode,n=e.memoizedProps,r[Jt]=e,(o=r.nodeValue!==n)&&(t=yt,t!==null))switch(t.tag){case 3:Uo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Uo(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jt]=e,e.stateNode=r}return Xe(e),null;case 13:if(Ce(xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Se&&vt!==null&&e.mode&1&&!(e.flags&128))ig(),fr(),e.flags|=98560,o=!1;else if(o=Ho(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(O(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(O(317));o[Jt]=e}else fr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xe(e),o=!1}else Ft!==null&&(Mc(Ft),Ft=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||xe.current&1?Be===0&&(Be=3):Uh())),e.updateQueue!==null&&(e.flags|=4),Xe(e),null);case 4:return _r(),Sc(t,e),t===null&&ks(e.stateNode.containerInfo),Xe(e),null;case 10:return Eh(e.type._context),Xe(e),null;case 17:return pt(e.type)&&ga(),Xe(e),null;case 19:if(Ce(xe),o=e.memoizedState,o===null)return Xe(e),null;if(r=(e.flags&128)!==0,l=o.rendering,l===null)if(r)qr(o,!1);else{if(Be!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=xa(t),l!==null){for(e.flags|=128,qr(o,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ge(xe,xe.current&1|2),e.child}t=t.sibling}o.tail!==null&&Me()>gr&&(e.flags|=128,r=!0,qr(o,!1),e.lanes=4194304)}else{if(!r)if(t=xa(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),qr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!Se)return Xe(e),null}else 2*Me()-o.renderingStartTime>gr&&n!==1073741824&&(e.flags|=128,r=!0,qr(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(n=o.last,n!==null?n.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Me(),e.sibling=null,n=xe.current,ge(xe,r?n&1|2:n&1),e):(Xe(e),null);case 22:case 23:return Fh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gt&1073741824&&(Xe(e),e.subtreeFlags&6&&(e.flags|=8192)):Xe(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function MS(t,e){switch(yh(e),e.tag){case 1:return pt(e.type)&&ga(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _r(),Ce(ft),Ce(tt),Th(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return kh(e),null;case 13:if(Ce(xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));fr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ce(xe),null;case 4:return _r(),null;case 10:return Eh(e.type._context),null;case 22:case 23:return Fh(),null;case 24:return null;default:return null}}var jo=!1,Je=!1,NS=typeof WeakSet=="function"?WeakSet:Set,B=null;function Qi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(t,e,r)}else n.current=null}function Ec(t,e,n){try{n()}catch(r){ke(t,e,r)}}var Hp=!1;function OS(t,e){if(oc=fa,t=jm(),gh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,c=-1,h=-1,f=0,g=0,_=t,v=null;t:for(;;){for(var y;_!==n||s!==0&&_.nodeType!==3||(c=l+s),_!==o||r!==0&&_.nodeType!==3||(h=l+r),_.nodeType===3&&(l+=_.nodeValue.length),(y=_.firstChild)!==null;)v=_,_=y;for(;;){if(_===t)break t;if(v===n&&++f===s&&(c=l),v===o&&++g===r&&(h=l),(y=_.nextSibling)!==null)break;_=v,v=_.parentNode}_=y}n=c===-1||h===-1?null:{start:c,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(ac={focusedElem:t,selectionRange:n},fa=!1,B=e;B!==null;)if(e=B,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,B=t;else for(;B!==null;){e=B;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var P=x.memoizedProps,D=x.memoizedState,S=e.stateNode,w=S.getSnapshotBeforeUpdate(e.elementType===e.type?P:zt(e.type,P),D);S.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(M){ke(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,B=t;break}B=e.return}return x=Hp,Hp=!1,x}function hs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&Ec(e,n,o)}s=s.next}while(s!==r)}}function rl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function xc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ug(t){var e=t.alternate;e!==null&&(t.alternate=null,Ug(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jt],delete e[Is],delete e[cc],delete e[pS],delete e[_S])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Hg(t){return t.tag===5||t.tag===3||t.tag===4}function Zp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Hg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ma));else if(r!==4&&(t=t.child,t!==null))for(Lc(t,e,n),t=t.sibling;t!==null;)Lc(t,e,n),t=t.sibling}function Pc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Pc(t,e,n),t=t.sibling;t!==null;)Pc(t,e,n),t=t.sibling}var $e=null,Bt=!1;function Tn(t,e,n){for(n=n.child;n!==null;)Zg(t,e,n),n=n.sibling}function Zg(t,e,n){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Ya,n)}catch{}switch(n.tag){case 5:Je||Qi(n,e);case 6:var r=$e,s=Bt;$e=null,Tn(t,e,n),$e=r,Bt=s,$e!==null&&(Bt?(t=$e,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(Bt?(t=$e,n=n.stateNode,t.nodeType===8?gu(t.parentNode,n):t.nodeType===1&&gu(t,n),xs(t)):gu($e,n.stateNode));break;case 4:r=$e,s=Bt,$e=n.stateNode.containerInfo,Bt=!0,Tn(t,e,n),$e=r,Bt=s;break;case 0:case 11:case 14:case 15:if(!Je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Ec(n,e,l),s=s.next}while(s!==r)}Tn(t,e,n);break;case 1:if(!Je&&(Qi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){ke(n,e,c)}Tn(t,e,n);break;case 21:Tn(t,e,n);break;case 22:n.mode&1?(Je=(r=Je)||n.memoizedState!==null,Tn(t,e,n),Je=r):Tn(t,e,n);break;default:Tn(t,e,n)}}function Wp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new NS),e.forEach(function(r){var s=HS.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Dt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,l=e,c=l;e:for(;c!==null;){switch(c.tag){case 5:$e=c.stateNode,Bt=!1;break e;case 3:$e=c.stateNode.containerInfo,Bt=!0;break e;case 4:$e=c.stateNode.containerInfo,Bt=!0;break e}c=c.return}if($e===null)throw Error(O(160));Zg(o,l,s),$e=null,Bt=!1;var h=s.alternate;h!==null&&(h.return=null),s.return=null}catch(f){ke(s,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Wg(e,t),e=e.sibling}function Wg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dt(e,t),Qt(t),r&4){try{hs(3,t,t.return),rl(3,t)}catch(P){ke(t,t.return,P)}try{hs(5,t,t.return)}catch(P){ke(t,t.return,P)}}break;case 1:Dt(e,t),Qt(t),r&512&&n!==null&&Qi(n,n.return);break;case 5:if(Dt(e,t),Qt(t),r&512&&n!==null&&Qi(n,n.return),t.flags&32){var s=t.stateNode;try{ws(s,"")}catch(P){ke(t,t.return,P)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,l=n!==null?n.memoizedProps:o,c=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&hm(s,o),Yu(c,l);var f=Yu(c,o);for(l=0;l<h.length;l+=2){var g=h[l],_=h[l+1];g==="style"?mm(s,_):g==="dangerouslySetInnerHTML"?pm(s,_):g==="children"?ws(s,_):rh(s,g,_,f)}switch(c){case"input":Vu(s,o);break;case"textarea":dm(s,o);break;case"select":var v=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?nr(s,!!o.multiple,y,!1):v!==!!o.multiple&&(o.defaultValue!=null?nr(s,!!o.multiple,o.defaultValue,!0):nr(s,!!o.multiple,o.multiple?[]:"",!1))}s[Is]=o}catch(P){ke(t,t.return,P)}}break;case 6:if(Dt(e,t),Qt(t),r&4){if(t.stateNode===null)throw Error(O(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(P){ke(t,t.return,P)}}break;case 3:if(Dt(e,t),Qt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xs(e.containerInfo)}catch(P){ke(t,t.return,P)}break;case 4:Dt(e,t),Qt(t);break;case 13:Dt(e,t),Qt(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(zh=Me())),r&4&&Wp(t);break;case 22:if(g=n!==null&&n.memoizedState!==null,t.mode&1?(Je=(f=Je)||g,Dt(e,t),Je=f):Dt(e,t),Qt(t),r&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!g&&t.mode&1)for(B=t,g=t.child;g!==null;){for(_=B=g;B!==null;){switch(v=B,y=v.child,v.tag){case 0:case 11:case 14:case 15:hs(4,v,v.return);break;case 1:Qi(v,v.return);var x=v.stateNode;if(typeof x.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(P){ke(r,n,P)}}break;case 5:Qi(v,v.return);break;case 22:if(v.memoizedState!==null){Vp(_);continue}}y!==null?(y.return=v,B=y):Vp(_)}g=g.sibling}e:for(g=null,_=t;;){if(_.tag===5){if(g===null){g=_;try{s=_.stateNode,f?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=_.stateNode,h=_.memoizedProps.style,l=h!=null&&h.hasOwnProperty("display")?h.display:null,c.style.display=_m("display",l))}catch(P){ke(t,t.return,P)}}}else if(_.tag===6){if(g===null)try{_.stateNode.nodeValue=f?"":_.memoizedProps}catch(P){ke(t,t.return,P)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===t)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===t)break e;for(;_.sibling===null;){if(_.return===null||_.return===t)break e;g===_&&(g=null),_=_.return}g===_&&(g=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:Dt(e,t),Qt(t),r&4&&Wp(t);break;case 21:break;default:Dt(e,t),Qt(t)}}function Qt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Hg(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ws(s,""),r.flags&=-33);var o=Zp(t);Pc(t,o,s);break;case 3:case 4:var l=r.stateNode.containerInfo,c=Zp(t);Lc(t,c,l);break;default:throw Error(O(161))}}catch(h){ke(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function AS(t,e,n){B=t,jg(t)}function jg(t,e,n){for(var r=(t.mode&1)!==0;B!==null;){var s=B,o=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||jo;if(!l){var c=s.alternate,h=c!==null&&c.memoizedState!==null||Je;c=jo;var f=Je;if(jo=l,(Je=h)&&!f)for(B=s;B!==null;)l=B,h=l.child,l.tag===22&&l.memoizedState!==null?Gp(s):h!==null?(h.return=l,B=h):Gp(s);for(;o!==null;)B=o,jg(o),o=o.sibling;B=s,jo=c,Je=f}jp(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,B=o):jp(t)}}function jp(t){for(;B!==null;){var e=B;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Je||rl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Je)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:zt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Tp(e,o,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Tp(e,l,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var g=f.memoizedState;if(g!==null){var _=g.dehydrated;_!==null&&xs(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Je||e.flags&512&&xc(e)}catch(v){ke(e,e.return,v)}}if(e===t){B=null;break}if(n=e.sibling,n!==null){n.return=e.return,B=n;break}B=e.return}}function Vp(t){for(;B!==null;){var e=B;if(e===t){B=null;break}var n=e.sibling;if(n!==null){n.return=e.return,B=n;break}B=e.return}}function Gp(t){for(;B!==null;){var e=B;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rl(4,e)}catch(h){ke(e,n,h)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(h){ke(e,s,h)}}var o=e.return;try{xc(e)}catch(h){ke(e,o,h)}break;case 5:var l=e.return;try{xc(e)}catch(h){ke(e,l,h)}}}catch(h){ke(e,e.return,h)}if(e===t){B=null;break}var c=e.sibling;if(c!==null){c.return=e.return,B=c;break}B=e.return}}var RS=Math.ceil,ka=Cn.ReactCurrentDispatcher,bh=Cn.ReactCurrentOwner,Nt=Cn.ReactCurrentBatchConfig,se=0,je=null,Ae=null,qe=0,gt=0,Xi=ei(0),Be=0,bs=null,Si=0,sl=0,Dh=0,ds=null,ct=null,zh=0,gr=1/0,ln=null,Ta=!1,kc=null,Un=null,Vo=!1,Rn=null,Ia=0,fs=0,Tc=null,ra=-1,sa=0;function st(){return se&6?Me():ra!==-1?ra:ra=Me()}function Hn(t){return t.mode&1?se&2&&qe!==0?qe&-qe:gS.transition!==null?(sa===0&&(sa=Tm()),sa):(t=ue,t!==0||(t=window.event,t=t===void 0?16:bm(t.type)),t):1}function jt(t,e,n,r){if(50<fs)throw fs=0,Tc=null,Error(O(185));Ks(t,n,r),(!(se&2)||t!==je)&&(t===je&&(!(se&2)&&(sl|=n),Be===4&&On(t,qe)),_t(t,r),n===1&&se===0&&!(e.mode&1)&&(gr=Me()+500,tl&&ti()))}function _t(t,e){var n=t.callbackNode;gC(t,e);var r=da(t,t===je?qe:0);if(r===0)n!==null&&tp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&tp(n),e===1)t.tag===0?mS($p.bind(null,t)):eg($p.bind(null,t)),dS(function(){!(se&6)&&ti()}),n=null;else{switch(Im(r)){case 1:n=uh;break;case 4:n=Pm;break;case 16:n=ha;break;case 536870912:n=km;break;default:n=ha}n=Xg(n,Vg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Vg(t,e){if(ra=-1,sa=0,se&6)throw Error(O(327));var n=t.callbackNode;if(ar()&&t.callbackNode!==n)return null;var r=da(t,t===je?qe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ma(t,r);else{e=r;var s=se;se|=2;var o=$g();(je!==t||qe!==e)&&(ln=null,gr=Me()+500,gi(t,e));do try{zS();break}catch(c){Gg(t,c)}while(!0);Sh(),ka.current=o,se=s,Ae!==null?e=0:(je=null,qe=0,e=Be)}if(e!==0){if(e===2&&(s=tc(t),s!==0&&(r=s,e=Ic(t,s))),e===1)throw n=bs,gi(t,0),On(t,r),_t(t,Me()),n;if(e===6)On(t,r);else{if(s=t.current.alternate,!(r&30)&&!bS(s)&&(e=Ma(t,r),e===2&&(o=tc(t),o!==0&&(r=o,e=Ic(t,o))),e===1))throw n=bs,gi(t,0),On(t,r),_t(t,Me()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:ci(t,ct,ln);break;case 3:if(On(t,r),(r&130023424)===r&&(e=zh+500-Me(),10<e)){if(da(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){st(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=uc(ci.bind(null,t,ct,ln),e);break}ci(t,ct,ln);break;case 4:if(On(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var l=31-Wt(r);o=1<<l,l=e[l],l>s&&(s=l),r&=~o}if(r=s,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*RS(r/1960))-r,10<r){t.timeoutHandle=uc(ci.bind(null,t,ct,ln),r);break}ci(t,ct,ln);break;case 5:ci(t,ct,ln);break;default:throw Error(O(329))}}}return _t(t,Me()),t.callbackNode===n?Vg.bind(null,t):null}function Ic(t,e){var n=ds;return t.current.memoizedState.isDehydrated&&(gi(t,e).flags|=256),t=Ma(t,e),t!==2&&(e=ct,ct=n,e!==null&&Mc(e)),t}function Mc(t){ct===null?ct=t:ct.push.apply(ct,t)}function bS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Gt(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function On(t,e){for(e&=~Dh,e&=~sl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Wt(e),r=1<<n;t[n]=-1,e&=~r}}function $p(t){if(se&6)throw Error(O(327));ar();var e=da(t,0);if(!(e&1))return _t(t,Me()),null;var n=Ma(t,e);if(t.tag!==0&&n===2){var r=tc(t);r!==0&&(e=r,n=Ic(t,r))}if(n===1)throw n=bs,gi(t,0),On(t,e),_t(t,Me()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ci(t,ct,ln),_t(t,Me()),null}function Bh(t,e){var n=se;se|=1;try{return t(e)}finally{se=n,se===0&&(gr=Me()+500,tl&&ti())}}function Ei(t){Rn!==null&&Rn.tag===0&&!(se&6)&&ar();var e=se;se|=1;var n=Nt.transition,r=ue;try{if(Nt.transition=null,ue=1,t)return t()}finally{ue=r,Nt.transition=n,se=e,!(se&6)&&ti()}}function Fh(){gt=Xi.current,Ce(Xi)}function gi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hS(n)),Ae!==null)for(n=Ae.return;n!==null;){var r=n;switch(yh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ga();break;case 3:_r(),Ce(ft),Ce(tt),Th();break;case 5:kh(r);break;case 4:_r();break;case 13:Ce(xe);break;case 19:Ce(xe);break;case 10:Eh(r.type._context);break;case 22:case 23:Fh()}n=n.return}if(je=t,Ae=t=Zn(t.current,null),qe=gt=e,Be=0,bs=null,Dh=sl=Si=0,ct=ds=null,pi!==null){for(e=0;e<pi.length;e++)if(n=pi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=s,r.next=l}n.pending=r}pi=null}return t}function Gg(t,e){do{var n=Ae;try{if(Sh(),ta.current=Pa,La){for(var r=Le.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}La=!1}if(Ci=0,Ze=be=Le=null,cs=!1,Os=0,bh.current=null,n===null||n.return===null){Be=1,bs=e,Ae=null;break}e:{var o=t,l=n.return,c=n,h=e;if(e=qe,c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var f=h,g=c,_=g.tag;if(!(g.mode&1)&&(_===0||_===11||_===15)){var v=g.alternate;v?(g.updateQueue=v.updateQueue,g.memoizedState=v.memoizedState,g.lanes=v.lanes):(g.updateQueue=null,g.memoizedState=null)}var y=Rp(l);if(y!==null){y.flags&=-257,bp(y,l,c,o,e),y.mode&1&&Ap(o,f,e),e=y,h=f;var x=e.updateQueue;if(x===null){var P=new Set;P.add(h),e.updateQueue=P}else x.add(h);break e}else{if(!(e&1)){Ap(o,f,e),Uh();break e}h=Error(O(426))}}else if(Se&&c.mode&1){var D=Rp(l);if(D!==null){!(D.flags&65536)&&(D.flags|=256),bp(D,l,c,o,e),wh(mr(h,c));break e}}o=h=mr(h,c),Be!==4&&(Be=2),ds===null?ds=[o]:ds.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var S=Ig(o,h,e);kp(o,S);break e;case 1:c=h;var w=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Un===null||!Un.has(E)))){o.flags|=65536,e&=-e,o.lanes|=e;var M=Mg(o,c,e);kp(o,M);break e}}o=o.return}while(o!==null)}qg(n)}catch(b){e=b,Ae===n&&n!==null&&(Ae=n=n.return);continue}break}while(!0)}function $g(){var t=ka.current;return ka.current=Pa,t===null?Pa:t}function Uh(){(Be===0||Be===3||Be===2)&&(Be=4),je===null||!(Si&268435455)&&!(sl&268435455)||On(je,qe)}function Ma(t,e){var n=se;se|=2;var r=$g();(je!==t||qe!==e)&&(ln=null,gi(t,e));do try{DS();break}catch(s){Gg(t,s)}while(!0);if(Sh(),se=n,ka.current=r,Ae!==null)throw Error(O(261));return je=null,qe=0,Be}function DS(){for(;Ae!==null;)Kg(Ae)}function zS(){for(;Ae!==null&&!lC();)Kg(Ae)}function Kg(t){var e=Qg(t.alternate,t,gt);t.memoizedProps=t.pendingProps,e===null?qg(t):Ae=e,bh.current=null}function qg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=MS(n,e),n!==null){n.flags&=32767,Ae=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Be=6,Ae=null;return}}else if(n=IS(n,e,gt),n!==null){Ae=n;return}if(e=e.sibling,e!==null){Ae=e;return}Ae=e=t}while(e!==null);Be===0&&(Be=5)}function ci(t,e,n){var r=ue,s=Nt.transition;try{Nt.transition=null,ue=1,BS(t,e,n,r)}finally{Nt.transition=s,ue=r}return null}function BS(t,e,n,r){do ar();while(Rn!==null);if(se&6)throw Error(O(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(vC(t,o),t===je&&(Ae=je=null,qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vo||(Vo=!0,Xg(ha,function(){return ar(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Nt.transition,Nt.transition=null;var l=ue;ue=1;var c=se;se|=4,bh.current=null,OS(t,n),Wg(n,t),rS(ac),fa=!!oc,ac=oc=null,t.current=n,AS(n),uC(),se=c,ue=l,Nt.transition=o}else t.current=n;if(Vo&&(Vo=!1,Rn=t,Ia=s),o=t.pendingLanes,o===0&&(Un=null),dC(n.stateNode),_t(t,Me()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ta)throw Ta=!1,t=kc,kc=null,t;return Ia&1&&t.tag!==0&&ar(),o=t.pendingLanes,o&1?t===Tc?fs++:(fs=0,Tc=t):fs=0,ti(),null}function ar(){if(Rn!==null){var t=Im(Ia),e=Nt.transition,n=ue;try{if(Nt.transition=null,ue=16>t?16:t,Rn===null)var r=!1;else{if(t=Rn,Rn=null,Ia=0,se&6)throw Error(O(331));var s=se;for(se|=4,B=t.current;B!==null;){var o=B,l=o.child;if(B.flags&16){var c=o.deletions;if(c!==null){for(var h=0;h<c.length;h++){var f=c[h];for(B=f;B!==null;){var g=B;switch(g.tag){case 0:case 11:case 15:hs(8,g,o)}var _=g.child;if(_!==null)_.return=g,B=_;else for(;B!==null;){g=B;var v=g.sibling,y=g.return;if(Ug(g),g===f){B=null;break}if(v!==null){v.return=y,B=v;break}B=y}}}var x=o.alternate;if(x!==null){var P=x.child;if(P!==null){x.child=null;do{var D=P.sibling;P.sibling=null,P=D}while(P!==null)}}B=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,B=l;else e:for(;B!==null;){if(o=B,o.flags&2048)switch(o.tag){case 0:case 11:case 15:hs(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,B=S;break e}B=o.return}}var w=t.current;for(B=w;B!==null;){l=B;var E=l.child;if(l.subtreeFlags&2064&&E!==null)E.return=l,B=E;else e:for(l=w;B!==null;){if(c=B,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:rl(9,c)}}catch(b){ke(c,c.return,b)}if(c===l){B=null;break e}var M=c.sibling;if(M!==null){M.return=c.return,B=M;break e}B=c.return}}if(se=s,ti(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Ya,t)}catch{}r=!0}return r}finally{ue=n,Nt.transition=e}}return!1}function Kp(t,e,n){e=mr(n,e),e=Ig(t,e,1),t=Fn(t,e,1),e=st(),t!==null&&(Ks(t,1,e),_t(t,e))}function ke(t,e,n){if(t.tag===3)Kp(t,t,n);else for(;e!==null;){if(e.tag===3){Kp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Un===null||!Un.has(r))){t=mr(n,t),t=Mg(e,t,1),e=Fn(e,t,1),t=st(),e!==null&&(Ks(e,1,t),_t(e,t));break}}e=e.return}}function FS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=st(),t.pingedLanes|=t.suspendedLanes&n,je===t&&(qe&n)===n&&(Be===4||Be===3&&(qe&130023424)===qe&&500>Me()-zh?gi(t,0):Dh|=n),_t(t,e)}function Yg(t,e){e===0&&(t.mode&1?(e=bo,bo<<=1,!(bo&130023424)&&(bo=4194304)):e=1);var n=st();t=gn(t,e),t!==null&&(Ks(t,e,n),_t(t,n))}function US(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Yg(t,n)}function HS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),Yg(t,n)}var Qg;Qg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ft.current)ht=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ht=!1,TS(t,e,n);ht=!!(t.flags&131072)}else ht=!1,Se&&e.flags&1048576&&tg(e,wa,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ia(t,e),t=e.pendingProps;var s=dr(e,tt.current);or(e,n),s=Mh(null,e,r,t,s,n);var o=Nh();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pt(r)?(o=!0,va(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Lh(e),s.updater=il,e.stateNode=s,s._reactInternals=e,mc(e,r,t,n),e=yc(null,e,r,!0,o,n)):(e.tag=0,Se&&o&&vh(e),it(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ia(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=WS(r),t=zt(r,t),s){case 0:e=vc(null,e,r,t,n);break e;case 1:e=Bp(null,e,r,t,n);break e;case 11:e=Dp(null,e,r,t,n);break e;case 14:e=zp(null,e,r,zt(r.type,t),n);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zt(r,s),vc(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zt(r,s),Bp(t,e,r,s,n);case 3:e:{if(Rg(e),t===null)throw Error(O(387));r=e.pendingProps,o=e.memoizedState,s=o.element,ag(t,e),Ea(e,r,null,n);var l=e.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=mr(Error(O(423)),e),e=Fp(t,e,r,n,s);break e}else if(r!==s){s=mr(Error(O(424)),e),e=Fp(t,e,r,n,s);break e}else for(vt=Bn(e.stateNode.containerInfo.firstChild),yt=e,Se=!0,Ft=null,n=sg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fr(),r===s){e=vn(t,e,n);break e}it(t,e,r,n)}e=e.child}return e;case 5:return lg(e),t===null&&fc(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,l=s.children,lc(r,s)?l=null:o!==null&&lc(r,o)&&(e.flags|=32),Ag(t,e),it(t,e,l,n),e.child;case 6:return t===null&&fc(e),null;case 13:return bg(t,e,n);case 4:return Ph(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=pr(e,null,r,n):it(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zt(r,s),Dp(t,e,r,s,n);case 7:return it(t,e,e.pendingProps,n),e.child;case 8:return it(t,e,e.pendingProps.children,n),e.child;case 12:return it(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,l=s.value,ge(Ca,r._currentValue),r._currentValue=l,o!==null)if(Gt(o.value,l)){if(o.children===s.children&&!ft.current){e=vn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){l=o.child;for(var h=c.firstContext;h!==null;){if(h.context===r){if(o.tag===1){h=fn(-1,n&-n),h.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var g=f.pending;g===null?h.next=h:(h.next=g.next,g.next=h),f.pending=h}}o.lanes|=n,h=o.alternate,h!==null&&(h.lanes|=n),pc(o.return,n,e),c.lanes|=n;break}h=h.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(O(341));l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),pc(l,n,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}it(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,or(e,n),s=Ot(s),r=r(s),e.flags|=1,it(t,e,r,n),e.child;case 14:return r=e.type,s=zt(r,e.pendingProps),s=zt(r.type,s),zp(t,e,r,s,n);case 15:return Ng(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zt(r,s),ia(t,e),e.tag=1,pt(r)?(t=!0,va(e)):t=!1,or(e,n),Tg(e,r,s),mc(e,r,s,n),yc(null,e,r,!0,t,n);case 19:return Dg(t,e,n);case 22:return Og(t,e,n)}throw Error(O(156,e.tag))};function Xg(t,e){return Lm(t,e)}function ZS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(t,e,n,r){return new ZS(t,e,n,r)}function Hh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function WS(t){if(typeof t=="function")return Hh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===oh)return 11;if(t===ah)return 14}return 2}function Zn(t,e){var n=t.alternate;return n===null?(n=Mt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function oa(t,e,n,r,s,o){var l=2;if(r=t,typeof t=="function")Hh(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Zi:return vi(n.children,s,o,e);case sh:l=8,s|=8;break;case Uu:return t=Mt(12,n,e,s|2),t.elementType=Uu,t.lanes=o,t;case Hu:return t=Mt(13,n,e,s),t.elementType=Hu,t.lanes=o,t;case Zu:return t=Mt(19,n,e,s),t.elementType=Zu,t.lanes=o,t;case lm:return ol(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case om:l=10;break e;case am:l=9;break e;case oh:l=11;break e;case ah:l=14;break e;case In:l=16,r=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=Mt(l,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function vi(t,e,n,r){return t=Mt(7,t,r,e),t.lanes=n,t}function ol(t,e,n,r){return t=Mt(22,t,r,e),t.elementType=lm,t.lanes=n,t.stateNode={isHidden:!1},t}function Lu(t,e,n){return t=Mt(6,t,null,e),t.lanes=n,t}function Pu(t,e,n){return e=Mt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jS(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ou(0),this.expirationTimes=ou(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ou(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Zh(t,e,n,r,s,o,l,c,h){return t=new jS(t,e,n,c,h),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Mt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lh(o),t}function VS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Jg(t){if(!t)return qn;t=t._reactInternals;e:{if(Ti(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(pt(n))return Jm(t,n,e)}return e}function ev(t,e,n,r,s,o,l,c,h){return t=Zh(n,r,!0,t,s,o,l,c,h),t.context=Jg(null),n=t.current,r=st(),s=Hn(n),o=fn(r,s),o.callback=e??null,Fn(n,o,s),t.current.lanes=s,Ks(t,s,r),_t(t,r),t}function al(t,e,n,r){var s=e.current,o=st(),l=Hn(s);return n=Jg(n),e.context===null?e.context=n:e.pendingContext=n,e=fn(o,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fn(s,e,l),t!==null&&(jt(t,s,l,o),ea(t,s,l)),l}function Na(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Wh(t,e){qp(t,e),(t=t.alternate)&&qp(t,e)}function GS(){return null}var tv=typeof reportError=="function"?reportError:function(t){console.error(t)};function jh(t){this._internalRoot=t}ll.prototype.render=jh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));al(t,e,null,null)};ll.prototype.unmount=jh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ei(function(){al(null,t,null,null)}),e[mn]=null}};function ll(t){this._internalRoot=t}ll.prototype.unstable_scheduleHydration=function(t){if(t){var e=Om();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Nn.length&&e!==0&&e<Nn[n].priority;n++);Nn.splice(n,0,t),n===0&&Rm(t)}};function Vh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ul(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Yp(){}function $S(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var f=Na(l);o.call(f)}}var l=ev(e,r,t,0,null,!1,!1,"",Yp);return t._reactRootContainer=l,t[mn]=l.current,ks(t.nodeType===8?t.parentNode:t),Ei(),l}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var c=r;r=function(){var f=Na(h);c.call(f)}}var h=Zh(t,0,!1,null,null,!1,!1,"",Yp);return t._reactRootContainer=h,t[mn]=h.current,ks(t.nodeType===8?t.parentNode:t),Ei(function(){al(e,h,n,r)}),h}function cl(t,e,n,r,s){var o=n._reactRootContainer;if(o){var l=o;if(typeof s=="function"){var c=s;s=function(){var h=Na(l);c.call(h)}}al(e,l,t,s)}else l=$S(n,e,t,s,r);return Na(l)}Mm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=is(e.pendingLanes);n!==0&&(ch(e,n|1),_t(e,Me()),!(se&6)&&(gr=Me()+500,ti()))}break;case 13:Ei(function(){var r=gn(t,1);if(r!==null){var s=st();jt(r,t,1,s)}}),Wh(t,1)}};hh=function(t){if(t.tag===13){var e=gn(t,134217728);if(e!==null){var n=st();jt(e,t,134217728,n)}Wh(t,134217728)}};Nm=function(t){if(t.tag===13){var e=Hn(t),n=gn(t,e);if(n!==null){var r=st();jt(n,t,e,r)}Wh(t,e)}};Om=function(){return ue};Am=function(t,e){var n=ue;try{return ue=t,e()}finally{ue=n}};Xu=function(t,e,n){switch(e){case"input":if(Vu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=el(r);if(!s)throw Error(O(90));cm(r),Vu(r,s)}}}break;case"textarea":dm(t,n);break;case"select":e=n.value,e!=null&&nr(t,!!n.multiple,e,!1)}};ym=Bh;wm=Ei;var KS={usingClientEntryPoint:!1,Events:[Ys,Gi,el,gm,vm,Bh]},Yr={findFiberByHostInstance:fi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qS={bundleType:Yr.bundleType,version:Yr.version,rendererPackageName:Yr.rendererPackageName,rendererConfig:Yr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Em(t),t===null?null:t.stateNode},findFiberByHostInstance:Yr.findFiberByHostInstance||GS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Go=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Go.isDisabled&&Go.supportsFiber)try{Ya=Go.inject(qS),en=Go}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KS;St.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vh(e))throw Error(O(200));return VS(t,e,null,n)};St.createRoot=function(t,e){if(!Vh(t))throw Error(O(299));var n=!1,r="",s=tv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Zh(t,1,!1,null,null,n,!1,r,s),t[mn]=e.current,ks(t.nodeType===8?t.parentNode:t),new jh(e)};St.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=Em(e),t=t===null?null:t.stateNode,t};St.flushSync=function(t){return Ei(t)};St.hydrate=function(t,e,n){if(!ul(e))throw Error(O(200));return cl(null,t,e,!0,n)};St.hydrateRoot=function(t,e,n){if(!Vh(t))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",l=tv;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=ev(e,null,t,1,n??null,s,!1,o,l),t[mn]=e.current,ks(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ll(e)};St.render=function(t,e,n){if(!ul(e))throw Error(O(200));return cl(null,t,e,!1,n)};St.unmountComponentAtNode=function(t){if(!ul(t))throw Error(O(40));return t._reactRootContainer?(Ei(function(){cl(null,null,t,!1,function(){t._reactRootContainer=null,t[mn]=null})}),!0):!1};St.unstable_batchedUpdates=Bh;St.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ul(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return cl(t,e,n,!1,r)};St.version="18.3.1-next-f1338f8080-20240426";function nv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nv)}catch(t){console.error(t)}}nv(),nm.exports=St;var iv=nm.exports,rv,Qp=iv;rv=Qp.createRoot,Qp.hydrateRoot;var Xp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A=function(t,e){if(!t)throw Lr(e)},Lr=function(t){return new Error("Firebase Database ("+sv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},YS=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],c=t[n++],h=((s&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},Gh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,c=l?t[s+1]:0,h=s+2<t.length,f=h?t[s+2]:0,g=o>>2,_=(o&3)<<4|c>>4;let v=(c&15)<<2|f>>6,y=f&63;h||(y=64,l||(v=64)),r.push(n[g],n[_],n[v],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ov(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):YS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const f=s<t.length?n[t.charAt(s)]:64;++s;const _=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||c==null||f==null||_==null)throw new QS;const v=o<<2|c>>4;if(r.push(v),f!==64){const y=c<<4&240|f>>2;if(r.push(y),_!==64){const x=f<<6&192|_;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class QS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const av=function(t){const e=ov(t);return Gh.encodeByteArray(e,!0)},Oa=function(t){return av(t).replace(/\./g,"")},Nc=function(t){try{return Gh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(t){return lv(void 0,t)}function lv(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!JS(n)||(t[n]=lv(t[n],e[n]));return t}function JS(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=()=>eE().__FIREBASE_DEFAULTS__,nE=()=>{if(typeof process>"u"||typeof Xp>"u")return;const t=Xp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Nc(t[1]);return e&&JSON.parse(e)},uv=()=>{try{return tE()||nE()||iE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rE=t=>{var e,n;return(n=(e=uv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},sE=t=>{const e=rE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cv=()=>{var t;return(t=uv())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Oa(JSON.stringify(n)),Oa(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(aE())}function lE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dv(){return sv.NODE_ADMIN===!0}function uE(){try{return typeof indexedDB=="object"}catch{return!1}}function cE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="FirebaseError";class Xs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hE,Object.setPrototypeOf(this,Xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fv.prototype.create)}}class fv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?dE(o,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new Xs(s,c,r)}}function dE(t,e){return t.replace(fE,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const fE=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(t){return JSON.parse(t)}function De(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=function(t){let e={},n={},r={},s="";try{const o=t.split(".");e=Ds(Nc(o[0])||""),n=Ds(Nc(o[1])||""),s=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},pE=function(t){const e=pv(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},_E=function(t){const e=pv(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function vr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Jp(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Aa(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Oc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],l=e[s];if(e_(o)&&e_(l)){if(!Oc(o,l))return!1}else if(o!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function e_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)r[_]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let _=0;_<16;_++)r[_]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let _=16;_<80;_++){const v=r[_-3]^r[_-8]^r[_-14]^r[_-16];r[_]=(v<<1|v>>>31)&4294967295}let s=this.chain_[0],o=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4],f,g;for(let _=0;_<80;_++){_<40?_<20?(f=c^o&(l^c),g=1518500249):(f=o^l^c,g=1859775393):_<60?(f=o&l|c&(o|l),g=2400959708):(f=o^l^c,g=3395469782);const v=(s<<5|s>>>27)+f+h+g+r[_]&4294967295;h=c,c=l,l=(o<<30|o>>>2)&4294967295,o=s,s=v}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const o=this.buf_;let l=this.inbuf_;for(;s<n;){if(l===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(o[l]=e.charCodeAt(s),++l,++s,l===this.blockSize){this.compress_(o),l=0;break}}else for(;s<n;)if(o[l]=e[s],++l,++s,l===this.blockSize){this.compress_(o),l=0;break}}this.inbuf_=l,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[s]>>o&255,++r;return e}}function _v(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const o=s-55296;r++,A(r<t.length,"Surrogate pair missing trail surrogate.");const l=t.charCodeAt(r)-56320;s=65536+(o<<10)+l}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},hl=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(t){return t&&t._delegate?t._delegate:t}class zs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $h;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CE(e))try{this.getOrInitializeService({instanceIdentifier:hi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=hi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hi){return this.instances.has(e)}getOptions(e=hi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wE(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hi){return this.component?this.component.multipleInstances?e:hi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wE(t){return t===hi?void 0:t}function CE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const EE={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},xE=_e.INFO,LE={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},PE=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=LE[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mv{constructor(e){this.name=e,this._logLevel=xE,this._logHandler=PE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const kE=(t,e)=>e.some(n=>t instanceof n);let t_,n_;function TE(){return t_||(t_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IE(){return n_||(n_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gv=new WeakMap,Ac=new WeakMap,vv=new WeakMap,ku=new WeakMap,Kh=new WeakMap;function ME(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Wn(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&gv.set(n,t)}).catch(()=>{}),Kh.set(e,t),e}function NE(t){if(Ac.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Ac.set(t,e)}let Rc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ac.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OE(t){Rc=t(Rc)}function AE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Tu(this),e,...n);return vv.set(r,e.sort?e.sort():[e]),Wn(r)}:IE().includes(t)?function(...e){return t.apply(Tu(this),e),Wn(gv.get(this))}:function(...e){return Wn(t.apply(Tu(this),e))}}function RE(t){return typeof t=="function"?AE(t):(t instanceof IDBTransaction&&NE(t),kE(t,TE())?new Proxy(t,Rc):t)}function Wn(t){if(t instanceof IDBRequest)return ME(t);if(ku.has(t))return ku.get(t);const e=RE(t);return e!==t&&(ku.set(t,e),Kh.set(e,t)),e}const Tu=t=>Kh.get(t);function bE(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),c=Wn(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Wn(l.result),h.oldVersion,h.newVersion,Wn(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),s&&h.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const DE=["get","getKey","getAll","getAllKeys","count"],zE=["put","add","delete","clear"],Iu=new Map;function i_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Iu.get(e))return Iu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=zE.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||DE.includes(n)))return;const o=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),s&&h.done]))[0]};return Iu.set(e,o),o}OE(t=>({...t,get:(e,n,r)=>i_(e,n)||t.get(e,n,r),has:(e,n)=>!!i_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FE(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function FE(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bc="@firebase/app",r_="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn=new mv("@firebase/app"),UE="@firebase/app-compat",HE="@firebase/analytics-compat",ZE="@firebase/analytics",WE="@firebase/app-check-compat",jE="@firebase/app-check",VE="@firebase/auth",GE="@firebase/auth-compat",$E="@firebase/database",KE="@firebase/data-connect",qE="@firebase/database-compat",YE="@firebase/functions",QE="@firebase/functions-compat",XE="@firebase/installations",JE="@firebase/installations-compat",e1="@firebase/messaging",t1="@firebase/messaging-compat",n1="@firebase/performance",i1="@firebase/performance-compat",r1="@firebase/remote-config",s1="@firebase/remote-config-compat",o1="@firebase/storage",a1="@firebase/storage-compat",l1="@firebase/firestore",u1="@firebase/vertexai",c1="@firebase/firestore-compat",h1="firebase",d1="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc="[DEFAULT]",f1={[bc]:"fire-core",[UE]:"fire-core-compat",[ZE]:"fire-analytics",[HE]:"fire-analytics-compat",[jE]:"fire-app-check",[WE]:"fire-app-check-compat",[VE]:"fire-auth",[GE]:"fire-auth-compat",[$E]:"fire-rtdb",[KE]:"fire-data-connect",[qE]:"fire-rtdb-compat",[YE]:"fire-fn",[QE]:"fire-fn-compat",[XE]:"fire-iid",[JE]:"fire-iid-compat",[e1]:"fire-fcm",[t1]:"fire-fcm-compat",[n1]:"fire-perf",[i1]:"fire-perf-compat",[r1]:"fire-rc",[s1]:"fire-rc-compat",[o1]:"fire-gcs",[a1]:"fire-gcs-compat",[l1]:"fire-fst",[c1]:"fire-fst-compat",[u1]:"fire-vertex","fire-js":"fire-js",[h1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=new Map,p1=new Map,zc=new Map;function s_(t,e){try{t.container.addComponent(e)}catch(n){yn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ba(t){const e=t.name;if(zc.has(e))return yn.debug(`There were multiple attempts to register component ${e}.`),!1;zc.set(e,t);for(const n of Ra.values())s_(n,t);for(const n of p1.values())s_(n,t);return!0}function _1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jn=new fv("app","Firebase",m1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=d1;function qh(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Dc,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw jn.create("bad-app-name",{appName:String(s)});if(n||(n=cv()),!n)throw jn.create("no-options");const o=Ra.get(s);if(o){if(Oc(n,o.options)&&Oc(r,o.config))return o;throw jn.create("duplicate-app",{appName:s})}const l=new SE(s);for(const h of zc.values())l.addComponent(h);const c=new g1(n,r,l);return Ra.set(s,c),c}function y1(t=Dc){const e=Ra.get(t);if(!e&&t===Dc&&cv())return qh();if(!e)throw jn.create("no-app",{appName:t});return e}function lr(t,e,n){var r;let s=(r=f1[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yn.warn(c.join(" "));return}ba(new zs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="firebase-heartbeat-database",C1=1,Bs="firebase-heartbeat-store";let Mu=null;function yv(){return Mu||(Mu=bE(w1,C1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bs)}catch(n){console.warn(n)}}}}).catch(t=>{throw jn.create("idb-open",{originalErrorMessage:t.message})})),Mu}async function S1(t){try{const n=(await yv()).transaction(Bs),r=await n.objectStore(Bs).get(wv(t));return await n.done,r}catch(e){if(e instanceof Xs)yn.warn(e.message);else{const n=jn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yn.warn(n.message)}}}async function o_(t,e){try{const r=(await yv()).transaction(Bs,"readwrite");await r.objectStore(Bs).put(e,wv(t)),await r.done}catch(n){if(n instanceof Xs)yn.warn(n.message);else{const r=jn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yn.warn(r.message)}}}function wv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=1024,x1=30*24*60*60*1e3;class L1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new k1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=a_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=x1}),this._storage.overwrite(this._heartbeatsCache))}catch(r){yn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=a_(),{heartbeatsToSend:r,unsentEntries:s}=P1(this._heartbeatsCache.heartbeats),o=Oa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return yn.warn(n),""}}}function a_(){return new Date().toISOString().substring(0,10)}function P1(t,e=E1){const n=[];let r=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),l_(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),l_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class k1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uE()?cE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await S1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return o_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return o_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function l_(t){return Oa(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(t){ba(new zs("platform-logger",e=>new BE(e),"PRIVATE")),ba(new zs("heartbeat",e=>new L1(e),"PRIVATE")),lr(bc,r_,t),lr(bc,r_,"esm2017"),lr("fire-js","")}T1("");var I1="firebase",M1="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr(I1,M1,"app");var u_={};const c_="@firebase/database",h_="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cv="";function N1(t){Cv=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),De(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ds(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Sn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new O1(e)}}catch{}return new A1},mi=Sv("localStorage"),R1=Sv("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur=new mv("@firebase/database"),b1=function(){let t=1;return function(){return t++}}(),Ev=function(t){const e=vE(t),n=new gE;n.update(e);const r=n.digest();return Gh.encodeByteArray(r)},eo=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=eo.apply(null,r):typeof r=="object"?e+=De(r):e+=r,e+=" "}return e};let ps=null,d_=!0;const D1=function(t,e){A(!e,"Can't turn on custom loggers persistently."),ur.logLevel=_e.VERBOSE,ps=ur.log.bind(ur)},et=function(...t){if(d_===!0&&(d_=!1,ps===null&&R1.get("logging_enabled")===!0&&D1()),ps){const e=eo.apply(null,t);ps(e)}},to=function(t){return function(...e){et(t,...e)}},Bc=function(...t){const e="FIREBASE INTERNAL ERROR: "+eo(...t);ur.error(e)},wn=function(...t){const e=`FIREBASE FATAL ERROR: ${eo(...t)}`;throw ur.error(e),new Error(e)},wt=function(...t){const e="FIREBASE WARNING: "+eo(...t);ur.warn(e)},z1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&wt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},xv=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},B1=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},yr="[MIN_NAME]",xi="[MAX_NAME]",Pr=function(t,e){if(t===e)return 0;if(t===yr||e===xi)return-1;if(e===yr||t===xi)return 1;{const n=f_(t),r=f_(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},F1=function(t,e){return t===e?0:t<e?-1:1},Qr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+De(e))},Yh=function(t){if(typeof t!="object"||t===null)return De(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=De(e[r]),n+=":",n+=Yh(t[e[r]]);return n+="}",n},Lv=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function mt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Pv=function(t){A(!xv(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,o,l,c,h;t===0?(o=0,l=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=c+r,l=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(o=0,l=Math.round(t/Math.pow(2,1-r-n))));const f=[];for(h=n;h;h-=1)f.push(l%2?1:0),l=Math.floor(l/2);for(h=e;h;h-=1)f.push(o%2?1:0),o=Math.floor(o/2);f.push(s?1:0),f.reverse();const g=f.join("");let _="";for(h=0;h<64;h+=8){let v=parseInt(g.substr(h,8),2).toString(16);v.length===1&&(v="0"+v),_=_+v}return _.toLowerCase()},U1=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},H1=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Z1(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const W1=new RegExp("^-?(0*)\\d{1,10}$"),j1=-2147483648,V1=2147483647,f_=function(t){if(W1.test(t)){const e=Number(t);if(e>=j1&&e<=V1)return e}return null},no=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw wt("Exception was thrown by user callback.",n),e},Math.floor(0))}},G1=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},_s=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){wt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(et("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wt(e)}}class aa{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}aa.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh="5",kv="v",Tv="s",Iv="r",Mv="f",Nv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ov="ls",Av="p",Fc="ac",Rv="websocket",bv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n,r,s,o=!1,l="",c=!1,h=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=o,this.persistenceKey=l,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=mi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&mi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function q1(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function zv(t,e,n){A(typeof e=="string","typeof type must == string"),A(typeof n=="object","typeof params must == object");let r;if(e===Rv)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===bv)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);q1(t)&&(n.ns=t.namespace);const s=[];return mt(n,(o,l)=>{s.push(o+"="+l)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(){this.counters_={}}incrementCounter(e,n=1){Sn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return XS(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu={},Ou={};function Xh(t){const e=t.toString();return Nu[e]||(Nu[e]=new Y1),Nu[e]}function Q1(t,e){const n=t.toString();return Ou[n]||(Ou[n]=e()),Ou[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&no(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="start",J1="close",ex="pLPCommand",tx="pRTLPCB",Bv="id",Fv="pw",Uv="ser",nx="cb",ix="seg",rx="ts",sx="d",ox="dframe",Hv=1870,Zv=30,ax=Hv-Zv,lx=25e3,ux=3e4;class Ji{constructor(e,n,r,s,o,l,c){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.transportSessionId=l,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=to(e),this.stats_=Xh(n),this.urlFn=h=>(this.appCheckToken&&(h[Fc]=this.appCheckToken),zv(n,bv,h))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new X1(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(ux)),B1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Jh((...o)=>{const[l,c,h,f,g]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===p_)this.id=c,this.password=h;else if(l===J1)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...o)=>{const[l,c]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(l,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[p_]="t",r[Uv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[nx]=this.scriptTagHolder.uniqueCallbackIdentifier),r[kv]=Qh,this.transportSessionId&&(r[Tv]=this.transportSessionId),this.lastSessionId&&(r[Ov]=this.lastSessionId),this.applicationId&&(r[Av]=this.applicationId),this.appCheckToken&&(r[Fc]=this.appCheckToken),typeof location<"u"&&location.hostname&&Nv.test(location.hostname)&&(r[Iv]=Mv);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ji.forceAllow_=!0}static forceDisallow(){Ji.forceDisallow_=!0}static isAvailable(){return Ji.forceAllow_?!0:!Ji.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!U1()&&!H1()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=De(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=av(n),s=Lv(r,ax);for(let o=0;o<s.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[ox]="t",r[Bv]=e,r[Fv]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=De(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Jh{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=b1(),window[ex+this.uniqueCallbackIdentifier]=e,window[tx+this.uniqueCallbackIdentifier]=n,this.myIFrame=Jh.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){et("frame writing exception"),c.stack&&et(c.stack),et(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||et("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Bv]=this.myID,e[Fv]=this.myPW,e[Uv]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Zv+r.length<=Hv;){const l=this.pendingSegs.shift();r=r+"&"+ix+s+"="+l.seg+"&"+rx+s+"="+l.ts+"&"+sx+s+"="+l.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(lx)),o=()=>{clearTimeout(s),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{et("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=16384,hx=45e3;let Da=null;typeof MozWebSocket<"u"?Da=MozWebSocket:typeof WebSocket<"u"&&(Da=WebSocket);class Ut{constructor(e,n,r,s,o,l,c){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=to(this.connId),this.stats_=Xh(n),this.connURL=Ut.connectionURL_(n,l,c,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,o){const l={};return l[kv]=Qh,typeof location<"u"&&location.hostname&&Nv.test(location.hostname)&&(l[Iv]=Mv),n&&(l[Tv]=n),r&&(l[Ov]=r),s&&(l[Fc]=s),o&&(l[Av]=o),zv(e,Rv,l)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,mi.set("previous_websocket_failure",!0);try{let r;dv(),this.mySock=new Da(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Ut.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Da!==null&&!Ut.forceDisallow_}static previouslyFailed(){return mi.isInMemoryStorage||mi.get("previous_websocket_failure")===!0}markConnectionHealthy(){mi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ds(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(A(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=De(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Lv(n,cx);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(hx))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ut.responsesRequiredToBeHealthy=2;Ut.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{static get ALL_TRANSPORTS(){return[Ji,Ut]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Ut&&Ut.isAvailable();let r=n&&!Ut.previouslyFailed();if(e.webSocketOnly&&(n||wt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ut];else{const s=this.transports_=[];for(const o of Fs.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);Fs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Fs.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=6e4,fx=5e3,px=10*1024,_x=100*1024,Au="t",__="d",mx="s",m_="r",gx="e",g_="o",v_="a",y_="n",w_="p",vx="h";class yx{constructor(e,n,r,s,o,l,c,h,f,g){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=o,this.onMessage_=l,this.onReady_=c,this.onDisconnect_=h,this.onKill_=f,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=to("c:"+this.id+":"),this.transportManager_=new Fs(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=_s(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>_x?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>px?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Au in e){const n=e[Au];n===v_?this.upgradeIfSecondaryHealthy_():n===m_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===g_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Qr("t",e),r=Qr("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:w_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:v_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:y_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Qr("t",e),r=Qr("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Qr(Au,e);if(__ in e){const r=e[__];if(n===vx){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===y_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===mx?this.onConnectionShutdown_(r):n===m_?this.onReset_(r):n===gx?Bc("Server Error: "+r):n===g_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Bc("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Qh!==r&&wt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),_s(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(dx))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):_s(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(fx))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:w_,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(mi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e){this.allowedEvents_=e,this.listeners_={},A(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let o=0;o<s.length;o++)if(s[o].callback===n&&(!r||r===s[o].context)){s.splice(o,1);return}}validateEventType_(e){A(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends jv{static getInstance(){return new za}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!hv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return A(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=32,S_=768;class he{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function le(){return new he("")}function ne(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Yn(t){return t.pieces_.length-t.pieceNum_}function me(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new he(t.pieces_,e)}function Vv(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function wx(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Gv(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function $v(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new he(e,0)}function ze(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof he)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new he(n,0)}function ee(t){return t.pieceNum_>=t.pieces_.length}function rt(t,e){const n=ne(t),r=ne(e);if(n===null)return e;if(n===r)return rt(me(t),me(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Kv(t,e){if(Yn(t)!==Yn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ht(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Yn(t)>Yn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Cx{constructor(e,n){this.errorPrefix_=n,this.parts_=Gv(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=hl(this.parts_[r]);qv(this)}}function Sx(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=hl(e),qv(t)}function Ex(t){const e=t.parts_.pop();t.byteLength_-=hl(e),t.parts_.length>0&&(t.byteLength_-=1)}function qv(t){if(t.byteLength_>S_)throw new Error(t.errorPrefix_+"has a key path longer than "+S_+" bytes ("+t.byteLength_+").");if(t.parts_.length>C_)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+C_+") or object contains a cycle "+di(t))}function di(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends jv{static getInstance(){return new ed}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return A(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=1e3,xx=60*5*1e3,E_=30*1e3,Lx=1.3,Px=3e4,kx="server_kill",x_=3;class pn extends Wv{constructor(e,n,r,s,o,l,c,h){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=l,this.appCheckTokenProvider_=c,this.authOverride_=h,this.id=pn.nextPersistentConnectionId_++,this.log_=to("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Xr,this.maxReconnectDelay_=xx,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h&&!dv())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ed.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&za.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,o={r:s,a:e,b:n};this.log_(De(o)),A(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new $h,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const c=l.d;l.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,s){this.initConnection_();const o=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+o),this.listens.has(l)||this.listens.set(l,new Map),A(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),A(!this.listens.get(l).has(o),"listen() called twice for same path/queryId.");const c={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(l).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const o={p:r},l="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(l,o,c=>{const h=c.d,f=c.s;pn.warnOnListenWarnings_(h,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",c),f!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(f,h))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Sn(e,"w")){const r=vr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();wt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||_E(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=E_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=pE(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const o=s.s,l=s.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),A(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const o={p:e},l="n";s&&(o.q=r,o.t=s),this.sendRequest(l,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,l=>{s&&setTimeout(()=>{s(l.s,l.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,o){this.initConnection_();const l={p:n,d:r};o!==void 0&&(l.h=o),this.outstandingPuts_.push({action:e,request:l,onComplete:s}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+De(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Bc("Unrecognized action received from server: "+De(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){A(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Xr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Xr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Px&&(this.reconnectDelay_=Xr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Lx)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+pn.nextConnectionId_++,o=this.lastSessionId;let l=!1,c=null;const h=function(){c?c.close():(l=!0,r())},f=function(_){A(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(_)};this.realtime_={close:h,sendRequest:f};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,v]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);l?et("getToken() completed but was canceled"):(et("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=v&&v.token,c=new yx(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,y=>{wt(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(kx)},o))}catch(_){this.log_("Failed to get token: "+_),l||(this.repoInfo_.nodeAdmin&&wt(_),h())}}}interrupt(e){et("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){et("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Jp(this.interruptReasons_)&&(this.reconnectDelay_=Xr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>Yh(o)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new he(e).toString();let s;if(this.listens.has(r)){const o=this.listens.get(r);s=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){et("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=x_&&(this.reconnectDelay_=E_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){et("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=x_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Cv.replace(/\./g,"-")]=1,hv()?e["framework.cordova"]=1:lE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=za.getInstance().currentlyOnline();return Jp(this.interruptReasons_)&&e}}pn.nextPersistentConnectionId_=0;pn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new J(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new J(yr,e),s=new J(yr,n);return this.compare(r,s)!==0}minPost(){return J.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o;class Yv extends dl{static get __EMPTY_NODE(){return $o}static set __EMPTY_NODE(e){$o=e}compare(e,n){return Pr(e.name,n.name)}isDefinedOn(e){throw Lr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return J.MIN}maxPost(){return new J(xi,$o)}makePost(e,n){return A(typeof e=="string","KeyIndex indexValue must always be a string."),new J(e,$o)}toString(){return".key"}}const cr=new Yv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n,r,s,o=null){this.isReverse_=s,this.resultGenerator_=o,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=n?r(e.key,n):1,s&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class We{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??We.RED,this.left=s??dt.EMPTY_NODE,this.right=o??dt.EMPTY_NODE}copy(e,n,r,s,o){return new We(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return dt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return dt.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}We.RED=!0;We.BLACK=!1;class Tx{copy(e,n,r,s,o){return this}insert(e,n,r){return new We(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class dt{constructor(e,n=dt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new dt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,We.BLACK,null,null))}remove(e){return new dt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,We.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ko(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ko(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ko(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ko(this.root_,null,this.comparator_,!0,e)}}dt.EMPTY_NODE=new Tx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(t,e){return Pr(t.name,e.name)}function td(t,e){return Pr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc;function Mx(t){Uc=t}const Qv=function(t){return typeof t=="number"?"number:"+Pv(t):"string:"+t},Xv=function(t){if(t.isLeafNode()){const e=t.val();A(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Sn(e,".sv"),"Priority must be a string or number.")}else A(t===Uc||t.isEmpty(),"priority of unexpected type.");A(t===Uc||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let L_;class He{static set __childrenNodeConstructor(e){L_=e}static get __childrenNodeConstructor(){return L_}constructor(e,n=He.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,A(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Xv(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new He(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:He.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ee(e)?this:ne(e)===".priority"?this.priorityNode_:He.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:He.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ne(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(A(r!==".priority"||Yn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,He.__childrenNodeConstructor.EMPTY_NODE.updateChild(me(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Qv(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Pv(this.value_):e+=this.value_,this.lazyHash_=Ev(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===He.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof He.__childrenNodeConstructor?-1:(A(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=He.VALUE_TYPE_ORDER.indexOf(n),o=He.VALUE_TYPE_ORDER.indexOf(r);return A(s>=0,"Unknown leaf type: "+n),A(o>=0,"Unknown leaf type: "+r),s===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}He.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jv,ey;function Nx(t){Jv=t}function Ox(t){ey=t}class Ax extends dl{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),o=r.compareTo(s);return o===0?Pr(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return J.MIN}maxPost(){return new J(xi,new He("[PRIORITY-POST]",ey))}makePost(e,n){const r=Jv(e);return new J(n,new He("[PRIORITY-POST]",r))}toString(){return".priority"}}const Te=new Ax;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=Math.log(2);class bx{constructor(e){const n=o=>parseInt(Math.log(o)/Rx,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ba=function(t,e,n,r){t.sort(e);const s=function(h,f){const g=f-h;let _,v;if(g===0)return null;if(g===1)return _=t[h],v=n?n(_):_,new We(v,_.node,We.BLACK,null,null);{const y=parseInt(g/2,10)+h,x=s(h,y),P=s(y+1,f);return _=t[y],v=n?n(_):_,new We(v,_.node,We.BLACK,x,P)}},o=function(h){let f=null,g=null,_=t.length;const v=function(x,P){const D=_-x,S=_;_-=x;const w=s(D+1,S),E=t[D],M=n?n(E):E;y(new We(M,E.node,P,null,w))},y=function(x){f?(f.left=x,f=x):(g=x,f=x)};for(let x=0;x<h.count;++x){const P=h.nextBitIsOne(),D=Math.pow(2,h.count-(x+1));P?v(D,We.BLACK):(v(D,We.BLACK),v(D,We.RED))}return g},l=new bx(t.length),c=o(l);return new dt(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ru;const Ui={};class dn{static get Default(){return A(Ui&&Te,"ChildrenNode.ts has not been loaded"),Ru=Ru||new dn({".priority":Ui},{".priority":Te}),Ru}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=vr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof dt?n:null}hasIndex(e){return Sn(this.indexSet_,e.toString())}addIndex(e,n){A(e!==cr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const o=n.getIterator(J.Wrap);let l=o.getNext();for(;l;)s=s||e.isDefinedOn(l.node),r.push(l),l=o.getNext();let c;s?c=Ba(r,e.getCompare()):c=Ui;const h=e.toString(),f=Object.assign({},this.indexSet_);f[h]=e;const g=Object.assign({},this.indexes_);return g[h]=c,new dn(g,f)}addToIndexes(e,n){const r=Aa(this.indexes_,(s,o)=>{const l=vr(this.indexSet_,o);if(A(l,"Missing index implementation for "+o),s===Ui)if(l.isDefinedOn(e.node)){const c=[],h=n.getIterator(J.Wrap);let f=h.getNext();for(;f;)f.name!==e.name&&c.push(f),f=h.getNext();return c.push(e),Ba(c,l.getCompare())}else return Ui;else{const c=n.get(e.name);let h=s;return c&&(h=h.remove(new J(e.name,c))),h.insert(e,e.node)}});return new dn(r,this.indexSet_)}removeFromIndexes(e,n){const r=Aa(this.indexes_,s=>{if(s===Ui)return s;{const o=n.get(e.name);return o?s.remove(new J(e.name,o)):s}});return new dn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jr;class j{static get EMPTY_NODE(){return Jr||(Jr=new j(new dt(td),null,dn.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Xv(this.priorityNode_),this.children_.isEmpty()&&A(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Jr}updatePriority(e){return this.children_.isEmpty()?this:new j(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Jr:n}}getChild(e){const n=ne(e);return n===null?this:this.getImmediateChild(n).getChild(me(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(A(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new J(e,n);let s,o;n.isEmpty()?(s=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const l=s.isEmpty()?Jr:this.priorityNode_;return new j(s,l,o)}}updateChild(e,n){const r=ne(e);if(r===null)return n;{A(ne(e)!==".priority"||Yn(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(me(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,o=!0;if(this.forEachChild(Te,(l,c)=>{n[l]=c.val(e),r++,o&&j.INTEGER_REGEXP_.test(l)?s=Math.max(s,Number(l)):o=!1}),!e&&o&&s<2*r){const l=[];for(const c in n)l[c]=n[c];return l}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Qv(this.getPriority().val())+":"),this.forEachChild(Te,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":Ev(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const o=s.getPredecessorKey(new J(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new J(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new J(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,J.Wrap);let o=s.peek();for(;o!=null&&n.compare(o,e)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,J.Wrap);let o=s.peek();for(;o!=null&&n.compare(o,e)>0;)s.getNext(),o=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===io?-1:0}withIndex(e){if(e===cr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new j(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===cr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Te),s=n.getIterator(Te);let o=r.getNext(),l=s.getNext();for(;o&&l;){if(o.name!==l.name||!o.node.equals(l.node))return!1;o=r.getNext(),l=s.getNext()}return o===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===cr?null:this.indexMap_.get(e.toString())}}j.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Dx extends j{constructor(){super(new dt(td),j.EMPTY_NODE,dn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return j.EMPTY_NODE}isEmpty(){return!1}}const io=new Dx;Object.defineProperties(J,{MIN:{value:new J(yr,j.EMPTY_NODE)},MAX:{value:new J(xi,io)}});Yv.__EMPTY_NODE=j.EMPTY_NODE;He.__childrenNodeConstructor=j;Mx(io);Ox(io);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=!0;function Ke(t,e=null){if(t===null)return j.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),A(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new He(n,Ke(e))}if(!(t instanceof Array)&&zx){const n=[];let r=!1;if(mt(t,(l,c)=>{if(l.substring(0,1)!=="."){const h=Ke(c);h.isEmpty()||(r=r||!h.getPriority().isEmpty(),n.push(new J(l,h)))}}),n.length===0)return j.EMPTY_NODE;const o=Ba(n,Ix,l=>l.name,td);if(r){const l=Ba(n,Te.getCompare());return new j(o,Ke(e),new dn({".priority":l},{".priority":Te}))}else return new j(o,Ke(e),dn.Default)}else{let n=j.EMPTY_NODE;return mt(t,(r,s)=>{if(Sn(t,r)&&r.substring(0,1)!=="."){const o=Ke(s);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Ke(e))}}Nx(Ke);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx extends dl{constructor(e){super(),this.indexPath_=e,A(!ee(e)&&ne(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),o=r.compareTo(s);return o===0?Pr(e.name,n.name):o}makePost(e,n){const r=Ke(e),s=j.EMPTY_NODE.updateChild(this.indexPath_,r);return new J(n,s)}maxPost(){const e=j.EMPTY_NODE.updateChild(this.indexPath_,io);return new J(xi,e)}toString(){return Gv(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx extends dl{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Pr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return J.MIN}maxPost(){return J.MAX}makePost(e,n){const r=Ke(e);return new J(n,r)}toString(){return".value"}}const Ux=new Fx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t){return{type:"value",snapshotNode:t}}function wr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Us(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Hs(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Hx(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e){this.index_=e}updateChild(e,n,r,s,o,l){A(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(n);return c.getChild(s).equals(r.getChild(s))&&c.isEmpty()===r.isEmpty()||(l!=null&&(r.isEmpty()?e.hasChild(n)?l.trackChildChange(Us(n,c)):A(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?l.trackChildChange(wr(n,r)):l.trackChildChange(Hs(n,r,c))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Te,(s,o)=>{n.hasChild(s)||r.trackChildChange(Us(s,o))}),n.isLeafNode()||n.forEachChild(Te,(s,o)=>{if(e.hasChild(s)){const l=e.getImmediateChild(s);l.equals(o)||r.trackChildChange(Hs(s,o,l))}else r.trackChildChange(wr(s,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?j.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.indexedFilter_=new nd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Zs.getStartPost_(e),this.endPost_=Zs.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,o,l){return this.matches(new J(n,r))||(r=j.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,o,l)}updateFullNode(e,n,r){n.isLeafNode()&&(n=j.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(j.EMPTY_NODE);const o=this;return n.forEachChild(Te,(l,c)=>{o.matches(new J(l,c))||(s=s.updateImmediateChild(l,j.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Zs(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,o,l){return this.rangedFilter_.matches(new J(n,r))||(r=j.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,o,l):this.fullLimitUpdateChild_(e,n,r,o,l)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=j.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=j.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;o.hasNext()&&l<this.limit_;){const c=o.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))s=s.updateImmediateChild(c.name,c.node),l++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(j.EMPTY_NODE);let o;this.reverse_?o=s.getReverseIterator(this.index_):o=s.getIterator(this.index_);let l=0;for(;o.hasNext();){const c=o.getNext();l<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?l++:s=s.updateImmediateChild(c.name,j.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,o){let l;if(this.reverse_){const _=this.index_.getCompare();l=(v,y)=>_(y,v)}else l=this.index_.getCompare();const c=e;A(c.numChildren()===this.limit_,"");const h=new J(n,r),f=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),g=this.rangedFilter_.matches(h);if(c.hasChild(n)){const _=c.getImmediateChild(n);let v=s.getChildAfterChild(this.index_,f,this.reverse_);for(;v!=null&&(v.name===n||c.hasChild(v.name));)v=s.getChildAfterChild(this.index_,v,this.reverse_);const y=v==null?1:l(v,h);if(g&&!r.isEmpty()&&y>=0)return o!=null&&o.trackChildChange(Hs(n,r,_)),c.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(Us(n,_));const P=c.updateImmediateChild(n,j.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(o!=null&&o.trackChildChange(wr(v.name,v.node)),P.updateImmediateChild(v.name,v.node)):P}}else return r.isEmpty()?e:g&&l(f,h)>=0?(o!=null&&(o.trackChildChange(Us(f.name,f.node)),o.trackChildChange(wr(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(f.name,j.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Te}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return A(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return A(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:yr}hasEnd(){return this.endSet_}getIndexEndValue(){return A(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return A(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return A(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Te}copy(){const e=new id;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Wx(t){return t.loadsAllData()?new nd(t.getIndex()):t.hasLimit()?new Zx(t):new Zs(t)}function P_(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Te?n="$priority":t.index_===Ux?n="$value":t.index_===cr?n="$key":(A(t.index_ instanceof Bx,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=De(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=De(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+De(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=De(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+De(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function k_(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Te&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends Wv{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(A(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=to("p:rest:"),this.listens_={}}listen(e,n,r,s){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const l=Fa.getListenId_(e,r),c={};this.listens_[l]=c;const h=P_(e._queryParams);this.restRequest_(o+".json",h,(f,g)=>{let _=g;if(f===404&&(_=null,f=null),f===null&&this.onDataUpdate_(o,_,!1,r),vr(this.listens_,l)===c){let v;f?f===401?v="permission_denied":v="rest_error:"+f:v="ok",s(v,null)}})}unlisten(e,n){const r=Fa.getListenId_(e,n);delete this.listens_[r]}get(e){const n=P_(e._queryParams),r=e._path.toString(),s=new $h;return this.restRequest_(r+".json",n,(o,l)=>{let c=l;o===404&&(c=null,o=null),o===null?(this.onDataUpdate_(r,c,!1,null),s.resolve(c)):s.reject(new Error(c))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,o])=>{s&&s.accessToken&&(n.auth=s.accessToken),o&&o.token&&(n.ac=o.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+mE(n);this.log_("Sending REST request for "+l);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);let h=null;if(c.status>=200&&c.status<300){try{h=Ds(c.responseText)}catch{wt("Failed to parse JSON response for "+l+": "+c.responseText)}r(null,h)}else c.status!==401&&c.status!==404&&wt("Got unsuccessful REST response for "+l+" Status: "+c.status),r(c.status);r=null}},c.open("GET",l,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this.rootNode_=j.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(){return{value:null,children:new Map}}function ny(t,e,n){if(ee(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ne(e);t.children.has(r)||t.children.set(r,Ua());const s=t.children.get(r);e=me(e),ny(s,e,n)}}function Hc(t,e,n){t.value!==null?n(e,t.value):Vx(t,(r,s)=>{const o=new he(e.toString()+"/"+r);Hc(s,o,n)})}function Vx(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&mt(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=10*1e3,$x=30*1e3,Kx=5*60*1e3;class qx{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Gx(e);const r=T_+($x-T_)*Math.random();_s(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;mt(e,(s,o)=>{o>0&&Sn(this.statsToReport_,s)&&(n[s]=o,r=!0)}),r&&this.server_.reportStats(n),_s(this.reportStats_.bind(this),Math.floor(Math.random()*2*Kx))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Zt||(Zt={}));function iy(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function rd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function sd(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Zt.ACK_USER_WRITE,this.source=iy()}operationForChild(e){if(ee(this.path)){if(this.affectedTree.value!=null)return A(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new he(e));return new Ha(le(),n,this.revert)}}else return A(ne(this.path)===e,"operationForChild called for unrelated child."),new Ha(me(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n){this.source=e,this.path=n,this.type=Zt.LISTEN_COMPLETE}operationForChild(e){return ee(this.path)?new Ws(this.source,le()):new Ws(this.source,me(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Zt.OVERWRITE}operationForChild(e){return ee(this.path)?new Li(this.source,le(),this.snap.getImmediateChild(e)):new Li(this.source,me(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Zt.MERGE}operationForChild(e){if(ee(this.path)){const n=this.children.subtree(new he(e));return n.isEmpty()?null:n.value?new Li(this.source,le(),n.value):new js(this.source,le(),n)}else return A(ne(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new js(this.source,me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ee(e))return this.isFullyInitialized()&&!this.filtered_;const n=ne(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Qx(t,e,n,r){const s=[],o=[];return e.forEach(l=>{l.type==="child_changed"&&t.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&o.push(Hx(l.childName,l.snapshotNode))}),es(t,s,"child_removed",e,r,n),es(t,s,"child_added",e,r,n),es(t,s,"child_moved",o,r,n),es(t,s,"child_changed",e,r,n),es(t,s,"value",e,r,n),s}function es(t,e,n,r,s,o){const l=r.filter(c=>c.type===n);l.sort((c,h)=>Jx(t,c,h)),l.forEach(c=>{const h=Xx(t,c,o);s.forEach(f=>{f.respondsTo(c.type)&&e.push(f.createEvent(h,t.query_))})})}function Xx(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Jx(t,e,n){if(e.childName==null||n.childName==null)throw Lr("Should only compare child_ events.");const r=new J(e.childName,e.snapshotNode),s=new J(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(t,e){return{eventCache:t,serverCache:e}}function ms(t,e,n,r){return fl(new Qn(e,n,r),t.serverCache)}function ry(t,e,n,r){return fl(t.eventCache,new Qn(e,n,r))}function Za(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Pi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bu;const eL=()=>(bu||(bu=new dt(F1)),bu);class we{static fromObject(e){let n=new we(null);return mt(e,(r,s)=>{n=n.set(new he(r),s)}),n}constructor(e,n=eL()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:le(),value:this.value};if(ee(e))return null;{const r=ne(e),s=this.children.get(r);if(s!==null){const o=s.findRootMostMatchingPathAndValue(me(e),n);return o!=null?{path:ze(new he(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ee(e))return this;{const n=ne(e),r=this.children.get(n);return r!==null?r.subtree(me(e)):new we(null)}}set(e,n){if(ee(e))return new we(n,this.children);{const r=ne(e),o=(this.children.get(r)||new we(null)).set(me(e),n),l=this.children.insert(r,o);return new we(this.value,l)}}remove(e){if(ee(e))return this.children.isEmpty()?new we(null):new we(null,this.children);{const n=ne(e),r=this.children.get(n);if(r){const s=r.remove(me(e));let o;return s.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,s),this.value===null&&o.isEmpty()?new we(null):new we(this.value,o)}else return this}}get(e){if(ee(e))return this.value;{const n=ne(e),r=this.children.get(n);return r?r.get(me(e)):null}}setTree(e,n){if(ee(e))return n;{const r=ne(e),o=(this.children.get(r)||new we(null)).setTree(me(e),n);let l;return o.isEmpty()?l=this.children.remove(r):l=this.children.insert(r,o),new we(this.value,l)}}fold(e){return this.fold_(le(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,o)=>{r[s]=o.fold_(ze(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,le(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(ee(e))return null;{const o=ne(e),l=this.children.get(o);return l?l.findOnPath_(me(e),ze(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,le(),n)}foreachOnPath_(e,n,r){if(ee(e))return this;{this.value&&r(n,this.value);const s=ne(e),o=this.children.get(s);return o?o.foreachOnPath_(me(e),ze(n,s),r):new we(null)}}foreach(e){this.foreach_(le(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(ze(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.writeTree_=e}static empty(){return new Vt(new we(null))}}function gs(t,e,n){if(ee(e))return new Vt(new we(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let o=r.value;const l=rt(s,e);return o=o.updateChild(l,n),new Vt(t.writeTree_.set(s,o))}else{const s=new we(n),o=t.writeTree_.setTree(e,s);return new Vt(o)}}}function I_(t,e,n){let r=t;return mt(n,(s,o)=>{r=gs(r,ze(e,s),o)}),r}function M_(t,e){if(ee(e))return Vt.empty();{const n=t.writeTree_.setTree(e,new we(null));return new Vt(n)}}function Zc(t,e){return Ii(t,e)!=null}function Ii(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(rt(n.path,e)):null}function N_(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Te,(r,s)=>{e.push(new J(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new J(r,s.value))}),e}function Vn(t,e){if(ee(e))return t;{const n=Ii(t,e);return n!=null?new Vt(new we(n)):new Vt(t.writeTree_.subtree(e))}}function Wc(t){return t.writeTree_.isEmpty()}function Cr(t,e){return sy(le(),t.writeTree_,e)}function sy(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,o)=>{s===".priority"?(A(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=sy(ze(t,s),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ze(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(t,e){return uy(e,t)}function tL(t,e,n,r,s){A(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=gs(t.visibleWrites,e,n)),t.lastWriteId=r}function nL(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function iL(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);A(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,o=!1,l=t.allWrites.length-1;for(;s&&l>=0;){const c=t.allWrites[l];c.visible&&(l>=n&&rL(c,r.path)?s=!1:Ht(r.path,c.path)&&(o=!0)),l--}if(s){if(o)return sL(t),!0;if(r.snap)t.visibleWrites=M_(t.visibleWrites,r.path);else{const c=r.children;mt(c,h=>{t.visibleWrites=M_(t.visibleWrites,ze(r.path,h))})}return!0}else return!1}function rL(t,e){if(t.snap)return Ht(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ht(ze(t.path,n),e))return!0;return!1}function sL(t){t.visibleWrites=oy(t.allWrites,oL,le()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function oL(t){return t.visible}function oy(t,e,n){let r=Vt.empty();for(let s=0;s<t.length;++s){const o=t[s];if(e(o)){const l=o.path;let c;if(o.snap)Ht(n,l)?(c=rt(n,l),r=gs(r,c,o.snap)):Ht(l,n)&&(c=rt(l,n),r=gs(r,le(),o.snap.getChild(c)));else if(o.children){if(Ht(n,l))c=rt(n,l),r=I_(r,c,o.children);else if(Ht(l,n))if(c=rt(l,n),ee(c))r=I_(r,le(),o.children);else{const h=vr(o.children,ne(c));if(h){const f=h.getChild(me(c));r=gs(r,le(),f)}}}else throw Lr("WriteRecord should have .snap or .children")}}return r}function ay(t,e,n,r,s){if(!r&&!s){const o=Ii(t.visibleWrites,e);if(o!=null)return o;{const l=Vn(t.visibleWrites,e);if(Wc(l))return n;if(n==null&&!Zc(l,le()))return null;{const c=n||j.EMPTY_NODE;return Cr(l,c)}}}else{const o=Vn(t.visibleWrites,e);if(!s&&Wc(o))return n;if(!s&&n==null&&!Zc(o,le()))return null;{const l=function(f){return(f.visible||s)&&(!r||!~r.indexOf(f.writeId))&&(Ht(f.path,e)||Ht(e,f.path))},c=oy(t.allWrites,l,e),h=n||j.EMPTY_NODE;return Cr(c,h)}}}function aL(t,e,n){let r=j.EMPTY_NODE;const s=Ii(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Te,(o,l)=>{r=r.updateImmediateChild(o,l)}),r;if(n){const o=Vn(t.visibleWrites,e);return n.forEachChild(Te,(l,c)=>{const h=Cr(Vn(o,new he(l)),c);r=r.updateImmediateChild(l,h)}),N_(o).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}else{const o=Vn(t.visibleWrites,e);return N_(o).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}}function lL(t,e,n,r,s){A(r||s,"Either existingEventSnap or existingServerSnap must exist");const o=ze(e,n);if(Zc(t.visibleWrites,o))return null;{const l=Vn(t.visibleWrites,o);return Wc(l)?s.getChild(n):Cr(l,s.getChild(n))}}function uL(t,e,n,r){const s=ze(e,n),o=Ii(t.visibleWrites,s);if(o!=null)return o;if(r.isCompleteForChild(n)){const l=Vn(t.visibleWrites,s);return Cr(l,r.getNode().getImmediateChild(n))}else return null}function cL(t,e){return Ii(t.visibleWrites,e)}function hL(t,e,n,r,s,o,l){let c;const h=Vn(t.visibleWrites,e),f=Ii(h,le());if(f!=null)c=f;else if(n!=null)c=Cr(h,n);else return[];if(c=c.withIndex(l),!c.isEmpty()&&!c.isLeafNode()){const g=[],_=l.getCompare(),v=o?c.getReverseIteratorFrom(r,l):c.getIteratorFrom(r,l);let y=v.getNext();for(;y&&g.length<s;)_(y,r)!==0&&g.push(y),y=v.getNext();return g}else return[]}function dL(){return{visibleWrites:Vt.empty(),allWrites:[],lastWriteId:-1}}function Wa(t,e,n,r){return ay(t.writeTree,t.treePath,e,n,r)}function od(t,e){return aL(t.writeTree,t.treePath,e)}function O_(t,e,n,r){return lL(t.writeTree,t.treePath,e,n,r)}function ja(t,e){return cL(t.writeTree,ze(t.treePath,e))}function fL(t,e,n,r,s,o){return hL(t.writeTree,t.treePath,e,n,r,s,o)}function ad(t,e,n){return uL(t.writeTree,t.treePath,e,n)}function ly(t,e){return uy(ze(t.treePath,e),t.writeTree)}function uy(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;A(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),A(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const o=s.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Hs(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Us(r,s.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,wr(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Hs(r,e.snapshotNode,s.oldSnap));else throw Lr("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const cy=new _L;class ld{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Qn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ad(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Pi(this.viewCache_),o=fL(this.writes_,s,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t){return{filter:t}}function gL(t,e){A(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),A(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function vL(t,e,n,r,s){const o=new pL;let l,c;if(n.type===Zt.OVERWRITE){const f=n;f.source.fromUser?l=jc(t,e,f.path,f.snap,r,s,o):(A(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered()&&!ee(f.path),l=Va(t,e,f.path,f.snap,r,s,c,o))}else if(n.type===Zt.MERGE){const f=n;f.source.fromUser?l=wL(t,e,f.path,f.children,r,s,o):(A(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered(),l=Vc(t,e,f.path,f.children,r,s,c,o))}else if(n.type===Zt.ACK_USER_WRITE){const f=n;f.revert?l=EL(t,e,f.path,r,s,o):l=CL(t,e,f.path,f.affectedTree,r,s,o)}else if(n.type===Zt.LISTEN_COMPLETE)l=SL(t,e,n.path,r,o);else throw Lr("Unknown operation type: "+n.type);const h=o.getChanges();return yL(e,l,h),{viewCache:l,changes:h}}function yL(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Za(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ty(Za(e)))}}function hy(t,e,n,r,s,o){const l=e.eventCache;if(ja(r,n)!=null)return e;{let c,h;if(ee(n))if(A(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=Pi(e),g=f instanceof j?f:j.EMPTY_NODE,_=od(r,g);c=t.filter.updateFullNode(e.eventCache.getNode(),_,o)}else{const f=Wa(r,Pi(e));c=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const f=ne(n);if(f===".priority"){A(Yn(n)===1,"Can't have a priority with additional path components");const g=l.getNode();h=e.serverCache.getNode();const _=O_(r,n,g,h);_!=null?c=t.filter.updatePriority(g,_):c=l.getNode()}else{const g=me(n);let _;if(l.isCompleteForChild(f)){h=e.serverCache.getNode();const v=O_(r,n,l.getNode(),h);v!=null?_=l.getNode().getImmediateChild(f).updateChild(g,v):_=l.getNode().getImmediateChild(f)}else _=ad(r,f,e.serverCache);_!=null?c=t.filter.updateChild(l.getNode(),f,_,g,s,o):c=l.getNode()}}return ms(e,c,l.isFullyInitialized()||ee(n),t.filter.filtersNodes())}}function Va(t,e,n,r,s,o,l,c){const h=e.serverCache;let f;const g=l?t.filter:t.filter.getIndexedFilter();if(ee(n))f=g.updateFullNode(h.getNode(),r,null);else if(g.filtersNodes()&&!h.isFiltered()){const y=h.getNode().updateChild(n,r);f=g.updateFullNode(h.getNode(),y,null)}else{const y=ne(n);if(!h.isCompleteForPath(n)&&Yn(n)>1)return e;const x=me(n),D=h.getNode().getImmediateChild(y).updateChild(x,r);y===".priority"?f=g.updatePriority(h.getNode(),D):f=g.updateChild(h.getNode(),y,D,x,cy,null)}const _=ry(e,f,h.isFullyInitialized()||ee(n),g.filtersNodes()),v=new ld(s,_,o);return hy(t,_,n,s,v,c)}function jc(t,e,n,r,s,o,l){const c=e.eventCache;let h,f;const g=new ld(s,e,o);if(ee(n))f=t.filter.updateFullNode(e.eventCache.getNode(),r,l),h=ms(e,f,!0,t.filter.filtersNodes());else{const _=ne(n);if(_===".priority")f=t.filter.updatePriority(e.eventCache.getNode(),r),h=ms(e,f,c.isFullyInitialized(),c.isFiltered());else{const v=me(n),y=c.getNode().getImmediateChild(_);let x;if(ee(v))x=r;else{const P=g.getCompleteChild(_);P!=null?Vv(v)===".priority"&&P.getChild($v(v)).isEmpty()?x=P:x=P.updateChild(v,r):x=j.EMPTY_NODE}if(y.equals(x))h=e;else{const P=t.filter.updateChild(c.getNode(),_,x,v,g,l);h=ms(e,P,c.isFullyInitialized(),t.filter.filtersNodes())}}}return h}function A_(t,e){return t.eventCache.isCompleteForChild(e)}function wL(t,e,n,r,s,o,l){let c=e;return r.foreach((h,f)=>{const g=ze(n,h);A_(e,ne(g))&&(c=jc(t,c,g,f,s,o,l))}),r.foreach((h,f)=>{const g=ze(n,h);A_(e,ne(g))||(c=jc(t,c,g,f,s,o,l))}),c}function R_(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Vc(t,e,n,r,s,o,l,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,f;ee(n)?f=r:f=new we(null).setTree(n,r);const g=e.serverCache.getNode();return f.children.inorderTraversal((_,v)=>{if(g.hasChild(_)){const y=e.serverCache.getNode().getImmediateChild(_),x=R_(t,y,v);h=Va(t,h,new he(_),x,s,o,l,c)}}),f.children.inorderTraversal((_,v)=>{const y=!e.serverCache.isCompleteForChild(_)&&v.value===null;if(!g.hasChild(_)&&!y){const x=e.serverCache.getNode().getImmediateChild(_),P=R_(t,x,v);h=Va(t,h,new he(_),P,s,o,l,c)}}),h}function CL(t,e,n,r,s,o,l){if(ja(s,n)!=null)return e;const c=e.serverCache.isFiltered(),h=e.serverCache;if(r.value!=null){if(ee(n)&&h.isFullyInitialized()||h.isCompleteForPath(n))return Va(t,e,n,h.getNode().getChild(n),s,o,c,l);if(ee(n)){let f=new we(null);return h.getNode().forEachChild(cr,(g,_)=>{f=f.set(new he(g),_)}),Vc(t,e,n,f,s,o,c,l)}else return e}else{let f=new we(null);return r.foreach((g,_)=>{const v=ze(n,g);h.isCompleteForPath(v)&&(f=f.set(g,h.getNode().getChild(v)))}),Vc(t,e,n,f,s,o,c,l)}}function SL(t,e,n,r,s){const o=e.serverCache,l=ry(e,o.getNode(),o.isFullyInitialized()||ee(n),o.isFiltered());return hy(t,l,n,r,cy,s)}function EL(t,e,n,r,s,o){let l;if(ja(r,n)!=null)return e;{const c=new ld(r,e,s),h=e.eventCache.getNode();let f;if(ee(n)||ne(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=Wa(r,Pi(e));else{const _=e.serverCache.getNode();A(_ instanceof j,"serverChildren would be complete if leaf node"),g=od(r,_)}g=g,f=t.filter.updateFullNode(h,g,o)}else{const g=ne(n);let _=ad(r,g,e.serverCache);_==null&&e.serverCache.isCompleteForChild(g)&&(_=h.getImmediateChild(g)),_!=null?f=t.filter.updateChild(h,g,_,me(n),c,o):e.eventCache.getNode().hasChild(g)?f=t.filter.updateChild(h,g,j.EMPTY_NODE,me(n),c,o):f=h,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=Wa(r,Pi(e)),l.isLeafNode()&&(f=t.filter.updateFullNode(f,l,o)))}return l=e.serverCache.isFullyInitialized()||ja(r,le())!=null,ms(e,f,l,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new nd(r.getIndex()),o=Wx(r);this.processor_=mL(o);const l=n.serverCache,c=n.eventCache,h=s.updateFullNode(j.EMPTY_NODE,l.getNode(),null),f=o.updateFullNode(j.EMPTY_NODE,c.getNode(),null),g=new Qn(h,l.isFullyInitialized(),s.filtersNodes()),_=new Qn(f,c.isFullyInitialized(),o.filtersNodes());this.viewCache_=fl(_,g),this.eventGenerator_=new Yx(this.query_)}get query(){return this.query_}}function LL(t){return t.viewCache_.serverCache.getNode()}function PL(t){return Za(t.viewCache_)}function kL(t,e){const n=Pi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ee(e)&&!n.getImmediateChild(ne(e)).isEmpty())?n.getChild(e):null}function b_(t){return t.eventRegistrations_.length===0}function TL(t,e){t.eventRegistrations_.push(e)}function D_(t,e,n){const r=[];if(n){A(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(o=>{const l=o.createCancelEvent(n,s);l&&r.push(l)})}if(e){let s=[];for(let o=0;o<t.eventRegistrations_.length;++o){const l=t.eventRegistrations_[o];if(!l.matches(e))s.push(l);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function z_(t,e,n,r){e.type===Zt.MERGE&&e.source.queryId!==null&&(A(Pi(t.viewCache_),"We should always have a full cache before handling merges"),A(Za(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,o=vL(t.processor_,s,e,n,r);return gL(t.processor_,o.viewCache),A(o.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,dy(t,o.changes,o.viewCache.eventCache.getNode(),null)}function IL(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Te,(o,l)=>{r.push(wr(o,l))}),n.isFullyInitialized()&&r.push(ty(n.getNode())),dy(t,r,n.getNode(),e)}function dy(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return Qx(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga;class fy{constructor(){this.views=new Map}}function ML(t){A(!Ga,"__referenceConstructor has already been defined"),Ga=t}function NL(){return A(Ga,"Reference.ts has not been loaded"),Ga}function OL(t){return t.views.size===0}function ud(t,e,n,r){const s=e.source.queryId;if(s!==null){const o=t.views.get(s);return A(o!=null,"SyncTree gave us an op for an invalid query."),z_(o,e,n,r)}else{let o=[];for(const l of t.views.values())o=o.concat(z_(l,e,n,r));return o}}function py(t,e,n,r,s){const o=e._queryIdentifier,l=t.views.get(o);if(!l){let c=Wa(n,s?r:null),h=!1;c?h=!0:r instanceof j?(c=od(n,r),h=!1):(c=j.EMPTY_NODE,h=!1);const f=fl(new Qn(c,h,!1),new Qn(r,s,!1));return new xL(e,f)}return l}function AL(t,e,n,r,s,o){const l=py(t,e,r,s,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,l),TL(l,n),IL(l,n)}function RL(t,e,n,r){const s=e._queryIdentifier,o=[];let l=[];const c=Xn(t);if(s==="default")for(const[h,f]of t.views.entries())l=l.concat(D_(f,n,r)),b_(f)&&(t.views.delete(h),f.query._queryParams.loadsAllData()||o.push(f.query));else{const h=t.views.get(s);h&&(l=l.concat(D_(h,n,r)),b_(h)&&(t.views.delete(s),h.query._queryParams.loadsAllData()||o.push(h.query)))}return c&&!Xn(t)&&o.push(new(NL())(e._repo,e._path)),{removed:o,events:l}}function _y(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Gn(t,e){let n=null;for(const r of t.views.values())n=n||kL(r,e);return n}function my(t,e){if(e._queryParams.loadsAllData())return _l(t);{const r=e._queryIdentifier;return t.views.get(r)}}function gy(t,e){return my(t,e)!=null}function Xn(t){return _l(t)!=null}function _l(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $a;function bL(t){A(!$a,"__referenceConstructor has already been defined"),$a=t}function DL(){return A($a,"Reference.ts has not been loaded"),$a}let zL=1;class B_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new we(null),this.pendingWriteTree_=dL(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function BL(t,e,n,r,s){return tL(t.pendingWriteTree_,e,n,r,s),s?so(t,new Li(iy(),e,n)):[]}function er(t,e,n=!1){const r=nL(t.pendingWriteTree_,e);if(iL(t.pendingWriteTree_,e)){let o=new we(null);return r.snap!=null?o=o.set(le(),!0):mt(r.children,l=>{o=o.set(new he(l),!0)}),so(t,new Ha(r.path,o,n))}else return[]}function ro(t,e,n){return so(t,new Li(rd(),e,n))}function FL(t,e,n){const r=we.fromObject(n);return so(t,new js(rd(),e,r))}function UL(t,e){return so(t,new Ws(rd(),e))}function HL(t,e,n){const r=cd(t,n);if(r){const s=hd(r),o=s.path,l=s.queryId,c=rt(o,e),h=new Ws(sd(l),c);return dd(t,o,h)}else return[]}function vy(t,e,n,r,s=!1){const o=e._path,l=t.syncPointTree_.get(o);let c=[];if(l&&(e._queryIdentifier==="default"||gy(l,e))){const h=RL(l,e,n,r);OL(l)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const f=h.removed;if(c=h.events,!s){const g=f.findIndex(v=>v._queryParams.loadsAllData())!==-1,_=t.syncPointTree_.findOnPath(o,(v,y)=>Xn(y));if(g&&!_){const v=t.syncPointTree_.subtree(o);if(!v.isEmpty()){const y=VL(v);for(let x=0;x<y.length;++x){const P=y[x],D=P.query,S=Ey(t,P);t.listenProvider_.startListening(vs(D),Vs(t,D),S.hashFn,S.onComplete)}}}!_&&f.length>0&&!r&&(g?t.listenProvider_.stopListening(vs(e),null):f.forEach(v=>{const y=t.queryToTagMap.get(ml(v));t.listenProvider_.stopListening(vs(v),y)}))}GL(t,f)}return c}function yy(t,e,n,r){const s=cd(t,r);if(s!=null){const o=hd(s),l=o.path,c=o.queryId,h=rt(l,e),f=new Li(sd(c),h,n);return dd(t,l,f)}else return[]}function ZL(t,e,n,r){const s=cd(t,r);if(s){const o=hd(s),l=o.path,c=o.queryId,h=rt(l,e),f=we.fromObject(n),g=new js(sd(c),h,f);return dd(t,l,g)}else return[]}function WL(t,e,n,r=!1){const s=e._path;let o=null,l=!1;t.syncPointTree_.foreachOnPath(s,(v,y)=>{const x=rt(v,s);o=o||Gn(y,x),l=l||Xn(y)});let c=t.syncPointTree_.get(s);c?(l=l||Xn(c),o=o||Gn(c,le())):(c=new fy,t.syncPointTree_=t.syncPointTree_.set(s,c));let h;o!=null?h=!0:(h=!1,o=j.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((y,x)=>{const P=Gn(x,le());P&&(o=o.updateImmediateChild(y,P))}));const f=gy(c,e);if(!f&&!e._queryParams.loadsAllData()){const v=ml(e);A(!t.queryToTagMap.has(v),"View does not exist, but we have a tag");const y=$L();t.queryToTagMap.set(v,y),t.tagToQueryMap.set(y,v)}const g=pl(t.pendingWriteTree_,s);let _=AL(c,e,n,g,o,h);if(!f&&!l&&!r){const v=my(c,e);_=_.concat(KL(t,e,v))}return _}function wy(t,e,n){const s=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(l,c)=>{const h=rt(l,e),f=Gn(c,h);if(f)return f});return ay(s,e,o,n,!0)}function jL(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(f,g)=>{const _=rt(f,n);r=r||Gn(g,_)});let s=t.syncPointTree_.get(n);s?r=r||Gn(s,le()):(s=new fy,t.syncPointTree_=t.syncPointTree_.set(n,s));const o=r!=null,l=o?new Qn(r,!0,!1):null,c=pl(t.pendingWriteTree_,e._path),h=py(s,e,c,o?l.getNode():j.EMPTY_NODE,o);return PL(h)}function so(t,e){return Cy(e,t.syncPointTree_,null,pl(t.pendingWriteTree_,le()))}function Cy(t,e,n,r){if(ee(t.path))return Sy(t,e,n,r);{const s=e.get(le());n==null&&s!=null&&(n=Gn(s,le()));let o=[];const l=ne(t.path),c=t.operationForChild(l),h=e.children.get(l);if(h&&c){const f=n?n.getImmediateChild(l):null,g=ly(r,l);o=o.concat(Cy(c,h,f,g))}return s&&(o=o.concat(ud(s,t,r,n))),o}}function Sy(t,e,n,r){const s=e.get(le());n==null&&s!=null&&(n=Gn(s,le()));let o=[];return e.children.inorderTraversal((l,c)=>{const h=n?n.getImmediateChild(l):null,f=ly(r,l),g=t.operationForChild(l);g&&(o=o.concat(Sy(g,c,h,f)))}),s&&(o=o.concat(ud(s,t,r,n))),o}function Ey(t,e){const n=e.query,r=Vs(t,n);return{hashFn:()=>(LL(e)||j.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?HL(t,n._path,r):UL(t,n._path);{const o=Z1(s,n);return vy(t,n,null,o)}}}}function Vs(t,e){const n=ml(e);return t.queryToTagMap.get(n)}function ml(t){return t._path.toString()+"$"+t._queryIdentifier}function cd(t,e){return t.tagToQueryMap.get(e)}function hd(t){const e=t.indexOf("$");return A(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new he(t.substr(0,e))}}function dd(t,e,n){const r=t.syncPointTree_.get(e);A(r,"Missing sync point for query tag that we're tracking");const s=pl(t.pendingWriteTree_,e);return ud(r,n,s,null)}function VL(t){return t.fold((e,n,r)=>{if(n&&Xn(n))return[_l(n)];{let s=[];return n&&(s=_y(n)),mt(r,(o,l)=>{s=s.concat(l)}),s}})}function vs(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(DL())(t._repo,t._path):t}function GL(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=ml(r),o=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(o)}}}function $L(){return zL++}function KL(t,e,n){const r=e._path,s=Vs(t,e),o=Ey(t,n),l=t.listenProvider_.startListening(vs(e),s,o.hashFn,o.onComplete),c=t.syncPointTree_.subtree(r);if(s)A(!Xn(c.value),"If we're adding a query, it shouldn't be shadowed");else{const h=c.fold((f,g,_)=>{if(!ee(f)&&g&&Xn(g))return[_l(g).query];{let v=[];return g&&(v=v.concat(_y(g).map(y=>y.query))),mt(_,(y,x)=>{v=v.concat(x)}),v}});for(let f=0;f<h.length;++f){const g=h[f];t.listenProvider_.stopListening(vs(g),Vs(t,g))}}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new fd(n)}node(){return this.node_}}class pd{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ze(this.path_,e);return new pd(this.syncTree_,n)}node(){return wy(this.syncTree_,this.path_)}}const qL=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},F_=function(t,e,n){if(!t||typeof t!="object")return t;if(A(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return YL(t[".sv"],e,n);if(typeof t[".sv"]=="object")return QL(t[".sv"],e);A(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},YL=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:A(!1,"Unexpected server value: "+t)}},QL=function(t,e,n){t.hasOwnProperty("increment")||A(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&A(!1,"Unexpected increment value: "+r);const s=e.node();if(A(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const l=s.getValue();return typeof l!="number"?r:l+r},XL=function(t,e,n,r){return _d(e,new pd(n,t),r)},JL=function(t,e,n){return _d(t,new fd(e),n)};function _d(t,e,n){const r=t.getPriority().val(),s=F_(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const l=t,c=F_(l.getValue(),e,n);return c!==l.getValue()||s!==l.getPriority().val()?new He(c,Ke(s)):t}else{const l=t;return o=l,s!==l.getPriority().val()&&(o=o.updatePriority(new He(s))),l.forEachChild(Te,(c,h)=>{const f=_d(h,e.getImmediateChild(c),n);f!==h&&(o=o.updateImmediateChild(c,f))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function gd(t,e){let n=e instanceof he?e:new he(e),r=t,s=ne(n);for(;s!==null;){const o=vr(r.node.children,s)||{children:{},childCount:0};r=new md(s,r,o),n=me(n),s=ne(n)}return r}function kr(t){return t.node.value}function xy(t,e){t.node.value=e,Gc(t)}function Ly(t){return t.node.childCount>0}function eP(t){return kr(t)===void 0&&!Ly(t)}function gl(t,e){mt(t.node.children,(n,r)=>{e(new md(n,t,r))})}function Py(t,e,n,r){n&&!r&&e(t),gl(t,s=>{Py(s,e,!0,r)}),n&&r&&e(t)}function tP(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function oo(t){return new he(t.parent===null?t.name:oo(t.parent)+"/"+t.name)}function Gc(t){t.parent!==null&&nP(t.parent,t.name,t)}function nP(t,e,n){const r=eP(n),s=Sn(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Gc(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Gc(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=/[\[\].#$\/\u0000-\u001F\u007F]/,rP=/[\[\].#$\u0000-\u001F\u007F]/,Du=10*1024*1024,ky=function(t){return typeof t=="string"&&t.length!==0&&!iP.test(t)},Ty=function(t){return typeof t=="string"&&t.length!==0&&!rP.test(t)},sP=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Ty(t)},Iy=function(t,e,n){const r=n instanceof he?new Cx(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+di(r));if(typeof e=="function")throw new Error(t+"contains a function "+di(r)+" with contents = "+e.toString());if(xv(e))throw new Error(t+"contains "+e.toString()+" "+di(r));if(typeof e=="string"&&e.length>Du/3&&hl(e)>Du)throw new Error(t+"contains a string greater than "+Du+" utf8 bytes "+di(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,o=!1;if(mt(e,(l,c)=>{if(l===".value")s=!0;else if(l!==".priority"&&l!==".sv"&&(o=!0,!ky(l)))throw new Error(t+" contains an invalid key ("+l+") "+di(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Sx(r,l),Iy(t,c,r),Ex(r)}),s&&o)throw new Error(t+' contains ".value" child '+di(r)+" in addition to actual children.")}},My=function(t,e,n,r){if(!Ty(n))throw new Error(_v(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},oP=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),My(t,e,n)},aP=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!ky(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!sP(n))throw new Error(_v(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function uP(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],o=s.getPath();n!==null&&!Kv(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(s)}n&&t.eventLists_.push(n)}function ni(t,e,n){uP(t,n),cP(t,r=>Ht(r,e)||Ht(e,r))}function cP(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const o=s.path;e(o)?(hP(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function hP(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();ps&&et("event: "+n.toString()),no(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP="repo_interrupt",fP=25;class pP{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new lP,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ua(),this.transactionQueueTree_=new md,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function _P(t,e,n){if(t.stats_=Xh(t.repoInfo_),t.forceRestClient_||G1())t.server_=new Fa(t.repoInfo_,(r,s,o,l)=>{U_(t,r,s,o,l)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>H_(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{De(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new pn(t.repoInfo_,e,(r,s,o,l)=>{U_(t,r,s,o,l)},r=>{H_(t,r)},r=>{gP(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Q1(t.repoInfo_,()=>new qx(t.stats_,t.server_)),t.infoData_=new jx,t.infoSyncTree_=new B_({startListening:(r,s,o,l)=>{let c=[];const h=t.infoData_.getNode(r._path);return h.isEmpty()||(c=ro(t.infoSyncTree_,r._path,h),setTimeout(()=>{l("ok")},0)),c},stopListening:()=>{}}),vd(t,"connected",!1),t.serverSyncTree_=new B_({startListening:(r,s,o,l)=>(t.server_.listen(r,o,s,(c,h)=>{const f=l(c,h);ni(t.eventQueue_,r._path,f)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function mP(t){const n=t.infoData_.getNode(new he(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ny(t){return qL({timestamp:mP(t)})}function U_(t,e,n,r,s){t.dataUpdateCount++;const o=new he(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let l=[];if(s)if(r){const h=Aa(n,f=>Ke(f));l=ZL(t.serverSyncTree_,o,h,s)}else{const h=Ke(n);l=yy(t.serverSyncTree_,o,h,s)}else if(r){const h=Aa(n,f=>Ke(f));l=FL(t.serverSyncTree_,o,h)}else{const h=Ke(n);l=ro(t.serverSyncTree_,o,h)}let c=o;l.length>0&&(c=Cd(t,o)),ni(t.eventQueue_,c,l)}function H_(t,e){vd(t,"connected",e),e===!1&&wP(t)}function gP(t,e){mt(e,(n,r)=>{vd(t,n,r)})}function vd(t,e,n){const r=new he("/.info/"+e),s=Ke(n);t.infoData_.updateSnapshot(r,s);const o=ro(t.infoSyncTree_,r,s);ni(t.eventQueue_,r,o)}function vP(t){return t.nextWriteId_++}function yP(t,e,n){const r=jL(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const o=Ke(s).withIndex(e._queryParams.getIndex());WL(t.serverSyncTree_,e,n,!0);let l;if(e._queryParams.loadsAllData())l=ro(t.serverSyncTree_,e._path,o);else{const c=Vs(t.serverSyncTree_,e);l=yy(t.serverSyncTree_,e._path,o,c)}return ni(t.eventQueue_,e._path,l),vy(t.serverSyncTree_,e,n,null,!0),o},s=>(yd(t,"get for query "+De(e)+" failed: "+s),Promise.reject(new Error(s))))}function wP(t){yd(t,"onDisconnectEvents");const e=Ny(t),n=Ua();Hc(t.onDisconnect_,le(),(s,o)=>{const l=XL(s,o,t.serverSyncTree_,e);ny(n,s,l)});let r=[];Hc(n,le(),(s,o)=>{r=r.concat(ro(t.serverSyncTree_,s,o));const l=xP(t,s);Cd(t,l)}),t.onDisconnect_=Ua(),ni(t.eventQueue_,le(),r)}function CP(t){t.persistentConnection_&&t.persistentConnection_.interrupt(dP)}function yd(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),et(n,...e)}function Oy(t,e,n){return wy(t.serverSyncTree_,e,n)||j.EMPTY_NODE}function wd(t,e=t.transactionQueueTree_){if(e||vl(t,e),kr(e)){const n=Ry(t,e);A(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&SP(t,oo(e),n)}else Ly(e)&&gl(e,n=>{wd(t,n)})}function SP(t,e,n){const r=n.map(f=>f.currentWriteId),s=Oy(t,e,r);let o=s;const l=s.hash();for(let f=0;f<n.length;f++){const g=n[f];A(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const _=rt(e,g.path);o=o.updateChild(_,g.currentOutputSnapshotRaw)}const c=o.val(!0),h=e;t.server_.put(h.toString(),c,f=>{yd(t,"transaction put response",{path:h.toString(),status:f});let g=[];if(f==="ok"){const _=[];for(let v=0;v<n.length;v++)n[v].status=2,g=g.concat(er(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&_.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();vl(t,gd(t.transactionQueueTree_,e)),wd(t,t.transactionQueueTree_),ni(t.eventQueue_,e,g);for(let v=0;v<_.length;v++)no(_[v])}else{if(f==="datastale")for(let _=0;_<n.length;_++)n[_].status===3?n[_].status=4:n[_].status=0;else{wt("transaction at "+h.toString()+" failed: "+f);for(let _=0;_<n.length;_++)n[_].status=4,n[_].abortReason=f}Cd(t,e)}},l)}function Cd(t,e){const n=Ay(t,e),r=oo(n),s=Ry(t,n);return EP(t,s,r),r}function EP(t,e,n){if(e.length===0)return;const r=[];let s=[];const l=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const h=e[c],f=rt(n,h.path);let g=!1,_;if(A(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)g=!0,_=h.abortReason,s=s.concat(er(t.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=fP)g=!0,_="maxretry",s=s.concat(er(t.serverSyncTree_,h.currentWriteId,!0));else{const v=Oy(t,h.path,l);h.currentInputSnapshot=v;const y=e[c].update(v.val());if(y!==void 0){Iy("transaction failed: Data returned ",y,h.path);let x=Ke(y);typeof y=="object"&&y!=null&&Sn(y,".priority")||(x=x.updatePriority(v.getPriority()));const D=h.currentWriteId,S=Ny(t),w=JL(x,v,S);h.currentOutputSnapshotRaw=x,h.currentOutputSnapshotResolved=w,h.currentWriteId=vP(t),l.splice(l.indexOf(D),1),s=s.concat(BL(t.serverSyncTree_,h.path,w,h.currentWriteId,h.applyLocally)),s=s.concat(er(t.serverSyncTree_,D,!0))}else g=!0,_="nodata",s=s.concat(er(t.serverSyncTree_,h.currentWriteId,!0))}ni(t.eventQueue_,n,s),s=[],g&&(e[c].status=2,function(v){setTimeout(v,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(_==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(_),!1,null))))}vl(t,t.transactionQueueTree_);for(let c=0;c<r.length;c++)no(r[c]);wd(t,t.transactionQueueTree_)}function Ay(t,e){let n,r=t.transactionQueueTree_;for(n=ne(e);n!==null&&kr(r)===void 0;)r=gd(r,n),e=me(e),n=ne(e);return r}function Ry(t,e){const n=[];return by(t,e,n),n.sort((r,s)=>r.order-s.order),n}function by(t,e,n){const r=kr(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);gl(e,s=>{by(t,s,n)})}function vl(t,e){const n=kr(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,xy(e,n.length>0?n:void 0)}gl(e,r=>{vl(t,r)})}function xP(t,e){const n=oo(Ay(t,e)),r=gd(t.transactionQueueTree_,e);return tP(r,s=>{zu(t,s)}),zu(t,r),Py(r,s=>{zu(t,s)}),n}function zu(t,e){const n=kr(e);if(n){const r=[];let s=[],o=-1;for(let l=0;l<n.length;l++)n[l].status===3||(n[l].status===1?(A(o===l-1,"All SENT items should be at beginning of queue."),o=l,n[l].status=3,n[l].abortReason="set"):(A(n[l].status===0,"Unexpected transaction status in abort"),n[l].unwatcher(),s=s.concat(er(t.serverSyncTree_,n[l].currentWriteId,!0)),n[l].onComplete&&r.push(n[l].onComplete.bind(null,new Error("set"),!1,null))));o===-1?xy(e,void 0):n.length=o+1,ni(t.eventQueue_,oo(e),s);for(let l=0;l<r.length;l++)no(r[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function PP(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):wt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Z_=function(t,e){const n=kP(t),r=n.namespace;n.domain==="firebase.com"&&wn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&wn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||z1();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Dv(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new he(n.pathString)}},kP=function(t){let e="",n="",r="",s="",o="",l=!0,c="https",h=443;if(typeof t=="string"){let f=t.indexOf("//");f>=0&&(c=t.substring(0,f-1),t=t.substring(f+2));let g=t.indexOf("/");g===-1&&(g=t.length);let _=t.indexOf("?");_===-1&&(_=t.length),e=t.substring(0,Math.min(g,_)),g<_&&(s=LP(t.substring(g,_)));const v=PP(t.substring(Math.min(t.length,_)));f=e.indexOf(":"),f>=0?(l=c==="https"||c==="wss",h=parseInt(e.substring(f+1),10)):f=e.length;const y=e.slice(0,f);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{const x=e.indexOf(".");r=e.substring(0,x).toLowerCase(),n=e.substring(x+1),o=r}"ns"in v&&(o=v.ns)}return{host:e,port:h,domain:n,subdomain:r,secure:l,scheme:c,pathString:s,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+De(this.snapshot.exportVal())}}class IP{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return A(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return ee(this._path)?null:Vv(this._path)}get ref(){return new En(this._repo,this._path)}get _queryIdentifier(){const e=k_(this._queryParams),n=Yh(e);return n==="{}"?"default":n}get _queryObject(){return k_(this._queryParams)}isEqual(e){if(e=Js(e),!(e instanceof Sd))return!1;const n=this._repo===e._repo,r=Kv(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+wx(this._path)}}class En extends Sd{constructor(e,n){super(e,n,new id,!1)}get parent(){const e=$v(this._path);return e===null?null:new En(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Gs{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new he(e),r=$c(this.ref,e);return new Gs(this._node.getChild(n),r,Te)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new Gs(s,$c(this.ref,r),Te)))}hasChild(e){const n=new he(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Dy(t,e){return t=Js(t),t._checkNotDeleted("ref"),$c(t._root,e)}function $c(t,e){return t=Js(t),ne(t._path)===null?oP("child","path",e):My("child","path",e),new En(t._repo,ze(t._path,e))}function zy(t){t=Js(t);const e=new MP(()=>{}),n=new Ed(e);return yP(t._repo,t,n).then(r=>new Gs(r,new En(t._repo,t._path),t._queryParams.getIndex()))}class Ed{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new TP("value",this,new Gs(e.snapshotNode,new En(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new IP(this,e,n):null}matches(e){return e instanceof Ed?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}ML(En);bL(En);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP="FIREBASE_DATABASE_EMULATOR_HOST",Kc={};let OP=!1;function AP(t,e,n,r){t.repoInfo_=new Dv(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function RP(t,e,n,r,s){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||wn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),et("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l=Z_(o,s),c=l.repoInfo,h;typeof process<"u"&&u_&&(h=u_[NP]),h?(o=`http://${h}?ns=${c.namespace}`,l=Z_(o,s),c=l.repoInfo):l.repoInfo.secure;const f=new K1(t.name,t.options,e);aP("Invalid Firebase Database URL",l),ee(l.path)||wn("Database URL must point to the root of a Firebase Database (not including a child path).");const g=DP(c,t,f,new $1(t.name,n));return new zP(g,t)}function bP(t,e){const n=Kc[e];(!n||n[t.key]!==t)&&wn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),CP(t),delete n[t.key]}function DP(t,e,n,r){let s=Kc[e.name];s||(s={},Kc[e.name]=s);let o=s[t.toURLString()];return o&&wn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new pP(t,OP,n,r),s[t.toURLString()]=o,o}class zP{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(_P(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new En(this._repo,le())),this._rootInternal}_delete(){return this._rootInternal!==null&&(bP(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&wn("Cannot call "+e+" on a deleted database.")}}function By(t=y1(),e){const n=_1(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=sE("database");r&&BP(n,...r)}return n}function BP(t,e,n,r={}){t=Js(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&wn("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&wn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new aa(aa.OWNER);else if(r.mockUserToken){const l=typeof r.mockUserToken=="string"?r.mockUserToken:oE(r.mockUserToken,t.app.options.projectId);o=new aa(l)}AP(s,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(t){N1(v1),ba(new zs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return RP(r,s,o,n)},"PUBLIC").setMultipleInstances(!0)),lr(c_,h_,t),lr(c_,h_,"esm2017")}pn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};pn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};FP();const UP={apiKey:"AIzaSyB0xVPcTwZb5vYCZZKYPr8uimM8nKxM900",authDomain:"mapa-fe85d.firebaseapp.com",databaseURL:"https://mapa-fe85d-default-rtdb.europe-west1.firebasedatabase.app",projectId:"mapa-fe85d",storageBucket:"mapa-fe85d.firebasestorage.app",messagingSenderId:"1061731964525",appId:"1:1061731964525:web:7b1aecf2d5c3a04caad164",measurementId:"G-63RZV3H9KB"},HP=qh(UP),ZP=By(HP);async function WP(){const t=Dy(ZP,"/");try{const e=await zy(t);if(e.exists())return console.log(e.val()),e.val();console.log("No data available")}catch(e){console.error("Error reading data:",e)}}WP();function jP({onFilterChange:t}){const[e,n]=q.useState(!1),[r,s]=q.useState([]),o=["Besplatne usluge","Usluge s naplatom","Bolnice","Domovi zdravlja","Ljekarne","Poliklinike","Prevencija ovisnosti","Psiholozi"],l=c=>{const h=r.includes(c)?r.filter(f=>f!==c):[...r,c];s(h),t(h)};return pe.jsxs("div",{className:"dropdown-container",children:[pe.jsxs("button",{className:"dropdown-button",onClick:()=>n(!e),children:[r.length>0?`Odabrano (${r.length})`:"Filtriraj",pe.jsx("span",{className:"dropdown-icon",children:"▼"})]}),e&&pe.jsx("div",{className:"dropdown-menu",children:o.map(c=>pe.jsxs("div",{className:"dropdown-option",children:[pe.jsx("input",{type:"checkbox",id:c,checked:r.includes(c),onChange:()=>l(c),"aria-labelledby":c}),pe.jsx("label",{htmlFor:c,children:c})]},c))})]})}function xd(t,e){const n=q.useRef(e);q.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}function VP(t,e,n){e.center!==n.center&&t.setLatLng(e.center),e.radius!=null&&e.radius!==n.radius&&t.setRadius(e.radius)}const Fy=1;function Uy(t){return Object.freeze({__version:Fy,map:t})}function Hy(t,e){return Object.freeze({...t,...e})}const Ld=q.createContext(null),Pd=Ld.Provider;function ao(){const t=q.useContext(Ld);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function kd(t){function e(n,r){const{instance:s,context:o}=t(n).current;return q.useImperativeHandle(r,()=>s),n.children==null?null:Bu.createElement(Pd,{value:o},n.children)}return q.forwardRef(e)}function Zy(t){function e(n,r){const[s,o]=q.useState(!1),{instance:l}=t(n,o).current;q.useImperativeHandle(r,()=>l),q.useEffect(function(){s&&l.update()},[l,s,n.children]);const c=l._contentNode;return c?iv.createPortal(n.children,c):null}return q.forwardRef(e)}function Td(t){function e(n,r){const{instance:s}=t(n).current;return q.useImperativeHandle(r,()=>s),null}return q.forwardRef(e)}function Wy(t){return function(n){const r=ao(),s=t(n,r),{instance:o}=s.current,l=q.useRef(n.position),{position:c}=n;return q.useEffect(function(){return o.addTo(r.map),function(){o.remove()}},[r.map,o]),q.useEffect(function(){c!=null&&c!==l.current&&(o.setPosition(c),l.current=c)},[o,c]),s}}function yl(t,e){const n=q.useRef();q.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function lo(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function jy(t,e){return function(r,s){const o=ao(),l=t(lo(r,o),o);return xd(o.map,r.attribution),yl(l.current,r.eventHandlers),e(l.current,o,r,s),l}}var qc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})($n,function(n){var r="1.9.4";function s(i){var a,u,d,p;for(u=1,d=arguments.length;u<d;u++){p=arguments[u];for(a in p)i[a]=p[a]}return i}var o=Object.create||function(){function i(){}return function(a){return i.prototype=a,new i}}();function l(i,a){var u=Array.prototype.slice;if(i.bind)return i.bind.apply(i,u.call(arguments,1));var d=u.call(arguments,2);return function(){return i.apply(a,d.length?d.concat(u.call(arguments)):arguments)}}var c=0;function h(i){return"_leaflet_id"in i||(i._leaflet_id=++c),i._leaflet_id}function f(i,a,u){var d,p,m,C;return C=function(){d=!1,p&&(m.apply(u,p),p=!1)},m=function(){d?p=arguments:(i.apply(u,arguments),setTimeout(C,a),d=!0)},m}function g(i,a,u){var d=a[1],p=a[0],m=d-p;return i===d&&u?i:((i-p)%m+m)%m+p}function _(){return!1}function v(i,a){if(a===!1)return i;var u=Math.pow(10,a===void 0?6:a);return Math.round(i*u)/u}function y(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function x(i){return y(i).split(/\s+/)}function P(i,a){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?o(i.options):{});for(var u in a)i.options[u]=a[u];return i.options}function D(i,a,u){var d=[];for(var p in i)d.push(encodeURIComponent(u?p.toUpperCase():p)+"="+encodeURIComponent(i[p]));return(!a||a.indexOf("?")===-1?"?":"&")+d.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function w(i,a){return i.replace(S,function(u,d){var p=a[d];if(p===void 0)throw new Error("No value provided for variable "+u);return typeof p=="function"&&(p=p(a)),p})}var E=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function M(i,a){for(var u=0;u<i.length;u++)if(i[u]===a)return u;return-1}var b="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function F(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var U=0;function H(i){var a=+new Date,u=Math.max(0,16-(a-U));return U=a+u,window.setTimeout(i,u)}var ve=window.requestAnimationFrame||F("RequestAnimationFrame")||H,Q=window.cancelAnimationFrame||F("CancelAnimationFrame")||F("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function de(i,a,u){if(u&&ve===H)i.call(a);else return ve.call(window,l(i,a))}function Fe(i){i&&Q.call(window,i)}var ii={__proto__:null,extend:s,create:o,bind:l,get lastId(){return c},stamp:h,throttle:f,wrapNum:g,falseFn:_,formatNum:v,trim:y,splitWords:x,setOptions:P,getParamString:D,template:w,isArray:E,indexOf:M,emptyImageUrl:b,requestFn:ve,cancelFn:Q,requestAnimFrame:de,cancelAnimFrame:Fe};function xt(){}xt.extend=function(i){var a=function(){P(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=a.__super__=this.prototype,d=o(u);d.constructor=a,a.prototype=d;for(var p in this)Object.prototype.hasOwnProperty.call(this,p)&&p!=="prototype"&&p!=="__super__"&&(a[p]=this[p]);return i.statics&&s(a,i.statics),i.includes&&(wl(i.includes),s.apply(null,[d].concat(i.includes))),s(d,i),delete d.statics,delete d.includes,d.options&&(d.options=u.options?o(u.options):{},s(d.options,i.options)),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var m=0,C=d._initHooks.length;m<C;m++)d._initHooks[m].call(this)}},a},xt.include=function(i){var a=this.prototype.options;return s(this.prototype,i),i.options&&(this.prototype.options=a,this.mergeOptions(i.options)),this},xt.mergeOptions=function(i){return s(this.prototype.options,i),this},xt.addInitHook=function(i){var a=Array.prototype.slice.call(arguments,1),u=typeof i=="function"?i:function(){this[i].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function wl(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=E(i)?i:[i];for(var a=0;a<i.length;a++)i[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ve={on:function(i,a,u){if(typeof i=="object")for(var d in i)this._on(d,i[d],a);else{i=x(i);for(var p=0,m=i.length;p<m;p++)this._on(i[p],a,u)}return this},off:function(i,a,u){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var d in i)this._off(d,i[d],a);else{i=x(i);for(var p=arguments.length===1,m=0,C=i.length;m<C;m++)p?this._off(i[m]):this._off(i[m],a,u)}return this},_on:function(i,a,u,d){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(i,a,u)===!1){u===this&&(u=void 0);var p={fn:a,ctx:u};d&&(p.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(p)}},_off:function(i,a,u){var d,p,m;if(this._events&&(d=this._events[i],!!d)){if(arguments.length===1){if(this._firingCount)for(p=0,m=d.length;p<m;p++)d[p].fn=_;delete this._events[i];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var C=this._listens(i,a,u);if(C!==!1){var k=d[C];this._firingCount&&(k.fn=_,this._events[i]=d=d.slice()),d.splice(C,1)}}},fire:function(i,a,u){if(!this.listens(i,u))return this;var d=s({},a,{type:i,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var p=this._events[i];if(p){this._firingCount=this._firingCount+1||1;for(var m=0,C=p.length;m<C;m++){var k=p[m],T=k.fn;k.once&&this.off(i,T,k.ctx),T.call(k.ctx||this,d)}this._firingCount--}}return u&&this._propagateEvent(d),this},listens:function(i,a,u,d){typeof i!="string"&&console.warn('"string" type argument expected');var p=a;typeof a!="function"&&(d=!!a,p=void 0,u=void 0);var m=this._events&&this._events[i];if(m&&m.length&&this._listens(i,p,u)!==!1)return!0;if(d){for(var C in this._eventParents)if(this._eventParents[C].listens(i,a,u,d))return!0}return!1},_listens:function(i,a,u){if(!this._events)return!1;var d=this._events[i]||[];if(!a)return!!d.length;u===this&&(u=void 0);for(var p=0,m=d.length;p<m;p++)if(d[p].fn===a&&d[p].ctx===u)return p;return!1},once:function(i,a,u){if(typeof i=="object")for(var d in i)this._on(d,i[d],a,!0);else{i=x(i);for(var p=0,m=i.length;p<m;p++)this._on(i[p],a,u,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[h(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[h(i)],this},_propagateEvent:function(i){for(var a in this._eventParents)this._eventParents[a].fire(i.type,s({layer:i.target,propagatedFrom:i.target},i),!0)}};Ve.addEventListener=Ve.on,Ve.removeEventListener=Ve.clearAllEventListeners=Ve.off,Ve.addOneTimeEventListener=Ve.once,Ve.fireEvent=Ve.fire,Ve.hasEventListeners=Ve.listens;var nn=xt.extend(Ve);function I(i,a,u){this.x=u?Math.round(i):i,this.y=u?Math.round(a):a}var G=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};I.prototype={clone:function(){return new I(this.x,this.y)},add:function(i){return this.clone()._add(R(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(R(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new I(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new I(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=G(this.x),this.y=G(this.y),this},distanceTo:function(i){i=R(i);var a=i.x-this.x,u=i.y-this.y;return Math.sqrt(a*a+u*u)},equals:function(i){return i=R(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=R(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function R(i,a,u){return i instanceof I?i:E(i)?new I(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new I(i.x,i.y):new I(i,a,u)}function V(i,a){if(i)for(var u=a?[i,a]:i,d=0,p=u.length;d<p;d++)this.extend(u[d])}V.prototype={extend:function(i){var a,u;if(!i)return this;if(i instanceof I||typeof i[0]=="number"||"x"in i)a=u=R(i);else if(i=re(i),a=i.min,u=i.max,!a||!u)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=u.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(i){return R((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return R(this.min.x,this.max.y)},getTopRight:function(){return R(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var a,u;return typeof i[0]=="number"||i instanceof I?i=R(i):i=re(i),i instanceof V?(a=i.min,u=i.max):a=u=i,a.x>=this.min.x&&u.x<=this.max.x&&a.y>=this.min.y&&u.y<=this.max.y},intersects:function(i){i=re(i);var a=this.min,u=this.max,d=i.min,p=i.max,m=p.x>=a.x&&d.x<=u.x,C=p.y>=a.y&&d.y<=u.y;return m&&C},overlaps:function(i){i=re(i);var a=this.min,u=this.max,d=i.min,p=i.max,m=p.x>a.x&&d.x<u.x,C=p.y>a.y&&d.y<u.y;return m&&C},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var a=this.min,u=this.max,d=Math.abs(a.x-u.x)*i,p=Math.abs(a.y-u.y)*i;return re(R(a.x-d,a.y-p),R(u.x+d,u.y+p))},equals:function(i){return i?(i=re(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function re(i,a){return!i||i instanceof V?i:new V(i,a)}function Re(i,a){if(i)for(var u=a?[i,a]:i,d=0,p=u.length;d<p;d++)this.extend(u[d])}Re.prototype={extend:function(i){var a=this._southWest,u=this._northEast,d,p;if(i instanceof oe)d=i,p=i;else if(i instanceof Re){if(d=i._southWest,p=i._northEast,!d||!p)return this}else return i?this.extend($(i)||ce(i)):this;return!a&&!u?(this._southWest=new oe(d.lat,d.lng),this._northEast=new oe(p.lat,p.lng)):(a.lat=Math.min(d.lat,a.lat),a.lng=Math.min(d.lng,a.lng),u.lat=Math.max(p.lat,u.lat),u.lng=Math.max(p.lng,u.lng)),this},pad:function(i){var a=this._southWest,u=this._northEast,d=Math.abs(a.lat-u.lat)*i,p=Math.abs(a.lng-u.lng)*i;return new Re(new oe(a.lat-d,a.lng-p),new oe(u.lat+d,u.lng+p))},getCenter:function(){return new oe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new oe(this.getNorth(),this.getWest())},getSouthEast:function(){return new oe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof oe||"lat"in i?i=$(i):i=ce(i);var a=this._southWest,u=this._northEast,d,p;return i instanceof Re?(d=i.getSouthWest(),p=i.getNorthEast()):d=p=i,d.lat>=a.lat&&p.lat<=u.lat&&d.lng>=a.lng&&p.lng<=u.lng},intersects:function(i){i=ce(i);var a=this._southWest,u=this._northEast,d=i.getSouthWest(),p=i.getNorthEast(),m=p.lat>=a.lat&&d.lat<=u.lat,C=p.lng>=a.lng&&d.lng<=u.lng;return m&&C},overlaps:function(i){i=ce(i);var a=this._southWest,u=this._northEast,d=i.getSouthWest(),p=i.getNorthEast(),m=p.lat>a.lat&&d.lat<u.lat,C=p.lng>a.lng&&d.lng<u.lng;return m&&C},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,a){return i?(i=ce(i),this._southWest.equals(i.getSouthWest(),a)&&this._northEast.equals(i.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ce(i,a){return i instanceof Re?i:new Re(i,a)}function oe(i,a,u){if(isNaN(i)||isNaN(a))throw new Error("Invalid LatLng object: ("+i+", "+a+")");this.lat=+i,this.lng=+a,u!==void 0&&(this.alt=+u)}oe.prototype={equals:function(i,a){if(!i)return!1;i=$(i);var u=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return u<=(a===void 0?1e-9:a)},toString:function(i){return"LatLng("+v(this.lat,i)+", "+v(this.lng,i)+")"},distanceTo:function(i){return Ln.distance(this,$(i))},wrap:function(){return Ln.wrapLatLng(this)},toBounds:function(i){var a=180*i/40075017,u=a/Math.cos(Math.PI/180*this.lat);return ce([this.lat-a,this.lng-u],[this.lat+a,this.lng+u])},clone:function(){return new oe(this.lat,this.lng,this.alt)}};function $(i,a,u){return i instanceof oe?i:E(i)&&typeof i[0]!="object"?i.length===3?new oe(i[0],i[1],i[2]):i.length===2?new oe(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new oe(i.lat,"lng"in i?i.lng:i.lon,i.alt):a===void 0?null:new oe(i,a,u)}var lt={latLngToPoint:function(i,a){var u=this.projection.project(i),d=this.scale(a);return this.transformation._transform(u,d)},pointToLatLng:function(i,a){var u=this.scale(a),d=this.transformation.untransform(i,u);return this.projection.unproject(d)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var a=this.projection.bounds,u=this.scale(i),d=this.transformation.transform(a.min,u),p=this.transformation.transform(a.max,u);return new V(d,p)},infinite:!1,wrapLatLng:function(i){var a=this.wrapLng?g(i.lng,this.wrapLng,!0):i.lng,u=this.wrapLat?g(i.lat,this.wrapLat,!0):i.lat,d=i.alt;return new oe(u,a,d)},wrapLatLngBounds:function(i){var a=i.getCenter(),u=this.wrapLatLng(a),d=a.lat-u.lat,p=a.lng-u.lng;if(d===0&&p===0)return i;var m=i.getSouthWest(),C=i.getNorthEast(),k=new oe(m.lat-d,m.lng-p),T=new oe(C.lat-d,C.lng-p);return new Re(k,T)}},Ln=s({},lt,{wrapLng:[-180,180],R:6371e3,distance:function(i,a){var u=Math.PI/180,d=i.lat*u,p=a.lat*u,m=Math.sin((a.lat-i.lat)*u/2),C=Math.sin((a.lng-i.lng)*u/2),k=m*m+Math.cos(d)*Math.cos(p)*C*C,T=2*Math.atan2(Math.sqrt(k),Math.sqrt(1-k));return this.R*T}}),Od=6378137,Cl={R:Od,MAX_LATITUDE:85.0511287798,project:function(i){var a=Math.PI/180,u=this.MAX_LATITUDE,d=Math.max(Math.min(u,i.lat),-u),p=Math.sin(d*a);return new I(this.R*i.lng*a,this.R*Math.log((1+p)/(1-p))/2)},unproject:function(i){var a=180/Math.PI;return new oe((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*a,i.x*a/this.R)},bounds:function(){var i=Od*Math.PI;return new V([-i,-i],[i,i])}()};function Sl(i,a,u,d){if(E(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=a,this._c=u,this._d=d}Sl.prototype={transform:function(i,a){return this._transform(i.clone(),a)},_transform:function(i,a){return a=a||1,i.x=a*(this._a*i.x+this._b),i.y=a*(this._c*i.y+this._d),i},untransform:function(i,a){return a=a||1,new I((i.x/a-this._b)/this._a,(i.y/a-this._d)/this._c)}};function Ir(i,a,u,d){return new Sl(i,a,u,d)}var El=s({},Ln,{code:"EPSG:3857",projection:Cl,transformation:function(){var i=.5/(Math.PI*Cl.R);return Ir(i,.5,-i,.5)}()}),tw=s({},El,{code:"EPSG:900913"});function Ad(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Rd(i,a){var u="",d,p,m,C,k,T;for(d=0,m=i.length;d<m;d++){for(k=i[d],p=0,C=k.length;p<C;p++)T=k[p],u+=(p?"L":"M")+T.x+" "+T.y;u+=a?Z.svg?"z":"x":""}return u||"M0 0"}var xl=document.documentElement.style,co="ActiveXObject"in window,nw=co&&!document.addEventListener,bd="msLaunchUri"in navigator&&!("documentMode"in document),Ll=$t("webkit"),Dd=$t("android"),zd=$t("android 2")||$t("android 3"),iw=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),rw=Dd&&$t("Google")&&iw<537&&!("AudioNode"in window),Pl=!!window.opera,Bd=!bd&&$t("chrome"),Fd=$t("gecko")&&!Ll&&!Pl&&!co,sw=!Bd&&$t("safari"),Ud=$t("phantom"),Hd="OTransition"in xl,ow=navigator.platform.indexOf("Win")===0,Zd=co&&"transition"in xl,kl="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!zd,Wd="MozPerspective"in xl,aw=!window.L_DISABLE_3D&&(Zd||kl||Wd)&&!Hd&&!Ud,Mr=typeof orientation<"u"||$t("mobile"),lw=Mr&&Ll,uw=Mr&&kl,jd=!window.PointerEvent&&window.MSPointerEvent,Vd=!!(window.PointerEvent||jd),Gd="ontouchstart"in window||!!window.TouchEvent,cw=!window.L_NO_TOUCH&&(Gd||Vd),hw=Mr&&Pl,dw=Mr&&Fd,fw=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,pw=function(){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",_,a),window.removeEventListener("testPassiveEventSupport",_,a)}catch{}return i}(),_w=function(){return!!document.createElement("canvas").getContext}(),Tl=!!(document.createElementNS&&Ad("svg").createSVGRect),mw=!!Tl&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),gw=!Tl&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var a=i.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),vw=navigator.platform.indexOf("Mac")===0,yw=navigator.platform.indexOf("Linux")===0;function $t(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var Z={ie:co,ielt9:nw,edge:bd,webkit:Ll,android:Dd,android23:zd,androidStock:rw,opera:Pl,chrome:Bd,gecko:Fd,safari:sw,phantom:Ud,opera12:Hd,win:ow,ie3d:Zd,webkit3d:kl,gecko3d:Wd,any3d:aw,mobile:Mr,mobileWebkit:lw,mobileWebkit3d:uw,msPointer:jd,pointer:Vd,touch:cw,touchNative:Gd,mobileOpera:hw,mobileGecko:dw,retina:fw,passiveEvents:pw,canvas:_w,svg:Tl,vml:gw,inlineSvg:mw,mac:vw,linux:yw},$d=Z.msPointer?"MSPointerDown":"pointerdown",Kd=Z.msPointer?"MSPointerMove":"pointermove",qd=Z.msPointer?"MSPointerUp":"pointerup",Yd=Z.msPointer?"MSPointerCancel":"pointercancel",Il={touchstart:$d,touchmove:Kd,touchend:qd,touchcancel:Yd},Qd={touchstart:Lw,touchmove:ho,touchend:ho,touchcancel:ho},Mi={},Xd=!1;function ww(i,a,u){return a==="touchstart"&&xw(),Qd[a]?(u=Qd[a].bind(this,u),i.addEventListener(Il[a],u,!1),u):(console.warn("wrong event specified:",a),_)}function Cw(i,a,u){if(!Il[a]){console.warn("wrong event specified:",a);return}i.removeEventListener(Il[a],u,!1)}function Sw(i){Mi[i.pointerId]=i}function Ew(i){Mi[i.pointerId]&&(Mi[i.pointerId]=i)}function Jd(i){delete Mi[i.pointerId]}function xw(){Xd||(document.addEventListener($d,Sw,!0),document.addEventListener(Kd,Ew,!0),document.addEventListener(qd,Jd,!0),document.addEventListener(Yd,Jd,!0),Xd=!0)}function ho(i,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var u in Mi)a.touches.push(Mi[u]);a.changedTouches=[a],i(a)}}function Lw(i,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&Ge(a),ho(i,a)}function Pw(i){var a={},u,d;for(d in i)u=i[d],a[d]=u&&u.bind?u.bind(i):u;return i=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var kw=200;function Tw(i,a){i.addEventListener("dblclick",a);var u=0,d;function p(m){if(m.detail!==1){d=m.detail;return}if(!(m.pointerType==="mouse"||m.sourceCapabilities&&!m.sourceCapabilities.firesTouchEvents)){var C=sf(m);if(!(C.some(function(T){return T instanceof HTMLLabelElement&&T.attributes.for})&&!C.some(function(T){return T instanceof HTMLInputElement||T instanceof HTMLSelectElement}))){var k=Date.now();k-u<=kw?(d++,d===2&&a(Pw(m))):d=1,u=k}}}return i.addEventListener("click",p),{dblclick:a,simDblclick:p}}function Iw(i,a){i.removeEventListener("dblclick",a.dblclick),i.removeEventListener("click",a.simDblclick)}var Ml=_o(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Nr=_o(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ef=Nr==="webkitTransition"||Nr==="OTransition"?Nr+"End":"transitionend";function tf(i){return typeof i=="string"?document.getElementById(i):i}function Or(i,a){var u=i.style[a]||i.currentStyle&&i.currentStyle[a];if((!u||u==="auto")&&document.defaultView){var d=document.defaultView.getComputedStyle(i,null);u=d?d[a]:null}return u==="auto"?null:u}function ae(i,a,u){var d=document.createElement(i);return d.className=a||"",u&&u.appendChild(d),d}function Ee(i){var a=i.parentNode;a&&a.removeChild(i)}function fo(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Ni(i){var a=i.parentNode;a&&a.lastChild!==i&&a.appendChild(i)}function Oi(i){var a=i.parentNode;a&&a.firstChild!==i&&a.insertBefore(i,a.firstChild)}function Nl(i,a){if(i.classList!==void 0)return i.classList.contains(a);var u=po(i);return u.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(u)}function Y(i,a){if(i.classList!==void 0)for(var u=x(a),d=0,p=u.length;d<p;d++)i.classList.add(u[d]);else if(!Nl(i,a)){var m=po(i);Ol(i,(m?m+" ":"")+a)}}function Ie(i,a){i.classList!==void 0?i.classList.remove(a):Ol(i,y((" "+po(i)+" ").replace(" "+a+" "," ")))}function Ol(i,a){i.className.baseVal===void 0?i.className=a:i.className.baseVal=a}function po(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function Lt(i,a){"opacity"in i.style?i.style.opacity=a:"filter"in i.style&&Mw(i,a)}function Mw(i,a){var u=!1,d="DXImageTransform.Microsoft.Alpha";try{u=i.filters.item(d)}catch{if(a===1)return}a=Math.round(a*100),u?(u.Enabled=a!==100,u.Opacity=a):i.style.filter+=" progid:"+d+"(opacity="+a+")"}function _o(i){for(var a=document.documentElement.style,u=0;u<i.length;u++)if(i[u]in a)return i[u];return!1}function ri(i,a,u){var d=a||new I(0,0);i.style[Ml]=(Z.ie3d?"translate("+d.x+"px,"+d.y+"px)":"translate3d("+d.x+"px,"+d.y+"px,0)")+(u?" scale("+u+")":"")}function Ne(i,a){i._leaflet_pos=a,Z.any3d?ri(i,a):(i.style.left=a.x+"px",i.style.top=a.y+"px")}function si(i){return i._leaflet_pos||new I(0,0)}var Ar,Rr,Al;if("onselectstart"in document)Ar=function(){K(window,"selectstart",Ge)},Rr=function(){fe(window,"selectstart",Ge)};else{var br=_o(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ar=function(){if(br){var i=document.documentElement.style;Al=i[br],i[br]="none"}},Rr=function(){br&&(document.documentElement.style[br]=Al,Al=void 0)}}function Rl(){K(window,"dragstart",Ge)}function bl(){fe(window,"dragstart",Ge)}var mo,Dl;function zl(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(go(),mo=i,Dl=i.style.outlineStyle,i.style.outlineStyle="none",K(window,"keydown",go))}function go(){mo&&(mo.style.outlineStyle=Dl,mo=void 0,Dl=void 0,fe(window,"keydown",go))}function nf(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Bl(i){var a=i.getBoundingClientRect();return{x:a.width/i.offsetWidth||1,y:a.height/i.offsetHeight||1,boundingClientRect:a}}var Nw={__proto__:null,TRANSFORM:Ml,TRANSITION:Nr,TRANSITION_END:ef,get:tf,getStyle:Or,create:ae,remove:Ee,empty:fo,toFront:Ni,toBack:Oi,hasClass:Nl,addClass:Y,removeClass:Ie,setClass:Ol,getClass:po,setOpacity:Lt,testProp:_o,setTransform:ri,setPosition:Ne,getPosition:si,get disableTextSelection(){return Ar},get enableTextSelection(){return Rr},disableImageDrag:Rl,enableImageDrag:bl,preventOutline:zl,restoreOutline:go,getSizedParentNode:nf,getScale:Bl};function K(i,a,u,d){if(a&&typeof a=="object")for(var p in a)Ul(i,p,a[p],u);else{a=x(a);for(var m=0,C=a.length;m<C;m++)Ul(i,a[m],u,d)}return this}var Kt="_leaflet_events";function fe(i,a,u,d){if(arguments.length===1)rf(i),delete i[Kt];else if(a&&typeof a=="object")for(var p in a)Hl(i,p,a[p],u);else if(a=x(a),arguments.length===2)rf(i,function(k){return M(a,k)!==-1});else for(var m=0,C=a.length;m<C;m++)Hl(i,a[m],u,d);return this}function rf(i,a){for(var u in i[Kt]){var d=u.split(/\d/)[0];(!a||a(d))&&Hl(i,d,null,null,u)}}var Fl={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ul(i,a,u,d){var p=a+h(u)+(d?"_"+h(d):"");if(i[Kt]&&i[Kt][p])return this;var m=function(k){return u.call(d||i,k||window.event)},C=m;!Z.touchNative&&Z.pointer&&a.indexOf("touch")===0?m=ww(i,a,m):Z.touch&&a==="dblclick"?m=Tw(i,m):"addEventListener"in i?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?i.addEventListener(Fl[a]||a,m,Z.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(m=function(k){k=k||window.event,Wl(i,k)&&C(k)},i.addEventListener(Fl[a],m,!1)):i.addEventListener(a,C,!1):i.attachEvent("on"+a,m),i[Kt]=i[Kt]||{},i[Kt][p]=m}function Hl(i,a,u,d,p){p=p||a+h(u)+(d?"_"+h(d):"");var m=i[Kt]&&i[Kt][p];if(!m)return this;!Z.touchNative&&Z.pointer&&a.indexOf("touch")===0?Cw(i,a,m):Z.touch&&a==="dblclick"?Iw(i,m):"removeEventListener"in i?i.removeEventListener(Fl[a]||a,m,!1):i.detachEvent("on"+a,m),i[Kt][p]=null}function oi(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function Zl(i){return Ul(i,"wheel",oi),this}function Dr(i){return K(i,"mousedown touchstart dblclick contextmenu",oi),i._leaflet_disable_click=!0,this}function Ge(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function ai(i){return Ge(i),oi(i),this}function sf(i){if(i.composedPath)return i.composedPath();for(var a=[],u=i.target;u;)a.push(u),u=u.parentNode;return a}function of(i,a){if(!a)return new I(i.clientX,i.clientY);var u=Bl(a),d=u.boundingClientRect;return new I((i.clientX-d.left)/u.x-a.clientLeft,(i.clientY-d.top)/u.y-a.clientTop)}var Ow=Z.linux&&Z.chrome?window.devicePixelRatio:Z.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function af(i){return Z.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/Ow:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function Wl(i,a){var u=a.relatedTarget;if(!u)return!0;try{for(;u&&u!==i;)u=u.parentNode}catch{return!1}return u!==i}var Aw={__proto__:null,on:K,off:fe,stopPropagation:oi,disableScrollPropagation:Zl,disableClickPropagation:Dr,preventDefault:Ge,stop:ai,getPropagationPath:sf,getMousePosition:of,getWheelDelta:af,isExternalTarget:Wl,addListener:K,removeListener:fe},lf=nn.extend({run:function(i,a,u,d){this.stop(),this._el=i,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=si(i),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=de(this._animate,this),this._step()},_step:function(i){var a=+new Date-this._startTime,u=this._duration*1e3;a<u?this._runFrame(this._easeOut(a/u),i):(this._runFrame(1),this._complete())},_runFrame:function(i,a){var u=this._startPos.add(this._offset.multiplyBy(i));a&&u._round(),Ne(this._el,u),this.fire("step")},_complete:function(){Fe(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),ie=nn.extend({options:{crs:El,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,a){a=P(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView($(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Nr&&Z.any3d&&!Z.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),K(this._proxy,ef,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,a,u){if(a=a===void 0?this._zoom:this._limitZoom(a),i=this._limitCenter($(i),a,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=s({animate:u.animate},u.zoom),u.pan=s({animate:u.animate,duration:u.duration},u.pan));var d=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,a,u.zoom):this._tryAnimatedPan(i,u.pan);if(d)return clearTimeout(this._sizeTimer),this}return this._resetView(i,a,u.pan&&u.pan.noMoveStart),this},setZoom:function(i,a){return this._loaded?this.setView(this.getCenter(),i,{zoom:a}):(this._zoom=i,this)},zoomIn:function(i,a){return i=i||(Z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,a)},zoomOut:function(i,a){return i=i||(Z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,a)},setZoomAround:function(i,a,u){var d=this.getZoomScale(a),p=this.getSize().divideBy(2),m=i instanceof I?i:this.latLngToContainerPoint(i),C=m.subtract(p).multiplyBy(1-1/d),k=this.containerPointToLatLng(p.add(C));return this.setView(k,a,{zoom:u})},_getBoundsCenterZoom:function(i,a){a=a||{},i=i.getBounds?i.getBounds():ce(i);var u=R(a.paddingTopLeft||a.padding||[0,0]),d=R(a.paddingBottomRight||a.padding||[0,0]),p=this.getBoundsZoom(i,!1,u.add(d));if(p=typeof a.maxZoom=="number"?Math.min(a.maxZoom,p):p,p===1/0)return{center:i.getCenter(),zoom:p};var m=d.subtract(u).divideBy(2),C=this.project(i.getSouthWest(),p),k=this.project(i.getNorthEast(),p),T=this.unproject(C.add(k).divideBy(2).add(m),p);return{center:T,zoom:p}},fitBounds:function(i,a){if(i=ce(i),!i.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(i,a);return this.setView(u.center,u.zoom,a)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,a){return this.setView(i,this._zoom,{pan:a})},panBy:function(i,a){if(i=R(i).round(),a=a||{},!i.x&&!i.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new lf,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){Y(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,u,a.duration||.25,a.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,a,u){if(u=u||{},u.animate===!1||!Z.any3d)return this.setView(i,a,u);this._stop();var d=this.project(this.getCenter()),p=this.project(i),m=this.getSize(),C=this._zoom;i=$(i),a=a===void 0?C:a;var k=Math.max(m.x,m.y),T=k*this.getZoomScale(C,a),N=p.distanceTo(d)||1,z=1.42,W=z*z;function X(Oe){var Io=Oe?-1:1,C0=Oe?T:k,S0=T*T-k*k+Io*W*W*N*N,E0=2*C0*W*N,eu=S0/E0,Zf=Math.sqrt(eu*eu+1)-eu,x0=Zf<1e-9?-18:Math.log(Zf);return x0}function nt(Oe){return(Math.exp(Oe)-Math.exp(-Oe))/2}function Ue(Oe){return(Math.exp(Oe)+Math.exp(-Oe))/2}function kt(Oe){return nt(Oe)/Ue(Oe)}var ut=X(0);function Bi(Oe){return k*(Ue(ut)/Ue(ut+z*Oe))}function g0(Oe){return k*(Ue(ut)*kt(ut+z*Oe)-nt(ut))/W}function v0(Oe){return 1-Math.pow(1-Oe,1.5)}var y0=Date.now(),Uf=(X(1)-ut)/z,w0=u.duration?1e3*u.duration:1e3*Uf*.8;function Hf(){var Oe=(Date.now()-y0)/w0,Io=v0(Oe)*Uf;Oe<=1?(this._flyToFrame=de(Hf,this),this._move(this.unproject(d.add(p.subtract(d).multiplyBy(g0(Io)/N)),C),this.getScaleZoom(k/Bi(Io),C),{flyTo:!0})):this._move(i,a)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),Hf.call(this),this},flyToBounds:function(i,a){var u=this._getBoundsCenterZoom(i,a);return this.flyTo(u.center,u.zoom,a)},setMaxBounds:function(i){return i=ce(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var a=this.options.minZoom;return this.options.minZoom=i,this._loaded&&a!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var a=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&a!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,a){this._enforcingBounds=!0;var u=this.getCenter(),d=this._limitCenter(u,this._zoom,ce(i));return u.equals(d)||this.panTo(d,a),this._enforcingBounds=!1,this},panInside:function(i,a){a=a||{};var u=R(a.paddingTopLeft||a.padding||[0,0]),d=R(a.paddingBottomRight||a.padding||[0,0]),p=this.project(this.getCenter()),m=this.project(i),C=this.getPixelBounds(),k=re([C.min.add(u),C.max.subtract(d)]),T=k.getSize();if(!k.contains(m)){this._enforcingBounds=!0;var N=m.subtract(k.getCenter()),z=k.extend(m).getSize().subtract(T);p.x+=N.x<0?-z.x:z.x,p.y+=N.y<0?-z.y:z.y,this.panTo(this.unproject(p),a),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=s({animate:!1,pan:!0},i===!0?{animate:!0}:i);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),d=a.divideBy(2).round(),p=u.divideBy(2).round(),m=d.subtract(p);return!m.x&&!m.y?this:(i.animate&&i.pan?this.panBy(m):(i.pan&&this._rawPanBy(m),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=s({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=l(this._handleGeolocationResponse,this),u=l(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,u,i):navigator.geolocation.getCurrentPosition(a,u,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var a=i.code,u=i.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var a=i.coords.latitude,u=i.coords.longitude,d=new oe(a,u),p=d.toBounds(i.coords.accuracy*2),m=this._locateOptions;if(m.setView){var C=this.getBoundsZoom(p);this.setView(d,m.maxZoom?Math.min(C,m.maxZoom):C)}var k={latlng:d,bounds:p,timestamp:i.timestamp};for(var T in i.coords)typeof i.coords[T]=="number"&&(k[T]=i.coords[T]);this.fire("locationfound",k)}},addHandler:function(i,a){if(!a)return this;var u=this[i]=new a(this);return this._handlers.push(u),this.options[i]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ee(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Fe(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Ee(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,a){var u="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),d=ae("div",u,a||this._mapPane);return i&&(this._panes[i]=d),d},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),a=this.unproject(i.getBottomLeft()),u=this.unproject(i.getTopRight());return new Re(a,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,a,u){i=ce(i),u=R(u||[0,0]);var d=this.getZoom()||0,p=this.getMinZoom(),m=this.getMaxZoom(),C=i.getNorthWest(),k=i.getSouthEast(),T=this.getSize().subtract(u),N=re(this.project(k,d),this.project(C,d)).getSize(),z=Z.any3d?this.options.zoomSnap:1,W=T.x/N.x,X=T.y/N.y,nt=a?Math.max(W,X):Math.min(W,X);return d=this.getScaleZoom(nt,d),z&&(d=Math.round(d/(z/100))*(z/100),d=a?Math.ceil(d/z)*z:Math.floor(d/z)*z),Math.max(p,Math.min(m,d))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new I(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,a){var u=this._getTopLeftPoint(i,a);return new V(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,a){var u=this.options.crs;return a=a===void 0?this._zoom:a,u.scale(i)/u.scale(a)},getScaleZoom:function(i,a){var u=this.options.crs;a=a===void 0?this._zoom:a;var d=u.zoom(i*u.scale(a));return isNaN(d)?1/0:d},project:function(i,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint($(i),a)},unproject:function(i,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(R(i),a)},layerPointToLatLng:function(i){var a=R(i).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(i){var a=this.project($(i))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng($(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(ce(i))},distance:function(i,a){return this.options.crs.distance($(i),$(a))},containerPointToLayerPoint:function(i){return R(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return R(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var a=this.containerPointToLayerPoint(R(i));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint($(i)))},mouseEventToContainerPoint:function(i){return of(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var a=this._container=tf(i);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");K(a,"scroll",this._onScroll,this),this._containerId=h(a)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&Z.any3d,Y(i,"leaflet-container"+(Z.touch?" leaflet-touch":"")+(Z.retina?" leaflet-retina":"")+(Z.ielt9?" leaflet-oldie":"")+(Z.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=Or(i,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ne(this._mapPane,new I(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Y(i.markerPane,"leaflet-zoom-hide"),Y(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,a,u){Ne(this._mapPane,new I(0,0));var d=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var p=this._zoom!==a;this._moveStart(p,u)._move(i,a)._moveEnd(p),this.fire("viewreset"),d&&this.fire("load")},_moveStart:function(i,a){return i&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(i,a,u,d){a===void 0&&(a=this._zoom);var p=this._zoom!==a;return this._zoom=a,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),d?u&&u.pinch&&this.fire("zoom",u):((p||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Fe(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){Ne(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[h(this._container)]=this;var a=i?fe:K;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),Z.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Fe(this._resizeRequest),this._resizeRequest=de(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,a){for(var u=[],d,p=a==="mouseout"||a==="mouseover",m=i.target||i.srcElement,C=!1;m;){if(d=this._targets[h(m)],d&&(a==="click"||a==="preclick")&&this._draggableMoved(d)){C=!0;break}if(d&&d.listens(a,!0)&&(p&&!Wl(m,i)||(u.push(d),p))||m===this._container)break;m=m.parentNode}return!u.length&&!C&&!p&&this.listens(a,!0)&&(u=[this]),u},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var a=i.target||i.srcElement;if(!(!this._loaded||a._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(a))){var u=i.type;u==="mousedown"&&zl(a),this._fireDOMEvent(i,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,a,u){if(i.type==="click"){var d=s({},i);d.type="preclick",this._fireDOMEvent(d,d.type,u)}var p=this._findEventTargets(i,a);if(u){for(var m=[],C=0;C<u.length;C++)u[C].listens(a,!0)&&m.push(u[C]);p=m.concat(p)}if(p.length){a==="contextmenu"&&Ge(i);var k=p[0],T={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var N=k.getLatLng&&(!k._radius||k._radius<=10);T.containerPoint=N?this.latLngToContainerPoint(k.getLatLng()):this.mouseEventToContainerPoint(i),T.layerPoint=this.containerPointToLayerPoint(T.containerPoint),T.latlng=N?k.getLatLng():this.layerPointToLatLng(T.layerPoint)}for(C=0;C<p.length;C++)if(p[C].fire(a,T,!0),T.originalEvent._stopped||p[C].options.bubblingMouseEvents===!1&&M(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,a=this._handlers.length;i<a;i++)this._handlers[i].disable()},whenReady:function(i,a){return this._loaded?i.call(a||this,{target:this}):this.on("load",i,a),this},_getMapPanePos:function(){return si(this._mapPane)||new I(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,a){var u=i&&a!==void 0?this._getNewPixelOrigin(i,a):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,a){var u=this.getSize()._divideBy(2);return this.project(i,a)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,a,u){var d=this._getNewPixelOrigin(u,a);return this.project(i,a)._subtract(d)},_latLngBoundsToNewLayerBounds:function(i,a,u){var d=this._getNewPixelOrigin(u,a);return re([this.project(i.getSouthWest(),a)._subtract(d),this.project(i.getNorthWest(),a)._subtract(d),this.project(i.getSouthEast(),a)._subtract(d),this.project(i.getNorthEast(),a)._subtract(d)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,a,u){if(!u)return i;var d=this.project(i,a),p=this.getSize().divideBy(2),m=new V(d.subtract(p),d.add(p)),C=this._getBoundsOffset(m,u,a);return Math.abs(C.x)<=1&&Math.abs(C.y)<=1?i:this.unproject(d.add(C),a)},_limitOffset:function(i,a){if(!a)return i;var u=this.getPixelBounds(),d=new V(u.min.add(i),u.max.add(i));return i.add(this._getBoundsOffset(d,a))},_getBoundsOffset:function(i,a,u){var d=re(this.project(a.getNorthEast(),u),this.project(a.getSouthWest(),u)),p=d.min.subtract(i.min),m=d.max.subtract(i.max),C=this._rebound(p.x,-m.x),k=this._rebound(p.y,-m.y);return new I(C,k)},_rebound:function(i,a){return i+a>0?Math.round(i-a)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(a))},_limitZoom:function(i){var a=this.getMinZoom(),u=this.getMaxZoom(),d=Z.any3d?this.options.zoomSnap:1;return d&&(i=Math.round(i/d)*d),Math.max(a,Math.min(u,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ie(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,a){var u=this._getCenterOffset(i)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,a),!0)},_createAnimProxy:function(){var i=this._proxy=ae("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(a){var u=Ml,d=this._proxy.style[u];ri(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),d===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ee(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),a=this.getZoom();ri(this._proxy,this.project(i,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,a,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(a),p=this._getCenterOffset(i)._divideBy(1-1/d);return u.animate!==!0&&!this.getSize().contains(p)?!1:(de(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(i,a,!0)},this),!0)},_animateZoom:function(i,a,u,d){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=a,Y(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:a,noUpdate:d}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ie(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Rw(i,a){return new ie(i,a)}var Rt=xt.extend({options:{position:"topright"},initialize:function(i){P(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var a=this._map;return a&&a.removeControl(this),this.options.position=i,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var a=this._container=this.onAdd(i),u=this.getPosition(),d=i._controlCorners[u];return Y(a,"leaflet-control"),u.indexOf("bottom")!==-1?d.insertBefore(a,d.firstChild):d.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ee(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),zr=function(i){return new Rt(i)};ie.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},a="leaflet-",u=this._controlContainer=ae("div",a+"control-container",this._container);function d(p,m){var C=a+p+" "+a+m;i[p+m]=ae("div",C,u)}d("top","left"),d("top","right"),d("bottom","left"),d("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Ee(this._controlCorners[i]);Ee(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var uf=Rt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,a,u,d){return u<d?-1:d<u?1:0}},initialize:function(i,a,u){P(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var d in i)this._addLayer(i[d],d);for(d in a)this._addLayer(a[d],d,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return Rt.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,a){return this._addLayer(i,a),this._map?this._update():this},addOverlay:function(i,a){return this._addLayer(i,a,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var a=this._getLayer(h(i));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){Y(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(Y(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):Ie(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ie(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",a=this._container=ae("div",i),u=this.options.collapsed;a.setAttribute("aria-haspopup",!0),Dr(a),Zl(a);var d=this._section=ae("section",i+"-list");u&&(this._map.on("click",this.collapse,this),K(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var p=this._layersLink=ae("a",i+"-toggle",a);p.href="#",p.title="Layers",p.setAttribute("role","button"),K(p,{keydown:function(m){m.keyCode===13&&this._expandSafely()},click:function(m){Ge(m),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=ae("div",i+"-base",d),this._separator=ae("div",i+"-separator",d),this._overlaysList=ae("div",i+"-overlays",d),a.appendChild(d)},_getLayer:function(i){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&h(this._layers[a].layer)===i)return this._layers[a]},_addLayer:function(i,a,u){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:a,overlay:u}),this.options.sortLayers&&this._layers.sort(l(function(d,p){return this.options.sortFunction(d.layer,p.layer,d.name,p.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;fo(this._baseLayersList),fo(this._overlaysList),this._layerControlInputs=[];var i,a,u,d,p=0;for(u=0;u<this._layers.length;u++)d=this._layers[u],this._addItem(d),a=a||d.overlay,i=i||!d.overlay,p+=d.overlay?0:1;return this.options.hideSingleBase&&(i=i&&p>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=a&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var a=this._getLayer(h(i.target)),u=a.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;u&&this._map.fire(u,a)},_createRadioElement:function(i,a){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(a?' checked="checked"':"")+"/>",d=document.createElement("div");return d.innerHTML=u,d.firstChild},_addItem:function(i){var a=document.createElement("label"),u=this._map.hasLayer(i.layer),d;i.overlay?(d=document.createElement("input"),d.type="checkbox",d.className="leaflet-control-layers-selector",d.defaultChecked=u):d=this._createRadioElement("leaflet-base-layers_"+h(this),u),this._layerControlInputs.push(d),d.layerId=h(i.layer),K(d,"click",this._onInputClick,this);var p=document.createElement("span");p.innerHTML=" "+i.name;var m=document.createElement("span");a.appendChild(m),m.appendChild(d),m.appendChild(p);var C=i.overlay?this._overlaysList:this._baseLayersList;return C.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,a,u,d=[],p=[];this._handlingClick=!0;for(var m=i.length-1;m>=0;m--)a=i[m],u=this._getLayer(a.layerId).layer,a.checked?d.push(u):a.checked||p.push(u);for(m=0;m<p.length;m++)this._map.hasLayer(p[m])&&this._map.removeLayer(p[m]);for(m=0;m<d.length;m++)this._map.hasLayer(d[m])||this._map.addLayer(d[m]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,a,u,d=this._map.getZoom(),p=i.length-1;p>=0;p--)a=i[p],u=this._getLayer(a.layerId).layer,a.disabled=u.options.minZoom!==void 0&&d<u.options.minZoom||u.options.maxZoom!==void 0&&d>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,K(i,"click",Ge),this.expand();var a=this;setTimeout(function(){fe(i,"click",Ge),a._preventClick=!1})}}),bw=function(i,a,u){return new uf(i,a,u)},jl=Rt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var a="leaflet-control-zoom",u=ae("div",a+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,a+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,a+"-out",u,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,a,u,d,p){var m=ae("a",u,d);return m.innerHTML=i,m.href="#",m.title=a,m.setAttribute("role","button"),m.setAttribute("aria-label",a),Dr(m),K(m,"click",ai),K(m,"click",p,this),K(m,"click",this._refocusOnMap,this),m},_updateDisabled:function(){var i=this._map,a="leaflet-disabled";Ie(this._zoomInButton,a),Ie(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(Y(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(Y(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});ie.mergeOptions({zoomControl:!0}),ie.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new jl,this.addControl(this.zoomControl))});var Dw=function(i){return new jl(i)},cf=Rt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var a="leaflet-control-scale",u=ae("div",a),d=this.options;return this._addScales(d,a+"-line",u),i.on(d.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),u},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,a,u){i.metric&&(this._mScale=ae("div",a,u)),i.imperial&&(this._iScale=ae("div",a,u))},_update:function(){var i=this._map,a=i.getSize().y/2,u=i.distance(i.containerPointToLatLng([0,a]),i.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(u)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var a=this._getRoundNum(i),u=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,u,a/i)},_updateImperial:function(i){var a=i*3.2808399,u,d,p;a>5280?(u=a/5280,d=this._getRoundNum(u),this._updateScale(this._iScale,d+" mi",d/u)):(p=this._getRoundNum(a),this._updateScale(this._iScale,p+" ft",p/a))},_updateScale:function(i,a,u){i.style.width=Math.round(this.options.maxWidth*u)+"px",i.innerHTML=a},_getRoundNum:function(i){var a=Math.pow(10,(Math.floor(i)+"").length-1),u=i/a;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,a*u}}),zw=function(i){return new cf(i)},Bw='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Vl=Rt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Z.inlineSvg?Bw+" ":"")+"Leaflet</a>"},initialize:function(i){P(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=ae("div","leaflet-control-attribution"),Dr(this._container);for(var a in i._layers)i._layers[a].getAttribution&&this.addAttribution(i._layers[a].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var a in this._attributions)this._attributions[a]&&i.push(a);var u=[];this.options.prefix&&u.push(this.options.prefix),i.length&&u.push(i.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});ie.mergeOptions({attributionControl:!0}),ie.addInitHook(function(){this.options.attributionControl&&new Vl().addTo(this)});var Fw=function(i){return new Vl(i)};Rt.Layers=uf,Rt.Zoom=jl,Rt.Scale=cf,Rt.Attribution=Vl,zr.layers=bw,zr.zoom=Dw,zr.scale=zw,zr.attribution=Fw;var qt=xt.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});qt.addTo=function(i,a){return i.addHandler(a,this),this};var Uw={Events:Ve},hf=Z.touch?"touchstart mousedown":"mousedown",Pn=nn.extend({options:{clickTolerance:3},initialize:function(i,a,u,d){P(this,d),this._element=i,this._dragStartTarget=a||i,this._preventOutline=u},enable:function(){this._enabled||(K(this._dragStartTarget,hf,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Pn._dragging===this&&this.finishDrag(!0),fe(this._dragStartTarget,hf,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Nl(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){Pn._dragging===this&&this.finishDrag();return}if(!(Pn._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(Pn._dragging=this,this._preventOutline&&zl(this._element),Rl(),Ar(),!this._moving)){this.fire("down");var a=i.touches?i.touches[0]:i,u=nf(this._element);this._startPoint=new I(a.clientX,a.clientY),this._startPos=si(this._element),this._parentScale=Bl(u);var d=i.type==="mousedown";K(document,d?"mousemove":"touchmove",this._onMove,this),K(document,d?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var a=i.touches&&i.touches.length===1?i.touches[0]:i,u=new I(a.clientX,a.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,Ge(i),this._moved||(this.fire("dragstart"),this._moved=!0,Y(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Y(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),Ne(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){Ie(document.body,"leaflet-dragging"),this._lastTarget&&(Ie(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),fe(document,"mousemove touchmove",this._onMove,this),fe(document,"mouseup touchend touchcancel",this._onUp,this),bl(),Rr();var a=this._moved&&this._moving;this._moving=!1,Pn._dragging=!1,a&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function df(i,a,u){var d,p=[1,4,2,8],m,C,k,T,N,z,W,X;for(m=0,z=i.length;m<z;m++)i[m]._code=li(i[m],a);for(k=0;k<4;k++){for(W=p[k],d=[],m=0,z=i.length,C=z-1;m<z;C=m++)T=i[m],N=i[C],T._code&W?N._code&W||(X=vo(N,T,W,a,u),X._code=li(X,a),d.push(X)):(N._code&W&&(X=vo(N,T,W,a,u),X._code=li(X,a),d.push(X)),d.push(T));i=d}return i}function ff(i,a){var u,d,p,m,C,k,T,N,z;if(!i||i.length===0)throw new Error("latlngs not passed");Pt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var W=$([0,0]),X=ce(i),nt=X.getNorthWest().distanceTo(X.getSouthWest())*X.getNorthEast().distanceTo(X.getNorthWest());nt<1700&&(W=Gl(i));var Ue=i.length,kt=[];for(u=0;u<Ue;u++){var ut=$(i[u]);kt.push(a.project($([ut.lat-W.lat,ut.lng-W.lng])))}for(k=T=N=0,u=0,d=Ue-1;u<Ue;d=u++)p=kt[u],m=kt[d],C=p.y*m.x-m.y*p.x,T+=(p.x+m.x)*C,N+=(p.y+m.y)*C,k+=C*3;k===0?z=kt[0]:z=[T/k,N/k];var Bi=a.unproject(R(z));return $([Bi.lat+W.lat,Bi.lng+W.lng])}function Gl(i){for(var a=0,u=0,d=0,p=0;p<i.length;p++){var m=$(i[p]);a+=m.lat,u+=m.lng,d++}return $([a/d,u/d])}var Hw={__proto__:null,clipPolygon:df,polygonCenter:ff,centroid:Gl};function pf(i,a){if(!a||!i.length)return i.slice();var u=a*a;return i=jw(i,u),i=Ww(i,u),i}function _f(i,a,u){return Math.sqrt(Br(i,a,u,!0))}function Zw(i,a,u){return Br(i,a,u)}function Ww(i,a){var u=i.length,d=typeof Uint8Array<"u"?Uint8Array:Array,p=new d(u);p[0]=p[u-1]=1,$l(i,p,a,0,u-1);var m,C=[];for(m=0;m<u;m++)p[m]&&C.push(i[m]);return C}function $l(i,a,u,d,p){var m=0,C,k,T;for(k=d+1;k<=p-1;k++)T=Br(i[k],i[d],i[p],!0),T>m&&(C=k,m=T);m>u&&(a[C]=1,$l(i,a,u,d,C),$l(i,a,u,C,p))}function jw(i,a){for(var u=[i[0]],d=1,p=0,m=i.length;d<m;d++)Vw(i[d],i[p])>a&&(u.push(i[d]),p=d);return p<m-1&&u.push(i[m-1]),u}var mf;function gf(i,a,u,d,p){var m=d?mf:li(i,u),C=li(a,u),k,T,N;for(mf=C;;){if(!(m|C))return[i,a];if(m&C)return!1;k=m||C,T=vo(i,a,k,u,p),N=li(T,u),k===m?(i=T,m=N):(a=T,C=N)}}function vo(i,a,u,d,p){var m=a.x-i.x,C=a.y-i.y,k=d.min,T=d.max,N,z;return u&8?(N=i.x+m*(T.y-i.y)/C,z=T.y):u&4?(N=i.x+m*(k.y-i.y)/C,z=k.y):u&2?(N=T.x,z=i.y+C*(T.x-i.x)/m):u&1&&(N=k.x,z=i.y+C*(k.x-i.x)/m),new I(N,z,p)}function li(i,a){var u=0;return i.x<a.min.x?u|=1:i.x>a.max.x&&(u|=2),i.y<a.min.y?u|=4:i.y>a.max.y&&(u|=8),u}function Vw(i,a){var u=a.x-i.x,d=a.y-i.y;return u*u+d*d}function Br(i,a,u,d){var p=a.x,m=a.y,C=u.x-p,k=u.y-m,T=C*C+k*k,N;return T>0&&(N=((i.x-p)*C+(i.y-m)*k)/T,N>1?(p=u.x,m=u.y):N>0&&(p+=C*N,m+=k*N)),C=i.x-p,k=i.y-m,d?C*C+k*k:new I(p,m)}function Pt(i){return!E(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function vf(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Pt(i)}function yf(i,a){var u,d,p,m,C,k,T,N;if(!i||i.length===0)throw new Error("latlngs not passed");Pt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var z=$([0,0]),W=ce(i),X=W.getNorthWest().distanceTo(W.getSouthWest())*W.getNorthEast().distanceTo(W.getNorthWest());X<1700&&(z=Gl(i));var nt=i.length,Ue=[];for(u=0;u<nt;u++){var kt=$(i[u]);Ue.push(a.project($([kt.lat-z.lat,kt.lng-z.lng])))}for(u=0,d=0;u<nt-1;u++)d+=Ue[u].distanceTo(Ue[u+1])/2;if(d===0)N=Ue[0];else for(u=0,m=0;u<nt-1;u++)if(C=Ue[u],k=Ue[u+1],p=C.distanceTo(k),m+=p,m>d){T=(m-d)/p,N=[k.x-T*(k.x-C.x),k.y-T*(k.y-C.y)];break}var ut=a.unproject(R(N));return $([ut.lat+z.lat,ut.lng+z.lng])}var Gw={__proto__:null,simplify:pf,pointToSegmentDistance:_f,closestPointOnSegment:Zw,clipSegment:gf,_getEdgeIntersection:vo,_getBitCode:li,_sqClosestPointOnSegment:Br,isFlat:Pt,_flat:vf,polylineCenter:yf},Kl={project:function(i){return new I(i.lng,i.lat)},unproject:function(i){return new oe(i.y,i.x)},bounds:new V([-180,-90],[180,90])},ql={R:6378137,R_MINOR:6356752314245179e-9,bounds:new V([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var a=Math.PI/180,u=this.R,d=i.lat*a,p=this.R_MINOR/u,m=Math.sqrt(1-p*p),C=m*Math.sin(d),k=Math.tan(Math.PI/4-d/2)/Math.pow((1-C)/(1+C),m/2);return d=-u*Math.log(Math.max(k,1e-10)),new I(i.lng*a*u,d)},unproject:function(i){for(var a=180/Math.PI,u=this.R,d=this.R_MINOR/u,p=Math.sqrt(1-d*d),m=Math.exp(-i.y/u),C=Math.PI/2-2*Math.atan(m),k=0,T=.1,N;k<15&&Math.abs(T)>1e-7;k++)N=p*Math.sin(C),N=Math.pow((1-N)/(1+N),p/2),T=Math.PI/2-2*Math.atan(m*N)-C,C+=T;return new oe(C*a,i.x*a/u)}},$w={__proto__:null,LonLat:Kl,Mercator:ql,SphericalMercator:Cl},Kw=s({},Ln,{code:"EPSG:3395",projection:ql,transformation:function(){var i=.5/(Math.PI*ql.R);return Ir(i,.5,-i,.5)}()}),wf=s({},Ln,{code:"EPSG:4326",projection:Kl,transformation:Ir(1/180,1,-1/180,.5)}),qw=s({},lt,{projection:Kl,transformation:Ir(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,a){var u=a.lng-i.lng,d=a.lat-i.lat;return Math.sqrt(u*u+d*d)},infinite:!0});lt.Earth=Ln,lt.EPSG3395=Kw,lt.EPSG3857=El,lt.EPSG900913=tw,lt.EPSG4326=wf,lt.Simple=qw;var bt=nn.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[h(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[h(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var a=i.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var u=this.getEvents();a.on(u,this),this.once("remove",function(){a.off(u,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});ie.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var a=h(i);return this._layers[a]?this:(this._layers[a]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var a=h(i);return this._layers[a]?(this._loaded&&i.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return h(i)in this._layers},eachLayer:function(i,a){for(var u in this._layers)i.call(a,this._layers[u]);return this},_addLayers:function(i){i=i?E(i)?i:[i]:[];for(var a=0,u=i.length;a<u;a++)this.addLayer(i[a])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[h(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var a=h(i);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,a=-1/0,u=this._getZoomSpan();for(var d in this._zoomBoundLayers){var p=this._zoomBoundLayers[d].options;i=p.minZoom===void 0?i:Math.min(i,p.minZoom),a=p.maxZoom===void 0?a:Math.max(a,p.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=i===1/0?void 0:i,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ai=bt.extend({initialize:function(i,a){P(this,a),this._layers={};var u,d;if(i)for(u=0,d=i.length;u<d;u++)this.addLayer(i[u])},addLayer:function(i){var a=this.getLayerId(i);return this._layers[a]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var a=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(i){var a=typeof i=="number"?i:this.getLayerId(i);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var a=Array.prototype.slice.call(arguments,1),u,d;for(u in this._layers)d=this._layers[u],d[i]&&d[i].apply(d,a);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,a){for(var u in this._layers)i.call(a,this._layers[u]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return h(i)}}),Yw=function(i,a){return new Ai(i,a)},rn=Ai.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Ai.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Ai.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new Re;for(var a in this._layers){var u=this._layers[a];i.extend(u.getBounds?u.getBounds():u.getLatLng())}return i}}),Qw=function(i,a){return new rn(i,a)},Ri=xt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){P(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,a){var u=this._getIconUrl(i);if(!u){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d=this._createImg(u,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(d,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),d},_setIconStyles:function(i,a){var u=this.options,d=u[a+"Size"];typeof d=="number"&&(d=[d,d]);var p=R(d),m=R(a==="shadow"&&u.shadowAnchor||u.iconAnchor||p&&p.divideBy(2,!0));i.className="leaflet-marker-"+a+" "+(u.className||""),m&&(i.style.marginLeft=-m.x+"px",i.style.marginTop=-m.y+"px"),p&&(i.style.width=p.x+"px",i.style.height=p.y+"px")},_createImg:function(i,a){return a=a||document.createElement("img"),a.src=i,a},_getIconUrl:function(i){return Z.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function Xw(i){return new Ri(i)}var Fr=Ri.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof Fr.imagePath!="string"&&(Fr.imagePath=this._detectIconPath()),(this.options.imagePath||Fr.imagePath)+Ri.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var a=function(u,d,p){var m=d.exec(u);return m&&m[p]};return i=a(i,/^url\((['"])?(.+)\1\)$/,2),i&&a(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=ae("div","leaflet-default-icon-path",document.body),a=Or(i,"background-image")||Or(i,"backgroundImage");if(document.body.removeChild(i),a=this._stripUrl(a),a)return a;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),Cf=qt.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new Pn(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Y(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ie(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var a=this._marker,u=a._map,d=this._marker.options.autoPanSpeed,p=this._marker.options.autoPanPadding,m=si(a._icon),C=u.getPixelBounds(),k=u.getPixelOrigin(),T=re(C.min._subtract(k).add(p),C.max._subtract(k).subtract(p));if(!T.contains(m)){var N=R((Math.max(T.max.x,m.x)-T.max.x)/(C.max.x-T.max.x)-(Math.min(T.min.x,m.x)-T.min.x)/(C.min.x-T.min.x),(Math.max(T.max.y,m.y)-T.max.y)/(C.max.y-T.max.y)-(Math.min(T.min.y,m.y)-T.min.y)/(C.min.y-T.min.y)).multiplyBy(d);u.panBy(N,{animate:!1}),this._draggable._newPos._add(N),this._draggable._startPos._add(N),Ne(a._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=de(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(Fe(this._panRequest),this._panRequest=de(this._adjustPan.bind(this,i)))},_onDrag:function(i){var a=this._marker,u=a._shadow,d=si(a._icon),p=a._map.layerPointToLatLng(d);u&&Ne(u,d),a._latlng=p,i.latlng=p,i.oldLatLng=this._oldLatLng,a.fire("move",i).fire("drag",i)},_onDragEnd:function(i){Fe(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),yo=bt.extend({options:{icon:new Fr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,a){P(this,a),this._latlng=$(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var a=this._latlng;return this._latlng=$(i),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=i.icon.createIcon(this._icon),d=!1;u!==this._icon&&(this._icon&&this._removeIcon(),d=!0,i.title&&(u.title=i.title),u.tagName==="IMG"&&(u.alt=i.alt||"")),Y(u,a),i.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&K(u,"focus",this._panOnFocus,this);var p=i.icon.createShadow(this._shadow),m=!1;p!==this._shadow&&(this._removeShadow(),m=!0),p&&(Y(p,a),p.alt=""),this._shadow=p,i.opacity<1&&this._updateOpacity(),d&&this.getPane().appendChild(this._icon),this._initInteraction(),p&&m&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&fe(this._icon,"focus",this._panOnFocus,this),Ee(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ee(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&Ne(this._icon,i),this._shadow&&Ne(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(Y(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Cf)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Cf(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&Lt(this._icon,i),this._shadow&&Lt(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var a=this.options.icon.options,u=a.iconSize?R(a.iconSize):R(0,0),d=a.iconAnchor?R(a.iconAnchor):R(0,0);i.panInside(this._latlng,{paddingTopLeft:d,paddingBottomRight:u.subtract(d)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Jw(i,a){return new yo(i,a)}var kn=bt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return P(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),wo=kn.extend({options:{fill:!0,radius:10},initialize:function(i,a){P(this,a),this._latlng=$(i),this._radius=this.options.radius},setLatLng:function(i){var a=this._latlng;return this._latlng=$(i),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var a=i&&i.radius||this._radius;return kn.prototype.setStyle.call(this,i),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,a=this._radiusY||i,u=this._clickTolerance(),d=[i+u,a+u];this._pxBounds=new V(this._point.subtract(d),this._point.add(d))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function e0(i,a){return new wo(i,a)}var Yl=wo.extend({initialize:function(i,a,u){if(typeof a=="number"&&(a=s({},u,{radius:a})),P(this,a),this._latlng=$(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new Re(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:kn.prototype.setStyle,_project:function(){var i=this._latlng.lng,a=this._latlng.lat,u=this._map,d=u.options.crs;if(d.distance===Ln.distance){var p=Math.PI/180,m=this._mRadius/Ln.R/p,C=u.project([a+m,i]),k=u.project([a-m,i]),T=C.add(k).divideBy(2),N=u.unproject(T).lat,z=Math.acos((Math.cos(m*p)-Math.sin(a*p)*Math.sin(N*p))/(Math.cos(a*p)*Math.cos(N*p)))/p;(isNaN(z)||z===0)&&(z=m/Math.cos(Math.PI/180*a)),this._point=T.subtract(u.getPixelOrigin()),this._radius=isNaN(z)?0:T.x-u.project([N,i-z]).x,this._radiusY=T.y-C.y}else{var W=d.unproject(d.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(W).x}this._updateBounds()}});function t0(i,a,u){return new Yl(i,a,u)}var sn=kn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,a){P(this,a),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var a=1/0,u=null,d=Br,p,m,C=0,k=this._parts.length;C<k;C++)for(var T=this._parts[C],N=1,z=T.length;N<z;N++){p=T[N-1],m=T[N];var W=d(i,p,m,!0);W<a&&(a=W,u=d(i,p,m))}return u&&(u.distance=Math.sqrt(a)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return yf(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,a){return a=a||this._defaultShape(),i=$(i),a.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new Re,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return Pt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var a=[],u=Pt(i),d=0,p=i.length;d<p;d++)u?(a[d]=$(i[d]),this._bounds.extend(a[d])):a[d]=this._convertLatLngs(i[d]);return a},_project:function(){var i=new V;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),a=new I(i,i);this._rawPxBounds&&(this._pxBounds=new V([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(i,a,u){var d=i[0]instanceof oe,p=i.length,m,C;if(d){for(C=[],m=0;m<p;m++)C[m]=this._map.latLngToLayerPoint(i[m]),u.extend(C[m]);a.push(C)}else for(m=0;m<p;m++)this._projectLatlngs(i[m],a,u)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,u,d,p,m,C,k,T;for(u=0,p=0,m=this._rings.length;u<m;u++)for(T=this._rings[u],d=0,C=T.length;d<C-1;d++)k=gf(T[d],T[d+1],i,d,!0),k&&(a[p]=a[p]||[],a[p].push(k[0]),(k[1]!==T[d+1]||d===C-2)&&(a[p].push(k[1]),p++))}},_simplifyPoints:function(){for(var i=this._parts,a=this.options.smoothFactor,u=0,d=i.length;u<d;u++)i[u]=pf(i[u],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,a){var u,d,p,m,C,k,T=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(u=0,m=this._parts.length;u<m;u++)for(k=this._parts[u],d=0,C=k.length,p=C-1;d<C;p=d++)if(!(!a&&d===0)&&_f(i,k[p],k[d])<=T)return!0;return!1}});function n0(i,a){return new sn(i,a)}sn._flat=vf;var bi=sn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ff(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var a=sn.prototype._convertLatLngs.call(this,i),u=a.length;return u>=2&&a[0]instanceof oe&&a[0].equals(a[u-1])&&a.pop(),a},_setLatLngs:function(i){sn.prototype._setLatLngs.call(this,i),Pt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Pt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,a=this.options.weight,u=new I(a,a);if(i=new V(i.min.subtract(u),i.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var d=0,p=this._rings.length,m;d<p;d++)m=df(this._rings[d],i,!0),m.length&&this._parts.push(m)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var a=!1,u,d,p,m,C,k,T,N;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(m=0,T=this._parts.length;m<T;m++)for(u=this._parts[m],C=0,N=u.length,k=N-1;C<N;k=C++)d=u[C],p=u[k],d.y>i.y!=p.y>i.y&&i.x<(p.x-d.x)*(i.y-d.y)/(p.y-d.y)+d.x&&(a=!a);return a||sn.prototype._containsPoint.call(this,i,!0)}});function i0(i,a){return new bi(i,a)}var on=rn.extend({initialize:function(i,a){P(this,a),this._layers={},i&&this.addData(i)},addData:function(i){var a=E(i)?i:i.features,u,d,p;if(a){for(u=0,d=a.length;u<d;u++)p=a[u],(p.geometries||p.geometry||p.features||p.coordinates)&&this.addData(p);return this}var m=this.options;if(m.filter&&!m.filter(i))return this;var C=Co(i,m);return C?(C.feature=xo(i),C.defaultOptions=C.options,this.resetStyle(C),m.onEachFeature&&m.onEachFeature(i,C),this.addLayer(C)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=s({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(a){this._setLayerStyle(a,i)},this)},_setLayerStyle:function(i,a){i.setStyle&&(typeof a=="function"&&(a=a(i.feature)),i.setStyle(a))}});function Co(i,a){var u=i.type==="Feature"?i.geometry:i,d=u?u.coordinates:null,p=[],m=a&&a.pointToLayer,C=a&&a.coordsToLatLng||Ql,k,T,N,z;if(!d&&!u)return null;switch(u.type){case"Point":return k=C(d),Sf(m,i,k,a);case"MultiPoint":for(N=0,z=d.length;N<z;N++)k=C(d[N]),p.push(Sf(m,i,k,a));return new rn(p);case"LineString":case"MultiLineString":return T=So(d,u.type==="LineString"?0:1,C),new sn(T,a);case"Polygon":case"MultiPolygon":return T=So(d,u.type==="Polygon"?1:2,C),new bi(T,a);case"GeometryCollection":for(N=0,z=u.geometries.length;N<z;N++){var W=Co({geometry:u.geometries[N],type:"Feature",properties:i.properties},a);W&&p.push(W)}return new rn(p);case"FeatureCollection":for(N=0,z=u.features.length;N<z;N++){var X=Co(u.features[N],a);X&&p.push(X)}return new rn(p);default:throw new Error("Invalid GeoJSON object.")}}function Sf(i,a,u,d){return i?i(a,u):new yo(u,d&&d.markersInheritOptions&&d)}function Ql(i){return new oe(i[1],i[0],i[2])}function So(i,a,u){for(var d=[],p=0,m=i.length,C;p<m;p++)C=a?So(i[p],a-1,u):(u||Ql)(i[p]),d.push(C);return d}function Xl(i,a){return i=$(i),i.alt!==void 0?[v(i.lng,a),v(i.lat,a),v(i.alt,a)]:[v(i.lng,a),v(i.lat,a)]}function Eo(i,a,u,d){for(var p=[],m=0,C=i.length;m<C;m++)p.push(a?Eo(i[m],Pt(i[m])?0:a-1,u,d):Xl(i[m],d));return!a&&u&&p.length>0&&p.push(p[0].slice()),p}function Di(i,a){return i.feature?s({},i.feature,{geometry:a}):xo(a)}function xo(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var Jl={toGeoJSON:function(i){return Di(this,{type:"Point",coordinates:Xl(this.getLatLng(),i)})}};yo.include(Jl),Yl.include(Jl),wo.include(Jl),sn.include({toGeoJSON:function(i){var a=!Pt(this._latlngs),u=Eo(this._latlngs,a?1:0,!1,i);return Di(this,{type:(a?"Multi":"")+"LineString",coordinates:u})}}),bi.include({toGeoJSON:function(i){var a=!Pt(this._latlngs),u=a&&!Pt(this._latlngs[0]),d=Eo(this._latlngs,u?2:a?1:0,!0,i);return a||(d=[d]),Di(this,{type:(u?"Multi":"")+"Polygon",coordinates:d})}}),Ai.include({toMultiPoint:function(i){var a=[];return this.eachLayer(function(u){a.push(u.toGeoJSON(i).geometry.coordinates)}),Di(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(i){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(i);var u=a==="GeometryCollection",d=[];return this.eachLayer(function(p){if(p.toGeoJSON){var m=p.toGeoJSON(i);if(u)d.push(m.geometry);else{var C=xo(m);C.type==="FeatureCollection"?d.push.apply(d,C.features):d.push(C)}}}),u?Di(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});function Ef(i,a){return new on(i,a)}var r0=Ef,Lo=bt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,a,u){this._url=i,this._bounds=ce(a),P(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Y(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ee(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Ni(this._image),this},bringToBack:function(){return this._map&&Oi(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=ce(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",a=this._image=i?this._url:ae("img");if(Y(a,"leaflet-image-layer"),this._zoomAnimated&&Y(a,"leaflet-zoom-animated"),this.options.className&&Y(a,this.options.className),a.onselectstart=_,a.onmousemove=_,a.onload=l(this.fire,this,"load"),a.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(i){var a=this._map.getZoomScale(i.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;ri(this._image,u,a)},_reset:function(){var i=this._image,a=new V(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=a.getSize();Ne(i,a.min),i.style.width=u.x+"px",i.style.height=u.y+"px"},_updateOpacity:function(){Lt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),s0=function(i,a,u){return new Lo(i,a,u)},xf=Lo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",a=this._image=i?this._url:ae("video");if(Y(a,"leaflet-image-layer"),this._zoomAnimated&&Y(a,"leaflet-zoom-animated"),this.options.className&&Y(a,this.options.className),a.onselectstart=_,a.onmousemove=_,a.onloadeddata=l(this.fire,this,"load"),i){for(var u=a.getElementsByTagName("source"),d=[],p=0;p<u.length;p++)d.push(u[p].src);this._url=u.length>0?d:[a.src];return}E(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var m=0;m<this._url.length;m++){var C=ae("source");C.src=this._url[m],a.appendChild(C)}}});function o0(i,a,u){return new xf(i,a,u)}var Lf=Lo.extend({_initImage:function(){var i=this._image=this._url;Y(i,"leaflet-image-layer"),this._zoomAnimated&&Y(i,"leaflet-zoom-animated"),this.options.className&&Y(i,this.options.className),i.onselectstart=_,i.onmousemove=_}});function a0(i,a,u){return new Lf(i,a,u)}var Yt=bt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,a){i&&(i instanceof oe||E(i))?(this._latlng=$(i),P(this,a)):(P(this,i),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&Lt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&Lt(this._container,1),this.bringToFront(),this.options.interactive&&(Y(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(Lt(this._container,0),this._removeTimeout=setTimeout(l(Ee,void 0,this._container),200)):Ee(this._container),this.options.interactive&&(Ie(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=$(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ni(this._container),this},bringToBack:function(){return this._map&&Oi(this._container),this},_prepareOpen:function(i){var a=this._source;if(!a._map)return!1;if(a instanceof rn){a=null;var u=this._source._layers;for(var d in u)if(u[d]._map){a=u[d];break}if(!a)return!1;this._source=a}if(!i)if(a.getCenter)i=a.getCenter();else if(a.getLatLng)i=a.getLatLng();else if(a.getBounds)i=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")i.innerHTML=a;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),a=R(this.options.offset),u=this._getAnchor();this._zoomAnimated?Ne(this._container,i.add(u)):a=a.add(i).add(u);var d=this._containerBottom=-a.y,p=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=d+"px",this._container.style.left=p+"px"}},_getAnchor:function(){return[0,0]}});ie.include({_initOverlay:function(i,a,u,d){var p=a;return p instanceof i||(p=new i(d).setContent(a)),u&&p.setLatLng(u),p}}),bt.include({_initOverlay:function(i,a,u,d){var p=u;return p instanceof i?(P(p,d),p._source=this):(p=a&&!d?a:new i(d,this),p.setContent(u)),p}});var Po=Yt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,Yt.prototype.openOn.call(this,i)},onAdd:function(i){Yt.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof kn||this._source.on("preclick",oi))},onRemove:function(i){Yt.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof kn||this._source.off("preclick",oi))},getEvents:function(){var i=Yt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",a=this._container=ae("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=ae("div",i+"-content-wrapper",a);if(this._contentNode=ae("div",i+"-content",u),Dr(a),Zl(this._contentNode),K(a,"contextmenu",oi),this._tipContainer=ae("div",i+"-tip-container",a),this._tip=ae("div",i+"-tip",this._tipContainer),this.options.closeButton){var d=this._closeButton=ae("a",i+"-close-button",a);d.setAttribute("role","button"),d.setAttribute("aria-label","Close popup"),d.href="#close",d.innerHTML='<span aria-hidden="true">&#215;</span>',K(d,"click",function(p){Ge(p),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,a=i.style;a.width="",a.whiteSpace="nowrap";var u=i.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),a.width=u+1+"px",a.whiteSpace="",a.height="";var d=i.offsetHeight,p=this.options.maxHeight,m="leaflet-popup-scrolled";p&&d>p?(a.height=p+"px",Y(i,m)):Ie(i,m),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),u=this._getAnchor();Ne(this._container,a.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,a=parseInt(Or(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+a,d=this._containerWidth,p=new I(this._containerLeft,-u-this._containerBottom);p._add(si(this._container));var m=i.layerPointToContainerPoint(p),C=R(this.options.autoPanPadding),k=R(this.options.autoPanPaddingTopLeft||C),T=R(this.options.autoPanPaddingBottomRight||C),N=i.getSize(),z=0,W=0;m.x+d+T.x>N.x&&(z=m.x+d-N.x+T.x),m.x-z-k.x<0&&(z=m.x-k.x),m.y+u+T.y>N.y&&(W=m.y+u-N.y+T.y),m.y-W-k.y<0&&(W=m.y-k.y),(z||W)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([z,W]))}},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),l0=function(i,a){return new Po(i,a)};ie.mergeOptions({closePopupOnClick:!0}),ie.include({openPopup:function(i,a,u){return this._initOverlay(Po,i,a,u).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),bt.include({bindPopup:function(i,a){return this._popup=this._initOverlay(Po,this._popup,i,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof rn||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){ai(i);var a=i.layer||i.target;if(this._popup._source===a&&!(a instanceof kn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=a,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var ko=Yt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){Yt.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){Yt.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=Yt.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",a=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ae("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var a,u,d=this._map,p=this._container,m=d.latLngToContainerPoint(d.getCenter()),C=d.layerPointToContainerPoint(i),k=this.options.direction,T=p.offsetWidth,N=p.offsetHeight,z=R(this.options.offset),W=this._getAnchor();k==="top"?(a=T/2,u=N):k==="bottom"?(a=T/2,u=0):k==="center"?(a=T/2,u=N/2):k==="right"?(a=0,u=N/2):k==="left"?(a=T,u=N/2):C.x<m.x?(k="right",a=0,u=N/2):(k="left",a=T+(z.x+W.x)*2,u=N/2),i=i.subtract(R(a,u,!0)).add(z).add(W),Ie(p,"leaflet-tooltip-right"),Ie(p,"leaflet-tooltip-left"),Ie(p,"leaflet-tooltip-top"),Ie(p,"leaflet-tooltip-bottom"),Y(p,"leaflet-tooltip-"+k),Ne(p,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&Lt(this._container,i)},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(a)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),u0=function(i,a){return new ko(i,a)};ie.include({openTooltip:function(i,a,u){return this._initOverlay(ko,i,a,u).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),bt.include({bindTooltip:function(i,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ko,this._tooltip,i,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var a=i?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[a](u),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof rn||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var a=typeof i.getElement=="function"&&i.getElement();a&&(K(a,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),K(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var a=typeof i.getElement=="function"&&i.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var a=i.latlng,u,d;this._tooltip.options.sticky&&i.originalEvent&&(u=this._map.mouseEventToContainerPoint(i.originalEvent),d=this._map.containerPointToLayerPoint(u),a=this._map.layerPointToLatLng(d)),this._tooltip.setLatLng(a)}});var Pf=Ri.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var a=i&&i.tagName==="DIV"?i:document.createElement("div"),u=this.options;if(u.html instanceof Element?(fo(a),a.appendChild(u.html)):a.innerHTML=u.html!==!1?u.html:"",u.bgPos){var d=R(u.bgPos);a.style.backgroundPosition=-d.x+"px "+-d.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function c0(i){return new Pf(i)}Ri.Default=Fr;var Ur=bt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Z.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){P(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Ee(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ni(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Oi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof I?i:new I(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var a=this.getPane().children,u=-i(-1/0,1/0),d=0,p=a.length,m;d<p;d++)m=a[d].style.zIndex,a[d]!==this._container&&m&&(u=i(u,+m));isFinite(u)&&(this.options.zIndex=u+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Z.ielt9){Lt(this._container,this.options.opacity);var i=+new Date,a=!1,u=!1;for(var d in this._tiles){var p=this._tiles[d];if(!(!p.current||!p.loaded)){var m=Math.min(1,(i-p.loaded)/200);Lt(p.el,m),m<1?a=!0:(p.active?u=!0:this._onOpaqueTile(p),p.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),a&&(Fe(this._fadeFrame),this._fadeFrame=de(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=ae("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,a=this.options.maxZoom;if(i!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===i?(this._levels[u].el.style.zIndex=a-Math.abs(i-u),this._onUpdateLevel(u)):(Ee(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var d=this._levels[i],p=this._map;return d||(d=this._levels[i]={},d.el=ae("div","leaflet-tile-container leaflet-zoom-animated",this._container),d.el.style.zIndex=a,d.origin=p.project(p.unproject(p.getPixelOrigin()),i).round(),d.zoom=i,this._setZoomTransform(d,p.getCenter(),p.getZoom()),_(d.el.offsetWidth),this._onCreateLevel(d)),this._level=d,d}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var i,a,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)a=this._tiles[i],a.retain=a.current;for(i in this._tiles)if(a=this._tiles[i],a.current&&!a.active){var d=a.coords;this._retainParent(d.x,d.y,d.z,d.z-5)||this._retainChildren(d.x,d.y,d.z,d.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var a in this._tiles)this._tiles[a].coords.z===i&&this._removeTile(a)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Ee(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,a,u,d){var p=Math.floor(i/2),m=Math.floor(a/2),C=u-1,k=new I(+p,+m);k.z=+C;var T=this._tileCoordsToKey(k),N=this._tiles[T];return N&&N.active?(N.retain=!0,!0):(N&&N.loaded&&(N.retain=!0),C>d?this._retainParent(p,m,C,d):!1)},_retainChildren:function(i,a,u,d){for(var p=2*i;p<2*i+2;p++)for(var m=2*a;m<2*a+2;m++){var C=new I(p,m);C.z=u+1;var k=this._tileCoordsToKey(C),T=this._tiles[k];if(T&&T.active){T.retain=!0;continue}else T&&T.loaded&&(T.retain=!0);u+1<d&&this._retainChildren(p,m,u+1,d)}},_resetView:function(i){var a=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var a=this.options;return a.minNativeZoom!==void 0&&i<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<i?a.maxNativeZoom:i},_setView:function(i,a,u,d){var p=Math.round(a);this.options.maxZoom!==void 0&&p>this.options.maxZoom||this.options.minZoom!==void 0&&p<this.options.minZoom?p=void 0:p=this._clampZoom(p);var m=this.options.updateWhenZooming&&p!==this._tileZoom;(!d||m)&&(this._tileZoom=p,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),p!==void 0&&this._update(i),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(i,a)},_setZoomTransforms:function(i,a){for(var u in this._levels)this._setZoomTransform(this._levels[u],i,a)},_setZoomTransform:function(i,a,u){var d=this._map.getZoomScale(u,i.zoom),p=i.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(a,u)).round();Z.any3d?ri(i.el,p,d):Ne(i.el,p)},_resetGrid:function(){var i=this._map,a=i.options.crs,u=this._tileSize=this.getTileSize(),d=this._tileZoom,p=this._map.getPixelWorldBounds(this._tileZoom);p&&(this._globalTileRange=this._pxBoundsToTileRange(p)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,a.wrapLng[0]],d).x/u.x),Math.ceil(i.project([0,a.wrapLng[1]],d).x/u.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([a.wrapLat[0],0],d).y/u.x),Math.ceil(i.project([a.wrapLat[1],0],d).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var a=this._map,u=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),d=a.getZoomScale(u,this._tileZoom),p=a.project(i,this._tileZoom).floor(),m=a.getSize().divideBy(d*2);return new V(p.subtract(m),p.add(m))},_update:function(i){var a=this._map;if(a){var u=this._clampZoom(a.getZoom());if(i===void 0&&(i=a.getCenter()),this._tileZoom!==void 0){var d=this._getTiledPixelBounds(i),p=this._pxBoundsToTileRange(d),m=p.getCenter(),C=[],k=this.options.keepBuffer,T=new V(p.getBottomLeft().subtract([k,-k]),p.getTopRight().add([k,-k]));if(!(isFinite(p.min.x)&&isFinite(p.min.y)&&isFinite(p.max.x)&&isFinite(p.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var N in this._tiles){var z=this._tiles[N].coords;(z.z!==this._tileZoom||!T.contains(new I(z.x,z.y)))&&(this._tiles[N].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(i,u);return}for(var W=p.min.y;W<=p.max.y;W++)for(var X=p.min.x;X<=p.max.x;X++){var nt=new I(X,W);if(nt.z=this._tileZoom,!!this._isValidTile(nt)){var Ue=this._tiles[this._tileCoordsToKey(nt)];Ue?Ue.current=!0:C.push(nt)}}if(C.sort(function(ut,Bi){return ut.distanceTo(m)-Bi.distanceTo(m)}),C.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var kt=document.createDocumentFragment();for(X=0;X<C.length;X++)this._addTile(C[X],kt);this._level.el.appendChild(kt)}}}},_isValidTile:function(i){var a=this._map.options.crs;if(!a.infinite){var u=this._globalTileRange;if(!a.wrapLng&&(i.x<u.min.x||i.x>u.max.x)||!a.wrapLat&&(i.y<u.min.y||i.y>u.max.y))return!1}if(!this.options.bounds)return!0;var d=this._tileCoordsToBounds(i);return ce(this.options.bounds).overlaps(d)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var a=this._map,u=this.getTileSize(),d=i.scaleBy(u),p=d.add(u),m=a.unproject(d,i.z),C=a.unproject(p,i.z);return[m,C]},_tileCoordsToBounds:function(i){var a=this._tileCoordsToNwSe(i),u=new Re(a[0],a[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var a=i.split(":"),u=new I(+a[0],+a[1]);return u.z=+a[2],u},_removeTile:function(i){var a=this._tiles[i];a&&(Ee(a.el),delete this._tiles[i],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){Y(i,"leaflet-tile");var a=this.getTileSize();i.style.width=a.x+"px",i.style.height=a.y+"px",i.onselectstart=_,i.onmousemove=_,Z.ielt9&&this.options.opacity<1&&Lt(i,this.options.opacity)},_addTile:function(i,a){var u=this._getTilePos(i),d=this._tileCoordsToKey(i),p=this.createTile(this._wrapCoords(i),l(this._tileReady,this,i));this._initTile(p),this.createTile.length<2&&de(l(this._tileReady,this,i,null,p)),Ne(p,u),this._tiles[d]={el:p,coords:i,current:!0},a.appendChild(p),this.fire("tileloadstart",{tile:p,coords:i})},_tileReady:function(i,a,u){a&&this.fire("tileerror",{error:a,tile:u,coords:i});var d=this._tileCoordsToKey(i);u=this._tiles[d],u&&(u.loaded=+new Date,this._map._fadeAnimated?(Lt(u.el,0),Fe(this._fadeFrame),this._fadeFrame=de(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),a||(Y(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Z.ielt9||!this._map._fadeAnimated?de(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var a=new I(this._wrapX?g(i.x,this._wrapX):i.x,this._wrapY?g(i.y,this._wrapY):i.y);return a.z=i.z,a},_pxBoundsToTileRange:function(i){var a=this.getTileSize();return new V(i.min.unscaleBy(a).floor(),i.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function h0(i){return new Ur(i)}var zi=Ur.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,a){this._url=i,a=P(this,a),a.detectRetina&&Z.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,a){return this._url===i&&a===void 0&&(a=!0),this._url=i,a||this.redraw(),this},createTile:function(i,a){var u=document.createElement("img");return K(u,"load",l(this._tileOnLoad,this,a,u)),K(u,"error",l(this._tileOnError,this,a,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(i),u},getTileUrl:function(i){var a={r:Z.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-i.y;this.options.tms&&(a.y=u),a["-y"]=u}return w(this._url,s(a,this.options))},_tileOnLoad:function(i,a){Z.ielt9?setTimeout(l(i,this,null,a),0):i(null,a)},_tileOnError:function(i,a,u){var d=this.options.errorTileUrl;d&&a.getAttribute("src")!==d&&(a.src=d),i(u,a)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,a=this.options.maxZoom,u=this.options.zoomReverse,d=this.options.zoomOffset;return u&&(i=a-i),i+d},_getSubdomain:function(i){var a=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var i,a;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(a=this._tiles[i].el,a.onload=_,a.onerror=_,!a.complete)){a.src=b;var u=this._tiles[i].coords;Ee(a),delete this._tiles[i],this.fire("tileabort",{tile:a,coords:u})}},_removeTile:function(i){var a=this._tiles[i];if(a)return a.el.setAttribute("src",b),Ur.prototype._removeTile.call(this,i)},_tileReady:function(i,a,u){if(!(!this._map||u&&u.getAttribute("src")===b))return Ur.prototype._tileReady.call(this,i,a,u)}});function kf(i,a){return new zi(i,a)}var Tf=zi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,a){this._url=i;var u=s({},this.defaultWmsParams);for(var d in a)d in this.options||(u[d]=a[d]);a=P(this,a);var p=a.detectRetina&&Z.retina?2:1,m=this.getTileSize();u.width=m.x*p,u.height=m.y*p,this.wmsParams=u},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,zi.prototype.onAdd.call(this,i)},getTileUrl:function(i){var a=this._tileCoordsToNwSe(i),u=this._crs,d=re(u.project(a[0]),u.project(a[1])),p=d.min,m=d.max,C=(this._wmsVersion>=1.3&&this._crs===wf?[p.y,p.x,m.y,m.x]:[p.x,p.y,m.x,m.y]).join(","),k=zi.prototype.getTileUrl.call(this,i);return k+D(this.wmsParams,k,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+C},setParams:function(i,a){return s(this.wmsParams,i),a||this.redraw(),this}});function d0(i,a){return new Tf(i,a)}zi.WMS=Tf,kf.wms=d0;var an=bt.extend({options:{padding:.1},initialize:function(i){P(this,i),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Y(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,a){var u=this._map.getZoomScale(a,this._zoom),d=this._map.getSize().multiplyBy(.5+this.options.padding),p=this._map.project(this._center,a),m=d.multiplyBy(-u).add(p).subtract(this._map._getNewPixelOrigin(i,a));Z.any3d?ri(this._container,m,u):Ne(this._container,m)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,a=this._map.getSize(),u=this._map.containerPointToLayerPoint(a.multiplyBy(-i)).round();this._bounds=new V(u,u.add(a.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),If=an.extend({options:{tolerance:0},getEvents:function(){var i=an.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){an.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");K(i,"mousemove",this._onMouseMove,this),K(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),K(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){Fe(this._redrawRequest),delete this._ctx,Ee(this._container),fe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var a in this._layers)i=this._layers[a],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){an.prototype._update.call(this);var i=this._bounds,a=this._container,u=i.getSize(),d=Z.retina?2:1;Ne(a,i.min),a.width=d*u.x,a.height=d*u.y,a.style.width=u.x+"px",a.style.height=u.y+"px",Z.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){an.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[h(i)]=i;var a=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var a=i._order,u=a.next,d=a.prev;u?u.prev=d:this._drawLast=d,d?d.next=u:this._drawFirst=u,delete i._order,delete this._layers[h(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var a=i.options.dashArray.split(/[, ]+/),u=[],d,p;for(p=0;p<a.length;p++){if(d=Number(a[p]),isNaN(d))return;u.push(d)}i.options._dashArray=u}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||de(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var a=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new V,this._redrawBounds.extend(i._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(i._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var a=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,a=this._redrawBounds;if(this._ctx.save(),a){var u=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var d=this._drawFirst;d;d=d.next)i=d.layer,(!a||i._pxBounds&&i._pxBounds.intersects(a))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,a){if(this._drawing){var u,d,p,m,C=i._parts,k=C.length,T=this._ctx;if(k){for(T.beginPath(),u=0;u<k;u++){for(d=0,p=C[u].length;d<p;d++)m=C[u][d],T[d?"lineTo":"moveTo"](m.x,m.y);a&&T.closePath()}this._fillStroke(T,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var a=i._point,u=this._ctx,d=Math.max(Math.round(i._radius),1),p=(Math.max(Math.round(i._radiusY),1)||d)/d;p!==1&&(u.save(),u.scale(1,p)),u.beginPath(),u.arc(a.x,a.y/p,d,0,Math.PI*2,!1),p!==1&&u.restore(),this._fillStroke(u,i)}},_fillStroke:function(i,a){var u=a.options;u.fill&&(i.globalAlpha=u.fillOpacity,i.fillStyle=u.fillColor||u.color,i.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(i.setLineDash&&i.setLineDash(a.options&&a.options._dashArray||[]),i.globalAlpha=u.opacity,i.lineWidth=u.weight,i.strokeStyle=u.color,i.lineCap=u.lineCap,i.lineJoin=u.lineJoin,i.stroke())},_onClick:function(i){for(var a=this._map.mouseEventToLayerPoint(i),u,d,p=this._drawFirst;p;p=p.next)u=p.layer,u.options.interactive&&u._containsPoint(a)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(u))&&(d=u);this._fireEvent(d?[d]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,a)}},_handleMouseOut:function(i){var a=this._hoveredLayer;a&&(Ie(this._container,"leaflet-interactive"),this._fireEvent([a],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,a){if(!this._mouseHoverThrottled){for(var u,d,p=this._drawFirst;p;p=p.next)u=p.layer,u.options.interactive&&u._containsPoint(a)&&(d=u);d!==this._hoveredLayer&&(this._handleMouseOut(i),d&&(Y(this._container,"leaflet-interactive"),this._fireEvent([d],i,"mouseover"),this._hoveredLayer=d)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,a,u){this._map._fireDOMEvent(a,u||a.type,i)},_bringToFront:function(i){var a=i._order;if(a){var u=a.next,d=a.prev;if(u)u.prev=d;else return;d?d.next=u:u&&(this._drawFirst=u),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(i)}},_bringToBack:function(i){var a=i._order;if(a){var u=a.next,d=a.prev;if(d)d.next=u;else return;u?u.prev=d:d&&(this._drawLast=d),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(i)}}});function Mf(i){return Z.canvas?new If(i):null}var Hr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),f0={_initContainer:function(){this._container=ae("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(an.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var a=i._container=Hr("shape");Y(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",i._path=Hr("path"),a.appendChild(i._path),this._updateStyle(i),this._layers[h(i)]=i},_addPath:function(i){var a=i._container;this._container.appendChild(a),i.options.interactive&&i.addInteractiveTarget(a)},_removePath:function(i){var a=i._container;Ee(a),i.removeInteractiveTarget(a),delete this._layers[h(i)]},_updateStyle:function(i){var a=i._stroke,u=i._fill,d=i.options,p=i._container;p.stroked=!!d.stroke,p.filled=!!d.fill,d.stroke?(a||(a=i._stroke=Hr("stroke")),p.appendChild(a),a.weight=d.weight+"px",a.color=d.color,a.opacity=d.opacity,d.dashArray?a.dashStyle=E(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=d.lineCap.replace("butt","flat"),a.joinstyle=d.lineJoin):a&&(p.removeChild(a),i._stroke=null),d.fill?(u||(u=i._fill=Hr("fill")),p.appendChild(u),u.color=d.fillColor||d.color,u.opacity=d.fillOpacity):u&&(p.removeChild(u),i._fill=null)},_updateCircle:function(i){var a=i._point.round(),u=Math.round(i._radius),d=Math.round(i._radiusY||u);this._setPath(i,i._empty()?"M0 0":"AL "+a.x+","+a.y+" "+u+","+d+" 0,"+65535*360)},_setPath:function(i,a){i._path.v=a},_bringToFront:function(i){Ni(i._container)},_bringToBack:function(i){Oi(i._container)}},To=Z.vml?Hr:Ad,Zr=an.extend({_initContainer:function(){this._container=To("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=To("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ee(this._container),fe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){an.prototype._update.call(this);var i=this._bounds,a=i.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,u.setAttribute("width",a.x),u.setAttribute("height",a.y)),Ne(u,i.min),u.setAttribute("viewBox",[i.min.x,i.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(i){var a=i._path=To("path");i.options.className&&Y(a,i.options.className),i.options.interactive&&Y(a,"leaflet-interactive"),this._updateStyle(i),this._layers[h(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Ee(i._path),i.removeInteractiveTarget(i._path),delete this._layers[h(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var a=i._path,u=i.options;a&&(u.stroke?(a.setAttribute("stroke",u.color),a.setAttribute("stroke-opacity",u.opacity),a.setAttribute("stroke-width",u.weight),a.setAttribute("stroke-linecap",u.lineCap),a.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?a.setAttribute("stroke-dasharray",u.dashArray):a.removeAttribute("stroke-dasharray"),u.dashOffset?a.setAttribute("stroke-dashoffset",u.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),u.fill?(a.setAttribute("fill",u.fillColor||u.color),a.setAttribute("fill-opacity",u.fillOpacity),a.setAttribute("fill-rule",u.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(i,a){this._setPath(i,Rd(i._parts,a))},_updateCircle:function(i){var a=i._point,u=Math.max(Math.round(i._radius),1),d=Math.max(Math.round(i._radiusY),1)||u,p="a"+u+","+d+" 0 1,0 ",m=i._empty()?"M0 0":"M"+(a.x-u)+","+a.y+p+u*2+",0 "+p+-u*2+",0 ";this._setPath(i,m)},_setPath:function(i,a){i._path.setAttribute("d",a)},_bringToFront:function(i){Ni(i._path)},_bringToBack:function(i){Oi(i._path)}});Z.vml&&Zr.include(f0);function Nf(i){return Z.svg||Z.vml?new Zr(i):null}ie.include({getRenderer:function(i){var a=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var a=this._paneRenderers[i];return a===void 0&&(a=this._createRenderer({pane:i}),this._paneRenderers[i]=a),a},_createRenderer:function(i){return this.options.preferCanvas&&Mf(i)||Nf(i)}});var Of=bi.extend({initialize:function(i,a){bi.prototype.initialize.call(this,this._boundsToLatLngs(i),a)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=ce(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function p0(i,a){return new Of(i,a)}Zr.create=To,Zr.pointsToPath=Rd,on.geometryToLayer=Co,on.coordsToLatLng=Ql,on.coordsToLatLngs=So,on.latLngToCoords=Xl,on.latLngsToCoords=Eo,on.getFeature=Di,on.asFeature=xo,ie.mergeOptions({boxZoom:!0});var Af=qt.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){K(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){fe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ee(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ar(),Rl(),this._startPoint=this._map.mouseEventToContainerPoint(i),K(document,{contextmenu:ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=ae("div","leaflet-zoom-box",this._container),Y(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var a=new V(this._point,this._startPoint),u=a.getSize();Ne(this._box,a.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(Ee(this._box),Ie(this._container,"leaflet-crosshair")),Rr(),bl(),fe(document,{contextmenu:ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var a=new Re(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ie.addInitHook("addHandler","boxZoom",Af),ie.mergeOptions({doubleClickZoom:!0});var Rf=qt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var a=this._map,u=a.getZoom(),d=a.options.zoomDelta,p=i.originalEvent.shiftKey?u-d:u+d;a.options.doubleClickZoom==="center"?a.setZoom(p):a.setZoomAround(i.containerPoint,p)}});ie.addInitHook("addHandler","doubleClickZoom",Rf),ie.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var bf=qt.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new Pn(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}Y(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ie(this._map._container,"leaflet-grab"),Ie(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=ce(this._map.options.maxBounds);this._offsetLimit=re(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var a=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(a),this._prunePositions(a)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,a){return i-(i-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;i.x<a.min.x&&(i.x=this._viscousLimit(i.x,a.min.x)),i.y<a.min.y&&(i.y=this._viscousLimit(i.y,a.min.y)),i.x>a.max.x&&(i.x=this._viscousLimit(i.x,a.max.x)),i.y>a.max.y&&(i.y=this._viscousLimit(i.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,a=Math.round(i/2),u=this._initialWorldOffset,d=this._draggable._newPos.x,p=(d-a+u)%i+a-u,m=(d+a+u)%i-a-u,C=Math.abs(p+u)<Math.abs(m+u)?p:m;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=C},_onDragEnd:function(i){var a=this._map,u=a.options,d=!u.inertia||i.noInertia||this._times.length<2;if(a.fire("dragend",i),d)a.fire("moveend");else{this._prunePositions(+new Date);var p=this._lastPos.subtract(this._positions[0]),m=(this._lastTime-this._times[0])/1e3,C=u.easeLinearity,k=p.multiplyBy(C/m),T=k.distanceTo([0,0]),N=Math.min(u.inertiaMaxSpeed,T),z=k.multiplyBy(N/T),W=N/(u.inertiaDeceleration*C),X=z.multiplyBy(-W/2).round();!X.x&&!X.y?a.fire("moveend"):(X=a._limitOffset(X,a.options.maxBounds),de(function(){a.panBy(X,{duration:W,easeLinearity:C,noMoveStart:!0,animate:!0})}))}}});ie.addInitHook("addHandler","dragging",bf),ie.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Df=qt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),K(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),fe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,a=document.documentElement,u=i.scrollTop||a.scrollTop,d=i.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(d,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var a=this._panKeys={},u=this.keyCodes,d,p;for(d=0,p=u.left.length;d<p;d++)a[u.left[d]]=[-1*i,0];for(d=0,p=u.right.length;d<p;d++)a[u.right[d]]=[i,0];for(d=0,p=u.down.length;d<p;d++)a[u.down[d]]=[0,i];for(d=0,p=u.up.length;d<p;d++)a[u.up[d]]=[0,-1*i]},_setZoomDelta:function(i){var a=this._zoomKeys={},u=this.keyCodes,d,p;for(d=0,p=u.zoomIn.length;d<p;d++)a[u.zoomIn[d]]=i;for(d=0,p=u.zoomOut.length;d<p;d++)a[u.zoomOut[d]]=-i},_addHooks:function(){K(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){fe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var a=i.keyCode,u=this._map,d;if(a in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(d=this._panKeys[a],i.shiftKey&&(d=R(d).multiplyBy(3)),u.options.maxBounds&&(d=u._limitOffset(R(d),u.options.maxBounds)),u.options.worldCopyJump){var p=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(d)));u.panTo(p)}else u.panBy(d)}else if(a in this._zoomKeys)u.setZoom(u.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;ai(i)}}});ie.addInitHook("addHandler","keyboard",Df),ie.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var zf=qt.extend({addHooks:function(){K(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){fe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var a=af(i),u=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var d=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),d),ai(i)},_performZoom:function(){var i=this._map,a=i.getZoom(),u=this._map.options.zoomSnap||0;i._stop();var d=this._delta/(this._map.options.wheelPxPerZoomLevel*4),p=4*Math.log(2/(1+Math.exp(-Math.abs(d))))/Math.LN2,m=u?Math.ceil(p/u)*u:p,C=i._limitZoom(a+(this._delta>0?m:-m))-a;this._delta=0,this._startTime=null,C&&(i.options.scrollWheelZoom==="center"?i.setZoom(a+C):i.setZoomAround(this._lastMousePos,a+C))}});ie.addInitHook("addHandler","scrollWheelZoom",zf);var _0=600;ie.mergeOptions({tapHold:Z.touchNative&&Z.safari&&Z.mobile,tapTolerance:15});var Bf=qt.extend({addHooks:function(){K(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){fe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var a=i.touches[0];this._startPos=this._newPos=new I(a.clientX,a.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(K(document,"touchend",Ge),K(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),_0),K(document,"touchend touchcancel contextmenu",this._cancel,this),K(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){fe(document,"touchend",Ge),fe(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),fe(document,"touchend touchcancel contextmenu",this._cancel,this),fe(document,"touchmove",this._onMove,this)},_onMove:function(i){var a=i.touches[0];this._newPos=new I(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,a){var u=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});u._simulated=!0,a.target.dispatchEvent(u)}});ie.addInitHook("addHandler","tapHold",Bf),ie.mergeOptions({touchZoom:Z.touch,bounceAtZoomLimits:!0});var Ff=qt.extend({addHooks:function(){Y(this._map._container,"leaflet-touch-zoom"),K(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ie(this._map._container,"leaflet-touch-zoom"),fe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var a=this._map;if(!(!i.touches||i.touches.length!==2||a._animatingZoom||this._zooming)){var u=a.mouseEventToContainerPoint(i.touches[0]),d=a.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(u.add(d)._divideBy(2))),this._startDist=u.distanceTo(d),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),K(document,"touchmove",this._onTouchMove,this),K(document,"touchend touchcancel",this._onTouchEnd,this),Ge(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var a=this._map,u=a.mouseEventToContainerPoint(i.touches[0]),d=a.mouseEventToContainerPoint(i.touches[1]),p=u.distanceTo(d)/this._startDist;if(this._zoom=a.getScaleZoom(p,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&p<1||this._zoom>a.getMaxZoom()&&p>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,p===1)return}else{var m=u._add(d)._divideBy(2)._subtract(this._centerPoint);if(p===1&&m.x===0&&m.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(m),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),Fe(this._animRequest);var C=l(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=de(C,this,!0),Ge(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Fe(this._animRequest),fe(document,"touchmove",this._onTouchMove,this),fe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ie.addInitHook("addHandler","touchZoom",Ff),ie.BoxZoom=Af,ie.DoubleClickZoom=Rf,ie.Drag=bf,ie.Keyboard=Df,ie.ScrollWheelZoom=zf,ie.TapHold=Bf,ie.TouchZoom=Ff,n.Bounds=V,n.Browser=Z,n.CRS=lt,n.Canvas=If,n.Circle=Yl,n.CircleMarker=wo,n.Class=xt,n.Control=Rt,n.DivIcon=Pf,n.DivOverlay=Yt,n.DomEvent=Aw,n.DomUtil=Nw,n.Draggable=Pn,n.Evented=nn,n.FeatureGroup=rn,n.GeoJSON=on,n.GridLayer=Ur,n.Handler=qt,n.Icon=Ri,n.ImageOverlay=Lo,n.LatLng=oe,n.LatLngBounds=Re,n.Layer=bt,n.LayerGroup=Ai,n.LineUtil=Gw,n.Map=ie,n.Marker=yo,n.Mixin=Uw,n.Path=kn,n.Point=I,n.PolyUtil=Hw,n.Polygon=bi,n.Polyline=sn,n.Popup=Po,n.PosAnimation=lf,n.Projection=$w,n.Rectangle=Of,n.Renderer=an,n.SVG=Zr,n.SVGOverlay=Lf,n.TileLayer=zi,n.Tooltip=ko,n.Transformation=Sl,n.Util=ii,n.VideoOverlay=xf,n.bind=l,n.bounds=re,n.canvas=Mf,n.circle=t0,n.circleMarker=e0,n.control=zr,n.divIcon=c0,n.extend=s,n.featureGroup=Qw,n.geoJSON=Ef,n.geoJson=r0,n.gridLayer=h0,n.icon=Xw,n.imageOverlay=s0,n.latLng=$,n.latLngBounds=ce,n.layerGroup=Yw,n.map=Rw,n.marker=Jw,n.point=R,n.polygon=i0,n.polyline=n0,n.popup=l0,n.rectangle=p0,n.setOptions=P,n.stamp=h,n.svg=Nf,n.svgOverlay=a0,n.tileLayer=kf,n.tooltip=u0,n.transformation=Ir,n.version=r,n.videoOverlay=o0;var m0=window.L;n.noConflict=function(){return window.L=m0,this},window.L=n})})(qc,qc.exports);var xn=qc.exports;const GP=j_(xn);function Vy(t){return t.split(" ").filter(Boolean)}function Gy(t,e){Vy(e).forEach(n=>{xn.DomUtil.addClass(t,n)})}function $y(t,e){Vy(e).forEach(n=>{xn.DomUtil.removeClass(t,n)})}function $P(t,e,n){t!=null&&n!==e&&(e!=null&&e.length>0&&$y(t,e),n!=null&&n.length>0&&Gy(t,n))}function uo(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function Tr(t,e){return e==null?function(r,s){const o=q.useRef();return o.current||(o.current=t(r,s)),o}:function(r,s){const o=q.useRef();o.current||(o.current=t(r,s));const l=q.useRef(r),{instance:c}=o.current;return q.useEffect(function(){l.current!==r&&(e(c,r,l.current),l.current=r)},[c,r,s]),o}}function Id(t,e){q.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var o;(o=e.layerContainer)==null||o.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function Md(t){return function(n){const r=ao(),s=t(lo(n,r),r);return xd(r.map,n.attribution),yl(s.current,n.eventHandlers),Id(s.current,r),s}}function Ky(t,e){const n=q.useRef();q.useEffect(function(){if(e.pathOptions!==n.current){const s=e.pathOptions??{};t.instance.setStyle(s),n.current=s}},[t,e])}function qy(t){return function(n){const r=ao(),s=t(lo(n,r),r);return yl(s.current,n.eventHandlers),Id(s.current,r),Ky(s.current,n),s}}function KP(t){function e(s,o){return uo(t(s),o)}const n=Tr(e),r=Wy(n);return Td(r)}function Yy(t,e){const n=Tr(t,e),r=Md(n);return kd(r)}function Qy(t,e){const n=Tr(t),r=jy(n,e);return Zy(r)}function qP(t,e){const n=Tr(t,e),r=qy(n);return kd(r)}function Xy(t,e){const n=Tr(t,e),r=Md(n);return Td(r)}function Jy(t,e,n){const{opacity:r,zIndex:s}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),s!=null&&s!==n.zIndex&&t.setZIndex(s)}function YP(t,e,n){e.bounds instanceof xn.LatLngBounds&&e.bounds!==n.bounds&&t.setBounds(e.bounds),e.opacity!=null&&e.opacity!==n.opacity&&t.setOpacity(e.opacity),e.zIndex!=null&&e.zIndex!==n.zIndex&&t.setZIndex(e.zIndex)}const QP=Object.freeze(Object.defineProperty({__proto__:null,CONTEXT_VERSION:Fy,LeafletContext:Ld,LeafletProvider:Pd,addClassName:Gy,createContainerComponent:kd,createControlComponent:KP,createControlHook:Wy,createDivOverlayComponent:Zy,createDivOverlayHook:jy,createElementHook:Tr,createElementObject:uo,createLayerComponent:Yy,createLayerHook:Md,createLeafComponent:Td,createLeafletContext:Uy,createOverlayComponent:Qy,createPathComponent:qP,createPathHook:qy,createTileLayerComponent:Xy,extendContext:Hy,removeClassName:$y,updateCircle:VP,updateClassName:$P,updateGridLayer:Jy,updateMediaOverlay:YP,useAttribution:xd,useEventHandlers:yl,useLayerLifecycle:Id,useLeafletContext:ao,usePathOptions:Ky,withPane:lo},Symbol.toStringTag,{value:"Module"}));function Yc(){return Yc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yc.apply(this,arguments)}function XP({bounds:t,boundsOptions:e,center:n,children:r,className:s,id:o,placeholder:l,style:c,whenReady:h,zoom:f,...g},_){const[v]=q.useState({className:s,id:o,style:c}),[y,x]=q.useState(null);q.useImperativeHandle(_,()=>(y==null?void 0:y.map)??null,[y]);const P=q.useCallback(S=>{if(S!==null&&y===null){const w=new xn.Map(S,g);n!=null&&f!=null?w.setView(n,f):t!=null&&w.fitBounds(t,e),h!=null&&w.whenReady(h),x(Uy(w))}},[]);q.useEffect(()=>()=>{y==null||y.map.remove()},[y]);const D=y?Bu.createElement(Pd,{value:y},r):l??null;return Bu.createElement("div",Yc({},v,{ref:P}),D)}const JP=q.forwardRef(XP),ek=Yy(function({position:e,...n},r){const s=new xn.Marker(e,n);return uo(s,Hy(r,{overlayContainer:s}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),tk=Qy(function(e,n){const r=new xn.Popup(e,n.overlayContainer);return uo(r,n)},function(e,n,{position:r},s){q.useEffect(function(){const{instance:l}=e;function c(f){f.popup===l&&(l.update(),s(!0))}function h(f){f.popup===l&&s(!1)}return n.map.on({popupopen:c,popupclose:h}),n.overlayContainer==null?(r!=null&&l.setLatLng(r),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){var g;n.map.off({popupopen:c,popupclose:h}),(g=n.overlayContainer)==null||g.unbindPopup(),n.map.removeLayer(l)}},[e,n,s,r])}),nk=Xy(function({url:e,...n},r){const s=new xn.TileLayer(e,lo(n,r));return uo(s,r)},function(e,n,r){Jy(e,n,r);const{url:s}=n;s!=null&&s!==r.url&&e.setUrl(s)});var ew={};const ik=Ka(QP);var W_={exports:{}};(function(t,e){(function(n,r){r(e)})($n,function(n){var r=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(o){L.Util.setOptions(this,o),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var l=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,l?this._withAnimation:this._noAnimation),this._markerCluster=l?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(o){if(o instanceof L.LayerGroup)return this.addLayers([o]);if(!o.getLatLng)return this._nonPointGroup.addLayer(o),this.fire("layeradd",{layer:o}),this;if(!this._map)return this._needsClustering.push(o),this.fire("layeradd",{layer:o}),this;if(this.hasLayer(o))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(o,this._maxZoom),this.fire("layeradd",{layer:o}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var l=o,c=this._zoom;if(o.__parent)for(;l.__parent._zoom>=c;)l=l.__parent;return this._currentShownBounds.contains(l.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(o,l):this._animationAddLayerNonAnimated(o,l)),this},removeLayer:function(o){return o instanceof L.LayerGroup?this.removeLayers([o]):o.getLatLng?this._map?o.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(o)),this._removeLayer(o,!0),this.fire("layerremove",{layer:o}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),o.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(o)&&(this._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,o)&&this.hasLayer(o)&&this._needsRemoving.push({layer:o,latlng:o._latlng}),this.fire("layerremove",{layer:o}),this):(this._nonPointGroup.removeLayer(o),this.fire("layerremove",{layer:o}),this)},addLayers:function(o,l){if(!L.Util.isArray(o))return this.addLayer(o);var c=this._featureGroup,h=this._nonPointGroup,f=this.options.chunkedLoading,g=this.options.chunkInterval,_=this.options.chunkProgress,v=o.length,y=0,x=!0,P;if(this._map){var D=new Date().getTime(),S=L.bind(function(){var E=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();y<v;y++){if(f&&y%200===0){var M=new Date().getTime()-E;if(M>g)break}if(P=o[y],P instanceof L.LayerGroup){x&&(o=o.slice(),x=!1),this._extractNonGroupLayers(P,o),v=o.length;continue}if(!P.getLatLng){h.addLayer(P),l||this.fire("layeradd",{layer:P});continue}if(!this.hasLayer(P)&&(this._addLayer(P,this._maxZoom),l||this.fire("layeradd",{layer:P}),P.__parent&&P.__parent.getChildCount()===2)){var b=P.__parent.getAllChildMarkers(),F=b[0]===P?b[1]:b[0];c.removeLayer(F)}}_&&_(y,v,new Date().getTime()-D),y===v?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(S,this.options.chunkDelay)},this);S()}else for(var w=this._needsClustering;y<v;y++){if(P=o[y],P instanceof L.LayerGroup){x&&(o=o.slice(),x=!1),this._extractNonGroupLayers(P,o),v=o.length;continue}if(!P.getLatLng){h.addLayer(P);continue}this.hasLayer(P)||w.push(P)}return this},removeLayers:function(o){var l,c,h=o.length,f=this._featureGroup,g=this._nonPointGroup,_=!0;if(!this._map){for(l=0;l<h;l++){if(c=o[l],c instanceof L.LayerGroup){_&&(o=o.slice(),_=!1),this._extractNonGroupLayers(c,o),h=o.length;continue}this._arraySplice(this._needsClustering,c),g.removeLayer(c),this.hasLayer(c)&&this._needsRemoving.push({layer:c,latlng:c._latlng}),this.fire("layerremove",{layer:c})}return this}if(this._unspiderfy){this._unspiderfy();var v=o.slice(),y=h;for(l=0;l<y;l++){if(c=v[l],c instanceof L.LayerGroup){this._extractNonGroupLayers(c,v),y=v.length;continue}this._unspiderfyLayer(c)}}for(l=0;l<h;l++){if(c=o[l],c instanceof L.LayerGroup){_&&(o=o.slice(),_=!1),this._extractNonGroupLayers(c,o),h=o.length;continue}if(!c.__parent){g.removeLayer(c),this.fire("layerremove",{layer:c});continue}this._removeLayer(c,!0,!0),this.fire("layerremove",{layer:c}),f.hasLayer(c)&&(f.removeLayer(c),c.clusterShow&&c.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(o){o.off(this._childMarkerEventHandlers,this),delete o.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var o=new L.LatLngBounds;this._topClusterLevel&&o.extend(this._topClusterLevel._bounds);for(var l=this._needsClustering.length-1;l>=0;l--)o.extend(this._needsClustering[l].getLatLng());return o.extend(this._nonPointGroup.getBounds()),o},eachLayer:function(o,l){var c=this._needsClustering.slice(),h=this._needsRemoving,f,g,_;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(c),g=c.length-1;g>=0;g--){for(f=!0,_=h.length-1;_>=0;_--)if(h[_].layer===c[g]){f=!1;break}f&&o.call(l,c[g])}this._nonPointGroup.eachLayer(o,l)},getLayers:function(){var o=[];return this.eachLayer(function(l){o.push(l)}),o},getLayer:function(o){var l=null;return o=parseInt(o,10),this.eachLayer(function(c){L.stamp(c)===o&&(l=c)}),l},hasLayer:function(o){if(!o)return!1;var l,c=this._needsClustering;for(l=c.length-1;l>=0;l--)if(c[l]===o)return!0;for(c=this._needsRemoving,l=c.length-1;l>=0;l--)if(c[l].layer===o)return!1;return!!(o.__parent&&o.__parent._group===this)||this._nonPointGroup.hasLayer(o)},zoomToShowLayer:function(o,l){var c=this._map;typeof l!="function"&&(l=function(){});var h=function(){(c.hasLayer(o)||c.hasLayer(o.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",h,this),this.off("animationend",h,this),c.hasLayer(o)?l():o.__parent._icon&&(this.once("spiderfied",l,this),o.__parent.spiderfy()))};o._icon&&this._map.getBounds().contains(o.getLatLng())?l():o.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",h,this),this._map.panTo(o.getLatLng())):(this._map.on("moveend",h,this),this.on("animationend",h,this),o.__parent.zoomToBounds())},onAdd:function(o){this._map=o;var l,c,h;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(o),this._nonPointGroup.addTo(o),this._gridClusters||this._generateInitialClusters(),this._maxLat=o.options.crs.projection.MAX_LATITUDE,l=0,c=this._needsRemoving.length;l<c;l++)h=this._needsRemoving[l],h.newlatlng=h.layer._latlng,h.layer._latlng=h.latlng;for(l=0,c=this._needsRemoving.length;l<c;l++)h=this._needsRemoving[l],this._removeLayer(h.layer,!0),h.layer._latlng=h.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),c=this._needsClustering,this._needsClustering=[],this.addLayers(c,!0)},onRemove:function(o){o.off("zoomend",this._zoomEnd,this),o.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(o){for(var l=o;l&&!l._icon;)l=l.__parent;return l||null},_arraySplice:function(o,l){for(var c=o.length-1;c>=0;c--)if(o[c]===l)return o.splice(c,1),!0},_removeFromGridUnclustered:function(o,l){for(var c=this._map,h=this._gridUnclustered,f=Math.floor(this._map.getMinZoom());l>=f&&h[l].removeObject(o,c.project(o.getLatLng(),l));l--);},_childMarkerDragStart:function(o){o.target.__dragStart=o.target._latlng},_childMarkerMoved:function(o){if(!this._ignoreMove&&!o.target.__dragStart){var l=o.target._popup&&o.target._popup.isOpen();this._moveChild(o.target,o.oldLatLng,o.latlng),l&&o.target.openPopup()}},_moveChild:function(o,l,c){o._latlng=l,this.removeLayer(o),o._latlng=c,this.addLayer(o)},_childMarkerDragEnd:function(o){var l=o.target.__dragStart;delete o.target.__dragStart,l&&this._moveChild(o.target,l,o.target._latlng)},_removeLayer:function(o,l,c){var h=this._gridClusters,f=this._gridUnclustered,g=this._featureGroup,_=this._map,v=Math.floor(this._map.getMinZoom());l&&this._removeFromGridUnclustered(o,this._maxZoom);var y=o.__parent,x=y._markers,P;for(this._arraySplice(x,o);y&&(y._childCount--,y._boundsNeedUpdate=!0,!(y._zoom<v));)l&&y._childCount<=1?(P=y._markers[0]===o?y._markers[1]:y._markers[0],h[y._zoom].removeObject(y,_.project(y._cLatLng,y._zoom)),f[y._zoom].addObject(P,_.project(P.getLatLng(),y._zoom)),this._arraySplice(y.__parent._childClusters,y),y.__parent._markers.push(P),P.__parent=y.__parent,y._icon&&(g.removeLayer(y),c||g.addLayer(P))):y._iconNeedsUpdate=!0,y=y.__parent;delete o.__parent},_isOrIsParent:function(o,l){for(;l;){if(o===l)return!0;l=l.parentNode}return!1},fire:function(o,l,c){if(l&&l.layer instanceof L.MarkerCluster){if(l.originalEvent&&this._isOrIsParent(l.layer._icon,l.originalEvent.relatedTarget))return;o="cluster"+o}L.FeatureGroup.prototype.fire.call(this,o,l,c)},listens:function(o,l){return L.FeatureGroup.prototype.listens.call(this,o,l)||L.FeatureGroup.prototype.listens.call(this,"cluster"+o,l)},_defaultIconCreateFunction:function(o){var l=o.getChildCount(),c=" marker-cluster-";return l<10?c+="small":l<100?c+="medium":c+="large",new L.DivIcon({html:"<div><span>"+l+"</span></div>",className:"marker-cluster"+c,iconSize:new L.Point(40,40)})},_bindEvents:function(){var o=this._map,l=this.options.spiderfyOnMaxZoom,c=this.options.showCoverageOnHover,h=this.options.zoomToBoundsOnClick,f=this.options.spiderfyOnEveryZoom;(l||h||f)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),c&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),o.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(o){var l=o.layer,c=l;if(!(o.type==="clusterkeypress"&&o.originalEvent&&o.originalEvent.keyCode!==13)){for(;c._childClusters.length===1;)c=c._childClusters[0];c._zoom===this._maxZoom&&c._childCount===l._childCount&&this.options.spiderfyOnMaxZoom?l.spiderfy():this.options.zoomToBoundsOnClick&&l.zoomToBounds(),this.options.spiderfyOnEveryZoom&&l.spiderfy(),o.originalEvent&&o.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(o){var l=this._map;this._inZoomAnimation||(this._shownPolygon&&l.removeLayer(this._shownPolygon),o.layer.getChildCount()>2&&o.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(o.layer.getConvexHull(),this.options.polygonOptions),l.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var o=this.options.spiderfyOnMaxZoom,l=this.options.showCoverageOnHover,c=this.options.zoomToBoundsOnClick,h=this.options.spiderfyOnEveryZoom,f=this._map;(o||c||h)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),l&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),f.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var o=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,o),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),o),this._currentShownBounds=o}},_generateInitialClusters:function(){var o=Math.ceil(this._map.getMaxZoom()),l=Math.floor(this._map.getMinZoom()),c=this.options.maxClusterRadius,h=c;typeof c!="function"&&(h=function(){return c}),this.options.disableClusteringAtZoom!==null&&(o=this.options.disableClusteringAtZoom-1),this._maxZoom=o,this._gridClusters={},this._gridUnclustered={};for(var f=o;f>=l;f--)this._gridClusters[f]=new L.DistanceGrid(h(f)),this._gridUnclustered[f]=new L.DistanceGrid(h(f));this._topClusterLevel=new this._markerCluster(this,l-1)},_addLayer:function(o,l){var c=this._gridClusters,h=this._gridUnclustered,f=Math.floor(this._map.getMinZoom()),g,_;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(o),o.on(this._childMarkerEventHandlers,this);l>=f;l--){g=this._map.project(o.getLatLng(),l);var v=c[l].getNearObject(g);if(v){v._addChild(o),o.__parent=v;return}if(v=h[l].getNearObject(g),v){var y=v.__parent;y&&this._removeLayer(v,!1);var x=new this._markerCluster(this,l,v,o);c[l].addObject(x,this._map.project(x._cLatLng,l)),v.__parent=x,o.__parent=x;var P=x;for(_=l-1;_>y._zoom;_--)P=new this._markerCluster(this,_,P),c[_].addObject(P,this._map.project(v.getLatLng(),_));y._addChild(P),this._removeFromGridUnclustered(v,l);return}h[l].addObject(o,g)}this._topClusterLevel._addChild(o),o.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(o){o instanceof L.MarkerCluster&&o._iconNeedsUpdate&&o._updateIcon()})},_enqueue:function(o){this._queue.push(o),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var o=0;o<this._queue.length;o++)this._queue[o].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var o=Math.round(this._map._zoom);this._processQueue(),this._zoom<o&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,o)):this._zoom>o?(this._animationStart(),this._animationZoomOut(this._zoom,o)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(o){var l=this._maxLat;return l!==void 0&&(o.getNorth()>=l&&(o._northEast.lat=1/0),o.getSouth()<=-l&&(o._southWest.lat=-1/0)),o},_animationAddLayerNonAnimated:function(o,l){if(l===o)this._featureGroup.addLayer(o);else if(l._childCount===2){l._addToMap();var c=l.getAllChildMarkers();this._featureGroup.removeLayer(c[0]),this._featureGroup.removeLayer(c[1])}else l._updateIcon()},_extractNonGroupLayers:function(o,l){var c=o.getLayers(),h=0,f;for(l=l||[];h<c.length;h++){if(f=c[h],f instanceof L.LayerGroup){this._extractNonGroupLayers(f,l);continue}l.push(f)}return l},_overrideMarkerIcon:function(o){var l=o.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[o]}});return l}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(o,l){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o),this._topClusterLevel._recursivelyAddChildrenToMap(null,l,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(o,l){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o),this._topClusterLevel._recursivelyAddChildrenToMap(null,l,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(o,l){this._animationAddLayerNonAnimated(o,l)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(o,l){var c=this._getExpandedVisibleBounds(),h=this._featureGroup,f=Math.floor(this._map.getMinZoom()),g;this._ignoreMove=!0,this._topClusterLevel._recursively(c,o,f,function(_){var v=_._latlng,y=_._markers,x;for(c.contains(v)||(v=null),_._isSingleParent()&&o+1===l?(h.removeLayer(_),_._recursivelyAddChildrenToMap(null,l,c)):(_.clusterHide(),_._recursivelyAddChildrenToMap(v,l,c)),g=y.length-1;g>=0;g--)x=y[g],c.contains(x._latlng)||h.removeLayer(x)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(c,l),h.eachLayer(function(_){!(_ instanceof L.MarkerCluster)&&_._icon&&_.clusterShow()}),this._topClusterLevel._recursively(c,o,l,function(_){_._recursivelyRestoreChildPositions(l)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(c,o,f,function(_){h.removeLayer(_),_.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(o,l){this._animationZoomOutSingle(this._topClusterLevel,o-1,l),this._topClusterLevel._recursivelyAddChildrenToMap(null,l,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o,this._getExpandedVisibleBounds())},_animationAddLayer:function(o,l){var c=this,h=this._featureGroup;h.addLayer(o),l!==o&&(l._childCount>2?(l._updateIcon(),this._forceLayout(),this._animationStart(),o._setPos(this._map.latLngToLayerPoint(l.getLatLng())),o.clusterHide(),this._enqueue(function(){h.removeLayer(o),o.clusterShow(),c._animationEnd()})):(this._forceLayout(),c._animationStart(),c._animationZoomOutSingle(l,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(o,l,c){var h=this._getExpandedVisibleBounds(),f=Math.floor(this._map.getMinZoom());o._recursivelyAnimateChildrenInAndAddSelfToMap(h,f,l+1,c);var g=this;this._forceLayout(),o._recursivelyBecomeVisible(h,c),this._enqueue(function(){if(o._childCount===1){var _=o._markers[0];this._ignoreMove=!0,_.setLatLng(_.getLatLng()),this._ignoreMove=!1,_.clusterShow&&_.clusterShow()}else o._recursively(h,c,f,function(v){v._recursivelyRemoveChildrenFromMap(h,f,l+1)});g._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(o){return new L.MarkerClusterGroup(o)};var s=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(o,l,c,h){L.Marker.prototype.initialize.call(this,c?c._cLatLng||c.getLatLng():new L.LatLng(0,0),{icon:this,pane:o.options.clusterPane}),this._group=o,this._zoom=l,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,c&&this._addChild(c),h&&this._addChild(h)},getAllChildMarkers:function(o,l){o=o||[];for(var c=this._childClusters.length-1;c>=0;c--)this._childClusters[c].getAllChildMarkers(o,l);for(var h=this._markers.length-1;h>=0;h--)l&&this._markers[h].__dragStart||o.push(this._markers[h]);return o},getChildCount:function(){return this._childCount},zoomToBounds:function(o){for(var l=this._childClusters.slice(),c=this._group._map,h=c.getBoundsZoom(this._bounds),f=this._zoom+1,g=c.getZoom(),_;l.length>0&&h>f;){f++;var v=[];for(_=0;_<l.length;_++)v=v.concat(l[_]._childClusters);l=v}h>f?this._group._map.setView(this._latlng,f):h<=g?this._group._map.setView(this._latlng,g+1):this._group._map.fitBounds(this._bounds,o)},getBounds:function(){var o=new L.LatLngBounds;return o.extend(this._bounds),o},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(o,l){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(o),o instanceof L.MarkerCluster?(l||(this._childClusters.push(o),o.__parent=this),this._childCount+=o._childCount):(l||this._markers.push(o),this._childCount++),this.__parent&&this.__parent._addChild(o,!0)},_setClusterCenter:function(o){this._cLatLng||(this._cLatLng=o._cLatLng||o._latlng)},_resetBounds:function(){var o=this._bounds;o._southWest&&(o._southWest.lat=1/0,o._southWest.lng=1/0),o._northEast&&(o._northEast.lat=-1/0,o._northEast.lng=-1/0)},_recalculateBounds:function(){var o=this._markers,l=this._childClusters,c=0,h=0,f=this._childCount,g,_,v,y;if(f!==0){for(this._resetBounds(),g=0;g<o.length;g++)v=o[g]._latlng,this._bounds.extend(v),c+=v.lat,h+=v.lng;for(g=0;g<l.length;g++)_=l[g],_._boundsNeedUpdate&&_._recalculateBounds(),this._bounds.extend(_._bounds),v=_._wLatLng,y=_._childCount,c+=v.lat*y,h+=v.lng*y;this._latlng=this._wLatLng=new L.LatLng(c/f,h/f),this._boundsNeedUpdate=!1}},_addToMap:function(o){o&&(this._backupLatlng=this._latlng,this.setLatLng(o)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(o,l,c){this._recursively(o,this._group._map.getMinZoom(),c-1,function(h){var f=h._markers,g,_;for(g=f.length-1;g>=0;g--)_=f[g],_._icon&&(_._setPos(l),_.clusterHide())},function(h){var f=h._childClusters,g,_;for(g=f.length-1;g>=0;g--)_=f[g],_._icon&&(_._setPos(l),_.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(o,l,c,h){this._recursively(o,h,l,function(f){f._recursivelyAnimateChildrenIn(o,f._group._map.latLngToLayerPoint(f.getLatLng()).round(),c),f._isSingleParent()&&c-1===h?(f.clusterShow(),f._recursivelyRemoveChildrenFromMap(o,l,c)):f.clusterHide(),f._addToMap()})},_recursivelyBecomeVisible:function(o,l){this._recursively(o,this._group._map.getMinZoom(),l,null,function(c){c.clusterShow()})},_recursivelyAddChildrenToMap:function(o,l,c){this._recursively(c,this._group._map.getMinZoom()-1,l,function(h){if(l!==h._zoom)for(var f=h._markers.length-1;f>=0;f--){var g=h._markers[f];c.contains(g._latlng)&&(o&&(g._backupLatlng=g.getLatLng(),g.setLatLng(o),g.clusterHide&&g.clusterHide()),h._group._featureGroup.addLayer(g))}},function(h){h._addToMap(o)})},_recursivelyRestoreChildPositions:function(o){for(var l=this._markers.length-1;l>=0;l--){var c=this._markers[l];c._backupLatlng&&(c.setLatLng(c._backupLatlng),delete c._backupLatlng)}if(o-1===this._zoom)for(var h=this._childClusters.length-1;h>=0;h--)this._childClusters[h]._restorePosition();else for(var f=this._childClusters.length-1;f>=0;f--)this._childClusters[f]._recursivelyRestoreChildPositions(o)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(o,l,c,h){var f,g;this._recursively(o,l-1,c-1,function(_){for(g=_._markers.length-1;g>=0;g--)f=_._markers[g],(!h||!h.contains(f._latlng))&&(_._group._featureGroup.removeLayer(f),f.clusterShow&&f.clusterShow())},function(_){for(g=_._childClusters.length-1;g>=0;g--)f=_._childClusters[g],(!h||!h.contains(f._latlng))&&(_._group._featureGroup.removeLayer(f),f.clusterShow&&f.clusterShow())})},_recursively:function(o,l,c,h,f){var g=this._childClusters,_=this._zoom,v,y;if(l<=_&&(h&&h(this),f&&_===c&&f(this)),_<l||_<c)for(v=g.length-1;v>=0;v--)y=g[v],y._boundsNeedUpdate&&y._recalculateBounds(),o.intersects(y._bounds)&&y._recursively(o,l,c,h,f)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var o=this.options.opacity;return this.setOpacity(0),this.options.opacity=o,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(o){this._cellSize=o,this._sqCellSize=o*o,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(o,l){var c=this._getCoord(l.x),h=this._getCoord(l.y),f=this._grid,g=f[h]=f[h]||{},_=g[c]=g[c]||[],v=L.Util.stamp(o);this._objectPoint[v]=l,_.push(o)},updateObject:function(o,l){this.removeObject(o),this.addObject(o,l)},removeObject:function(o,l){var c=this._getCoord(l.x),h=this._getCoord(l.y),f=this._grid,g=f[h]=f[h]||{},_=g[c]=g[c]||[],v,y;for(delete this._objectPoint[L.Util.stamp(o)],v=0,y=_.length;v<y;v++)if(_[v]===o)return _.splice(v,1),y===1&&delete g[c],!0},eachObject:function(o,l){var c,h,f,g,_,v,y,x=this._grid;for(c in x){_=x[c];for(h in _)for(v=_[h],f=0,g=v.length;f<g;f++)y=o.call(l,v[f]),y&&(f--,g--)}},getNearObject:function(o){var l=this._getCoord(o.x),c=this._getCoord(o.y),h,f,g,_,v,y,x,P,D=this._objectPoint,S=this._sqCellSize,w=null;for(h=c-1;h<=c+1;h++)if(_=this._grid[h],_){for(f=l-1;f<=l+1;f++)if(v=_[f],v)for(g=0,y=v.length;g<y;g++)x=v[g],P=this._sqDist(D[L.Util.stamp(x)],o),(P<S||P<=S&&w===null)&&(S=P,w=x)}return w},_getCoord:function(o){var l=Math.floor(o/this._cellSize);return isFinite(l)?l:o},_sqDist:function(o,l){var c=l.x-o.x,h=l.y-o.y;return c*c+h*h}},function(){L.QuickHull={getDistant:function(o,l){var c=l[1].lat-l[0].lat,h=l[0].lng-l[1].lng;return h*(o.lat-l[0].lat)+c*(o.lng-l[0].lng)},findMostDistantPointFromBaseLine:function(o,l){var c=0,h=null,f=[],g,_,v;for(g=l.length-1;g>=0;g--){if(_=l[g],v=this.getDistant(_,o),v>0)f.push(_);else continue;v>c&&(c=v,h=_)}return{maxPoint:h,newPoints:f}},buildConvexHull:function(o,l){var c=[],h=this.findMostDistantPointFromBaseLine(o,l);return h.maxPoint?(c=c.concat(this.buildConvexHull([o[0],h.maxPoint],h.newPoints)),c=c.concat(this.buildConvexHull([h.maxPoint,o[1]],h.newPoints)),c):[o[0]]},getConvexHull:function(o){var l=!1,c=!1,h=!1,f=!1,g=null,_=null,v=null,y=null,x=null,P=null,D;for(D=o.length-1;D>=0;D--){var S=o[D];(l===!1||S.lat>l)&&(g=S,l=S.lat),(c===!1||S.lat<c)&&(_=S,c=S.lat),(h===!1||S.lng>h)&&(v=S,h=S.lng),(f===!1||S.lng<f)&&(y=S,f=S.lng)}c!==l?(P=_,x=g):(P=y,x=v);var w=[].concat(this.buildConvexHull([P,x],o),this.buildConvexHull([x,P],o));return w}}}(),L.MarkerCluster.include({getConvexHull:function(){var o=this.getAllChildMarkers(),l=[],c,h;for(h=o.length-1;h>=0;h--)c=o[h].getLatLng(),l.push(c);return L.QuickHull.getConvexHull(l)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var o=this.getAllChildMarkers(null,!0),l=this._group,c=l._map,h=c.latLngToLayerPoint(this._latlng),f;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?f=this._group.options.spiderfyShapePositions(o.length,h):o.length>=this._circleSpiralSwitchover?f=this._generatePointsSpiral(o.length,h):(h.y+=10,f=this._generatePointsCircle(o.length,h)),this._animationSpiderfy(o,f)}},unspiderfy:function(o){this._group._inZoomAnimation||(this._animationUnspiderfy(o),this._group._spiderfied=null)},_generatePointsCircle:function(o,l){var c=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+o),h=c/this._2PI,f=this._2PI/o,g=[],_,v;for(h=Math.max(h,35),g.length=o,_=0;_<o;_++)v=this._circleStartAngle+_*f,g[_]=new L.Point(l.x+h*Math.cos(v),l.y+h*Math.sin(v))._round();return g},_generatePointsSpiral:function(o,l){var c=this._group.options.spiderfyDistanceMultiplier,h=c*this._spiralLengthStart,f=c*this._spiralFootSeparation,g=c*this._spiralLengthFactor*this._2PI,_=0,v=[],y;for(v.length=o,y=o;y>=0;y--)y<o&&(v[y]=new L.Point(l.x+h*Math.cos(_),l.y+h*Math.sin(_))._round()),_+=f/h+y*5e-4,h+=g/_;return v},_noanimationUnspiderfy:function(){var o=this._group,l=o._map,c=o._featureGroup,h=this.getAllChildMarkers(null,!0),f,g;for(o._ignoreMove=!0,this.setOpacity(1),g=h.length-1;g>=0;g--)f=h[g],c.removeLayer(f),f._preSpiderfyLatlng&&(f.setLatLng(f._preSpiderfyLatlng),delete f._preSpiderfyLatlng),f.setZIndexOffset&&f.setZIndexOffset(0),f._spiderLeg&&(l.removeLayer(f._spiderLeg),delete f._spiderLeg);o.fire("unspiderfied",{cluster:this,markers:h}),o._ignoreMove=!1,o._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(o,l){var c=this._group,h=c._map,f=c._featureGroup,g=this._group.options.spiderLegPolylineOptions,_,v,y,x;for(c._ignoreMove=!0,_=0;_<o.length;_++)x=h.layerPointToLatLng(l[_]),v=o[_],y=new L.Polyline([this._latlng,x],g),h.addLayer(y),v._spiderLeg=y,v._preSpiderfyLatlng=v._latlng,v.setLatLng(x),v.setZIndexOffset&&v.setZIndexOffset(1e6),f.addLayer(v);this.setOpacity(.3),c._ignoreMove=!1,c.fire("spiderfied",{cluster:this,markers:o})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(o,l){var c=this,h=this._group,f=h._map,g=h._featureGroup,_=this._latlng,v=f.latLngToLayerPoint(_),y=L.Path.SVG,x=L.extend({},this._group.options.spiderLegPolylineOptions),P=x.opacity,D,S,w,E,M,b;for(P===void 0&&(P=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),y?(x.opacity=0,x.className=(x.className||"")+" leaflet-cluster-spider-leg"):x.opacity=P,h._ignoreMove=!0,D=0;D<o.length;D++)S=o[D],b=f.layerPointToLatLng(l[D]),w=new L.Polyline([_,b],x),f.addLayer(w),S._spiderLeg=w,y&&(E=w._path,M=E.getTotalLength()+.1,E.style.strokeDasharray=M,E.style.strokeDashoffset=M),S.setZIndexOffset&&S.setZIndexOffset(1e6),S.clusterHide&&S.clusterHide(),g.addLayer(S),S._setPos&&S._setPos(v);for(h._forceLayout(),h._animationStart(),D=o.length-1;D>=0;D--)b=f.layerPointToLatLng(l[D]),S=o[D],S._preSpiderfyLatlng=S._latlng,S.setLatLng(b),S.clusterShow&&S.clusterShow(),y&&(w=S._spiderLeg,E=w._path,E.style.strokeDashoffset=0,w.setStyle({opacity:P}));this.setOpacity(.3),h._ignoreMove=!1,setTimeout(function(){h._animationEnd(),h.fire("spiderfied",{cluster:c,markers:o})},200)},_animationUnspiderfy:function(o){var l=this,c=this._group,h=c._map,f=c._featureGroup,g=o?h._latLngToNewLayerPoint(this._latlng,o.zoom,o.center):h.latLngToLayerPoint(this._latlng),_=this.getAllChildMarkers(null,!0),v=L.Path.SVG,y,x,P,D,S,w;for(c._ignoreMove=!0,c._animationStart(),this.setOpacity(1),x=_.length-1;x>=0;x--)y=_[x],y._preSpiderfyLatlng&&(y.closePopup(),y.setLatLng(y._preSpiderfyLatlng),delete y._preSpiderfyLatlng,w=!0,y._setPos&&(y._setPos(g),w=!1),y.clusterHide&&(y.clusterHide(),w=!1),w&&f.removeLayer(y),v&&(P=y._spiderLeg,D=P._path,S=D.getTotalLength()+.1,D.style.strokeDashoffset=S,P.setStyle({opacity:0})));c._ignoreMove=!1,setTimeout(function(){var E=0;for(x=_.length-1;x>=0;x--)y=_[x],y._spiderLeg&&E++;for(x=_.length-1;x>=0;x--)y=_[x],y._spiderLeg&&(y.clusterShow&&y.clusterShow(),y.setZIndexOffset&&y.setZIndexOffset(0),E>1&&f.removeLayer(y),h.removeLayer(y._spiderLeg),delete y._spiderLeg);c._animationEnd(),c.fire("unspiderfied",{cluster:l,markers:_})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(o){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(o))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(o){this._spiderfied&&this._spiderfied.unspiderfy(o)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(o){o._spiderLeg&&(this._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow(),o.setZIndexOffset&&o.setZIndexOffset(0),this._map.removeLayer(o._spiderLeg),delete o._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(o){return o?o instanceof L.MarkerClusterGroup?o=o._topClusterLevel.getAllChildMarkers():o instanceof L.LayerGroup?o=o._layers:o instanceof L.MarkerCluster?o=o.getAllChildMarkers():o instanceof L.Marker&&(o=[o]):o=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(o),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(o),this},_flagParentsIconsNeedUpdate:function(o){var l,c;for(l in o)for(c=o[l].__parent;c;)c._iconNeedsUpdate=!0,c=c.__parent},_refreshSingleMarkerModeMarkers:function(o){var l,c;for(l in o)c=o[l],this.hasLayer(c)&&c.setIcon(this._overrideMarkerIcon(c))}}),L.Marker.include({refreshIconOptions:function(o,l){var c=this.options.icon;return L.setOptions(c,o),this.setIcon(c),l&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=r,n.MarkerCluster=s,Object.defineProperty(n,"__esModule",{value:!0})})})(W_,W_.exports);const rk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",sk=Object.freeze(Object.defineProperty({__proto__:null,default:rk},Symbol.toStringTag,{value:"Module"})),ok=Ka(sk),ak="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",lk=Object.freeze(Object.defineProperty({__proto__:null,default:ak},Symbol.toStringTag,{value:"Module"})),uk=Ka(lk),ck="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",hk=Object.freeze(Object.defineProperty({__proto__:null,default:ck},Symbol.toStringTag,{value:"Module"})),dk=Ka(hk);var tr=$n&&$n.__assign||function(){return tr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},tr.apply(this,arguments)},fk=$n&&$n.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n},pk=$n&&$n.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ew,"__esModule",{value:!0});var Qc=ik,Nd=pk(xn);delete Nd.default.Icon.Default.prototype._getIconUrl;Nd.default.Icon.Default.mergeOptions({iconRetinaUrl:ok.default,iconUrl:uk.default,shadowUrl:dk.default});function _k(t){var e={},n={};t.children;var r=fk(t,["children"]);return Object.entries(r).forEach(function(s){var o,l,c=s[0],h=s[1];c.startsWith("on")?n=tr(tr({},n),(o={},o[c]=h,o)):e=tr(tr({},e),(l={},l[c]=h,l))}),{clusterProps:e,clusterEvents:n}}function mk(t,e){var n=_k(t),r=n.clusterProps,s=n.clusterEvents,o=new Nd.default.MarkerClusterGroup(r);return Object.entries(s).forEach(function(l){var c=l[0],h=l[1],f="cluster".concat(c.substring(2).toLowerCase());o.on(f,h)}),(0,Qc.createElementObject)(o,(0,Qc.extendContext)(e,{layerContainer:o}))}var gk=function(t,e,n){},vk=(0,Qc.createPathComponent)(mk,gk),yk=ew.default=vk;const wk={apiKey:"AIzaSyB0xVPcTwZb5vYCZZKYPr8uimM8nKxM900",authDomain:"mapa-fe85d.firebaseapp.com",databaseURL:"https://mapa-fe85d-default-rtdb.europe-west1.firebasedatabase.app",projectId:"mapa-fe85d",storageBucket:"mapa-fe85d.firebasestorage.app",messagingSenderId:"1061731964525",appId:"1:1061731964525:web:7b1aecf2d5c3a04caad164",measurementId:"G-63RZV3H9KB"},Ck=qh(wk),Sk=By(Ck),Ek=async()=>{const t=Dy(Sk,"/");try{const e=await zy(t);return e.exists()?e.val():(console.log("No data available"),[])}catch(e){return console.error("Error reading data:",e),[]}},xk=({selectedFilters:t,searchTerm:e})=>{const[n,r]=q.useState([]);q.useEffect(()=>{(async()=>{const f=await Ek();r(f)})()},[]);const s={"Domovi zdravlja":2,Bolnice:1,Ljekarne:3,Poliklinike:4,"Prevencija ovisnosti":5,Psiholozi:6},o={1:"https://i.imgur.com/9fP8Ot2.png",2:"https://i.imgur.com/oLSdHCb.png",3:"https://i.imgur.com/zPPS039.png",4:"https://i.imgur.com/DdQi5p2.png",5:"https://i.imgur.com/VSY8Ca9.png",6:"https://i.imgur.com/V5NaCqC.png"},l=n.filter(h=>{const f=t.includes("Besplatne usluge")&&h.Pay===0||t.includes("Usluge s naplatom")&&h.Pay===1,g=t.some(_=>s[_]===h.Type);return f||g||t.length===0}).filter(h=>e?h.Name.toLowerCase().includes(e.toLowerCase()):!0),c=e?l.slice(0,5):l;return pe.jsxs(JP,{style:{height:"92%",width:"100%"},center:[45.32560918851513,14.44176433327116],zoom:14,minZoom:12,scrollWheelZoom:!0,children:[pe.jsx(nk,{url:"https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png",attribution:'© <a href="https://www.stadiamaps.com/" target="_blank">Stadia Maps</a> © <a href="https://openmaptiles.org/" target="_blank">OpenMapTiles</a> © <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),pe.jsx(yk,{maxClusterRadius:25,spiderfyOnMaxZoom:!0,children:c.map((h,f)=>pe.jsx(ek,{position:[h.Y,h.X],icon:GP.icon({iconUrl:o[h.Type]||"https://i.imgur.com/9fP8Ot2.png",iconSize:[90,90]}),children:pe.jsxs(tk,{children:[pe.jsx("h4",{children:h.Name}),h.adresa||"Adresa nije dostupna",pe.jsx("br",{}),h.kontakt||"Kontakt nije dostupan",pe.jsx("br",{}),pe.jsx("a",{href:h.mapslink,children:"Otvori na Google kartama"}),pe.jsx("br",{}),pe.jsx("a",{href:h.web,children:"Otvori web strancu"})]})},f))})]})};function Lk(){const[t,e]=q.useState([]),[n,r]=q.useState(""),s=l=>{e(l)},o=l=>{r(l.target.value)};return pe.jsxs(pe.Fragment,{children:[pe.jsxs("div",{className:"gore",children:[pe.jsx("input",{type:"text",placeholder:"Pretraži",id:"searchbar",value:n,onChange:o}),pe.jsx(jP,{onFilterChange:s})]}),pe.jsx(xk,{selectedFilters:t,searchTerm:n})," "]})}rv(document.getElementById("root")).render(pe.jsx(q.StrictMode,{children:pe.jsx(Lk,{})}));
