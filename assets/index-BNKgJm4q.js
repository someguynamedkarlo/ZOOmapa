(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var e0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function L_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var N_={exports:{}},Ha={},M_={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jo=Symbol.for("react.element"),t0=Symbol.for("react.portal"),n0=Symbol.for("react.fragment"),i0=Symbol.for("react.strict_mode"),r0=Symbol.for("react.profiler"),o0=Symbol.for("react.provider"),s0=Symbol.for("react.context"),a0=Symbol.for("react.forward_ref"),l0=Symbol.for("react.suspense"),u0=Symbol.for("react.memo"),c0=Symbol.for("react.lazy"),Lf=Symbol.iterator;function h0(t){return t===null||typeof t!="object"?null:(t=Lf&&t[Lf]||t["@@iterator"],typeof t=="function"?t:null)}var R_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O_=Object.assign,A_={};function yr(t,e,n){this.props=t,this.context=e,this.refs=A_,this.updater=n||R_}yr.prototype.isReactComponent={};yr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function D_(){}D_.prototype=yr.prototype;function Zc(t,e,n){this.props=t,this.context=e,this.refs=A_,this.updater=n||R_}var jc=Zc.prototype=new D_;jc.constructor=Zc;O_(jc,yr.prototype);jc.isPureReactComponent=!0;var Nf=Array.isArray,b_=Object.prototype.hasOwnProperty,Vc={current:null},z_={key:!0,ref:!0,__self:!0,__source:!0};function F_(t,e,n){var r,o={},a=null,u=null;if(e!=null)for(r in e.ref!==void 0&&(u=e.ref),e.key!==void 0&&(a=""+e.key),e)b_.call(e,r)&&!z_.hasOwnProperty(r)&&(o[r]=e[r]);var h=arguments.length-2;if(h===1)o.children=n;else if(1<h){for(var d=Array(h),p=0;p<h;p++)d[p]=arguments[p+2];o.children=d}if(t&&t.defaultProps)for(r in h=t.defaultProps,h)o[r]===void 0&&(o[r]=h[r]);return{$$typeof:jo,type:t,key:a,ref:u,props:o,_owner:Vc.current}}function d0(t,e){return{$$typeof:jo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $c(t){return typeof t=="object"&&t!==null&&t.$$typeof===jo}function f0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Mf=/\/+/g;function Gl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?f0(""+t.key):e.toString(36)}function Zs(t,e,n,r,o){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var u=!1;if(t===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case jo:case t0:u=!0}}if(u)return u=t,o=o(u),t=r===""?"."+Gl(u,0):r,Nf(o)?(n="",t!=null&&(n=t.replace(Mf,"$&/")+"/"),Zs(o,e,n,"",function(p){return p})):o!=null&&($c(o)&&(o=d0(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(Mf,"$&/")+"/")+t)),e.push(o)),1;if(u=0,r=r===""?".":r+":",Nf(t))for(var h=0;h<t.length;h++){a=t[h];var d=r+Gl(a,h);u+=Zs(a,e,n,d,o)}else if(d=h0(t),typeof d=="function")for(t=d.call(t),h=0;!(a=t.next()).done;)a=a.value,d=r+Gl(a,h++),u+=Zs(a,e,n,d,o);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function xs(t,e,n){if(t==null)return t;var r=[],o=0;return Zs(t,r,"","",function(a){return e.call(n,a,o++)}),r}function p0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var st={current:null},js={transition:null},_0={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:js,ReactCurrentOwner:Vc};function B_(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:xs,forEach:function(t,e,n){xs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xs(t,function(){e++}),e},toArray:function(t){return xs(t,function(e){return e})||[]},only:function(t){if(!$c(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ee.Component=yr;ee.Fragment=n0;ee.Profiler=r0;ee.PureComponent=Zc;ee.StrictMode=i0;ee.Suspense=l0;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_0;ee.act=B_;ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=O_({},t.props),o=t.key,a=t.ref,u=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,u=Vc.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var h=t.type.defaultProps;for(d in e)b_.call(e,d)&&!z_.hasOwnProperty(d)&&(r[d]=e[d]===void 0&&h!==void 0?h[d]:e[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){h=Array(d);for(var p=0;p<d;p++)h[p]=arguments[p+2];r.children=h}return{$$typeof:jo,type:t.type,key:o,ref:a,props:r,_owner:u}};ee.createContext=function(t){return t={$$typeof:s0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:o0,_context:t},t.Consumer=t};ee.createElement=F_;ee.createFactory=function(t){var e=F_.bind(null,t);return e.type=t,e};ee.createRef=function(){return{current:null}};ee.forwardRef=function(t){return{$$typeof:a0,render:t}};ee.isValidElement=$c;ee.lazy=function(t){return{$$typeof:c0,_payload:{_status:-1,_result:t},_init:p0}};ee.memo=function(t,e){return{$$typeof:u0,type:t,compare:e===void 0?null:e}};ee.startTransition=function(t){var e=js.transition;js.transition={};try{t()}finally{js.transition=e}};ee.unstable_act=B_;ee.useCallback=function(t,e){return st.current.useCallback(t,e)};ee.useContext=function(t){return st.current.useContext(t)};ee.useDebugValue=function(){};ee.useDeferredValue=function(t){return st.current.useDeferredValue(t)};ee.useEffect=function(t,e){return st.current.useEffect(t,e)};ee.useId=function(){return st.current.useId()};ee.useImperativeHandle=function(t,e,n){return st.current.useImperativeHandle(t,e,n)};ee.useInsertionEffect=function(t,e){return st.current.useInsertionEffect(t,e)};ee.useLayoutEffect=function(t,e){return st.current.useLayoutEffect(t,e)};ee.useMemo=function(t,e){return st.current.useMemo(t,e)};ee.useReducer=function(t,e,n){return st.current.useReducer(t,e,n)};ee.useRef=function(t){return st.current.useRef(t)};ee.useState=function(t){return st.current.useState(t)};ee.useSyncExternalStore=function(t,e,n){return st.current.useSyncExternalStore(t,e,n)};ee.useTransition=function(){return st.current.useTransition()};ee.version="18.3.1";M_.exports=ee;var ie=M_.exports;const Nu=L_(ie);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0=ie,g0=Symbol.for("react.element"),v0=Symbol.for("react.fragment"),y0=Object.prototype.hasOwnProperty,w0=m0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C0={key:!0,ref:!0,__self:!0,__source:!0};function W_(t,e,n){var r,o={},a=null,u=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(u=e.ref);for(r in e)y0.call(e,r)&&!C0.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:g0,type:t,key:a,ref:u,props:o,_owner:w0.current}}Ha.Fragment=v0;Ha.jsx=W_;Ha.jsxs=W_;N_.exports=Ha;var ke=N_.exports,U_={exports:{}},Et={},H_={exports:{}},Z_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,$){var A=I.length;I.push($);e:for(;0<A;){var V=A-1>>>1,re=I[V];if(0<o(re,$))I[V]=$,I[A]=re,A=V;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var $=I[0],A=I.pop();if(A!==$){I[0]=A;e:for(var V=0,re=I.length,Ae=re>>>1;V<Ae;){var ce=2*(V+1)-1,se=I[ce],G=ce+1,lt=I[G];if(0>o(se,A))G<re&&0>o(lt,se)?(I[V]=lt,I[G]=A,V=G):(I[V]=se,I[ce]=A,V=ce);else if(G<re&&0>o(lt,A))I[V]=lt,I[G]=A,V=G;else break e}}return $}function o(I,$){var A=I.sortIndex-$.sortIndex;return A!==0?A:I.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],p=[],v=1,m=null,g=3,x=!1,P=!1,k=!1,j=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(I){for(var $=n(p);$!==null;){if($.callback===null)r(p);else if($.startTime<=I)r(p),$.sortIndex=$.expirationTime,e(d,$);else break;$=n(p)}}function M(I){if(k=!1,E(I),!P)if(n(d)!==null)P=!0,Ve(b);else{var $=n(p);$!==null&&nn(M,$.startTime-I)}}function b(I,$){P=!1,k&&(k=!1,C(W),W=-1),x=!0;var A=g;try{for(E($),m=n(d);m!==null&&(!(m.expirationTime>$)||I&&!de());){var V=m.callback;if(typeof V=="function"){m.callback=null,g=m.priorityLevel;var re=V(m.expirationTime<=$);$=t.unstable_now(),typeof re=="function"?m.callback=re:m===n(d)&&r(d),E($)}else r(d);m=n(d)}if(m!==null)var Ae=!0;else{var ce=n(p);ce!==null&&nn(M,ce.startTime-$),Ae=!1}return Ae}finally{m=null,g=A,x=!1}}var F=!1,B=null,W=-1,ge=5,q=-1;function de(){return!(t.unstable_now()-q<ge)}function Be(){if(B!==null){var I=t.unstable_now();q=I;var $=!0;try{$=B(!0,I)}finally{$?ti():(F=!1,B=null)}}else F=!1}var ti;if(typeof w=="function")ti=function(){w(Be)};else if(typeof MessageChannel<"u"){var xt=new MessageChannel,dl=xt.port2;xt.port1.onmessage=Be,ti=function(){dl.postMessage(null)}}else ti=function(){j(Be,0)};function Ve(I){B=I,F||(F=!0,ti())}function nn(I,$){W=j(function(){I(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){P||x||(P=!0,Ve(b))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ge=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(I){switch(g){case 1:case 2:case 3:var $=3;break;default:$=g}var A=g;g=$;try{return I()}finally{g=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,$){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var A=g;g=I;try{return $()}finally{g=A}},t.unstable_scheduleCallback=function(I,$,A){var V=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?V+A:V):A=V,I){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=A+re,I={id:v++,callback:$,priorityLevel:I,startTime:A,expirationTime:re,sortIndex:-1},A>V?(I.sortIndex=A,e(p,I),n(d)===null&&I===n(p)&&(k?(C(W),W=-1):k=!0,nn(M,A-V))):(I.sortIndex=re,e(d,I),P||x||(P=!0,Ve(b))),I},t.unstable_shouldYield=de,t.unstable_wrapCallback=function(I){var $=g;return function(){var A=g;g=$;try{return I.apply(this,arguments)}finally{g=A}}}})(Z_);H_.exports=Z_;var E0=H_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0=ie,Ct=E0;function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var j_=new Set,mo={};function Ti(t,e){lr(t,e),lr(t+"Capture",e)}function lr(t,e){for(mo[t]=e,t=0;t<e.length;t++)j_.add(e[t])}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mu=Object.prototype.hasOwnProperty,x0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rf={},Of={};function T0(t){return Mu.call(Of,t)?!0:Mu.call(Rf,t)?!1:x0.test(t)?Of[t]=!0:(Rf[t]=!0,!1)}function P0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function k0(t,e,n,r){if(e===null||typeof e>"u"||P0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function at(t,e,n,r,o,a,u){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=u}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qe[t]=new at(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qe[e]=new at(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qe[t]=new at(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qe[t]=new at(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qe[t]=new at(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qe[t]=new at(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qe[t]=new at(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qe[t]=new at(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qe[t]=new at(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gc=/[\-:]([a-z])/g;function Kc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gc,Kc);qe[e]=new at(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gc,Kc);qe[e]=new at(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gc,Kc);qe[e]=new at(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qe[t]=new at(t,1,!1,t.toLowerCase(),null,!1,!1)});qe.xlinkHref=new at("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qe[t]=new at(t,1,!1,t.toLowerCase(),null,!0,!0)});function Yc(t,e,n,r){var o=qe.hasOwnProperty(e)?qe[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(k0(e,n,o,r)&&(n=null),r||o===null?T0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Cn=S0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ts=Symbol.for("react.element"),Bi=Symbol.for("react.portal"),Wi=Symbol.for("react.fragment"),qc=Symbol.for("react.strict_mode"),Ru=Symbol.for("react.profiler"),V_=Symbol.for("react.provider"),$_=Symbol.for("react.context"),Qc=Symbol.for("react.forward_ref"),Ou=Symbol.for("react.suspense"),Au=Symbol.for("react.suspense_list"),Xc=Symbol.for("react.memo"),In=Symbol.for("react.lazy"),G_=Symbol.for("react.offscreen"),Af=Symbol.iterator;function Br(t){return t===null||typeof t!="object"?null:(t=Af&&t[Af]||t["@@iterator"],typeof t=="function"?t:null)}var Te=Object.assign,Kl;function Qr(t){if(Kl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Kl=e&&e[1]||""}return`
`+Kl+t}var Yl=!1;function ql(t,e){if(!t||Yl)return"";Yl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(p){var r=p}Reflect.construct(t,[],e)}else{try{e.call()}catch(p){r=p}t.call(e.prototype)}else{try{throw Error()}catch(p){r=p}t()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var o=p.stack.split(`
`),a=r.stack.split(`
`),u=o.length-1,h=a.length-1;1<=u&&0<=h&&o[u]!==a[h];)h--;for(;1<=u&&0<=h;u--,h--)if(o[u]!==a[h]){if(u!==1||h!==1)do if(u--,h--,0>h||o[u]!==a[h]){var d=`
`+o[u].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=u&&0<=h);break}}}finally{Yl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qr(t):""}function I0(t){switch(t.tag){case 5:return Qr(t.type);case 16:return Qr("Lazy");case 13:return Qr("Suspense");case 19:return Qr("SuspenseList");case 0:case 2:case 15:return t=ql(t.type,!1),t;case 11:return t=ql(t.type.render,!1),t;case 1:return t=ql(t.type,!0),t;default:return""}}function Du(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wi:return"Fragment";case Bi:return"Portal";case Ru:return"Profiler";case qc:return"StrictMode";case Ou:return"Suspense";case Au:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $_:return(t.displayName||"Context")+".Consumer";case V_:return(t._context.displayName||"Context")+".Provider";case Qc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xc:return e=t.displayName||null,e!==null?e:Du(t.type)||"Memo";case In:e=t._payload,t=t._init;try{return Du(t(e))}catch{}}return null}function L0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Du(e);case 8:return e===qc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $n(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function K_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function N0(t){var e=K_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(u){r=""+u,a.call(this,u)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ps(t){t._valueTracker||(t._valueTracker=N0(t))}function Y_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=K_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function na(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function bu(t,e){var n=e.checked;return Te({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Df(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=$n(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function q_(t,e){e=e.checked,e!=null&&Yc(t,"checked",e,!1)}function zu(t,e){q_(t,e);var n=$n(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fu(t,e.type,n):e.hasOwnProperty("defaultValue")&&Fu(t,e.type,$n(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function bf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fu(t,e,n){(e!=="number"||na(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xr=Array.isArray;function Ji(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$n(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Bu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return Te({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function zf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(R(92));if(Xr(n)){if(1<n.length)throw Error(R(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$n(n)}}function Q_(t,e){var n=$n(e.value),r=$n(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ff(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function X_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?X_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ks,J_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ks=ks||document.createElement("div"),ks.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ks.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function go(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var to={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},M0=["Webkit","ms","Moz","O"];Object.keys(to).forEach(function(t){M0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),to[e]=to[t]})});function em(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||to.hasOwnProperty(t)&&to[t]?(""+e).trim():e+"px"}function tm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=em(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var R0=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uu(t,e){if(e){if(R0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function Hu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zu=null;function Jc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ju=null,er=null,tr=null;function Bf(t){if(t=Go(t)){if(typeof ju!="function")throw Error(R(280));var e=t.stateNode;e&&(e=Ga(e),ju(t.stateNode,t.type,e))}}function nm(t){er?tr?tr.push(t):tr=[t]:er=t}function im(){if(er){var t=er,e=tr;if(tr=er=null,Bf(t),e)for(t=0;t<e.length;t++)Bf(e[t])}}function rm(t,e){return t(e)}function om(){}var Ql=!1;function sm(t,e,n){if(Ql)return t(e,n);Ql=!0;try{return rm(t,e,n)}finally{Ql=!1,(er!==null||tr!==null)&&(om(),im())}}function vo(t,e){var n=t.stateNode;if(n===null)return null;var r=Ga(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var Vu=!1;if(_n)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){Vu=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{Vu=!1}function O0(t,e,n,r,o,a,u,h,d){var p=Array.prototype.slice.call(arguments,3);try{e.apply(n,p)}catch(v){this.onError(v)}}var no=!1,ia=null,ra=!1,$u=null,A0={onError:function(t){no=!0,ia=t}};function D0(t,e,n,r,o,a,u,h,d){no=!1,ia=null,O0.apply(A0,arguments)}function b0(t,e,n,r,o,a,u,h,d){if(D0.apply(this,arguments),no){if(no){var p=ia;no=!1,ia=null}else throw Error(R(198));ra||(ra=!0,$u=p)}}function Pi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function am(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Wf(t){if(Pi(t)!==t)throw Error(R(188))}function z0(t){var e=t.alternate;if(!e){if(e=Pi(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Wf(o),t;if(a===r)return Wf(o),e;a=a.sibling}throw Error(R(188))}if(n.return!==r.return)n=o,r=a;else{for(var u=!1,h=o.child;h;){if(h===n){u=!0,n=o,r=a;break}if(h===r){u=!0,r=o,n=a;break}h=h.sibling}if(!u){for(h=a.child;h;){if(h===n){u=!0,n=a,r=o;break}if(h===r){u=!0,r=a,n=o;break}h=h.sibling}if(!u)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function lm(t){return t=z0(t),t!==null?um(t):null}function um(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=um(t);if(e!==null)return e;t=t.sibling}return null}var cm=Ct.unstable_scheduleCallback,Uf=Ct.unstable_cancelCallback,F0=Ct.unstable_shouldYield,B0=Ct.unstable_requestPaint,Ne=Ct.unstable_now,W0=Ct.unstable_getCurrentPriorityLevel,eh=Ct.unstable_ImmediatePriority,hm=Ct.unstable_UserBlockingPriority,oa=Ct.unstable_NormalPriority,U0=Ct.unstable_LowPriority,dm=Ct.unstable_IdlePriority,Za=null,en=null;function H0(t){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Za,t,void 0,(t.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:V0,Z0=Math.log,j0=Math.LN2;function V0(t){return t>>>=0,t===0?32:31-(Z0(t)/j0|0)|0}var Is=64,Ls=4194304;function Jr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sa(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,a=t.pingedLanes,u=n&268435455;if(u!==0){var h=u&~o;h!==0?r=Jr(h):(a&=u,a!==0&&(r=Jr(a)))}else u=n&~o,u!==0?r=Jr(u):a!==0&&(r=Jr(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,a=e&-e,o>=a||o===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Zt(e),o=1<<n,r|=t[n],e&=~o;return r}function $0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function G0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,a=t.pendingLanes;0<a;){var u=31-Zt(a),h=1<<u,d=o[u];d===-1?(!(h&n)||h&r)&&(o[u]=$0(h,e)):d<=e&&(t.expiredLanes|=h),a&=~h}}function Gu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fm(){var t=Is;return Is<<=1,!(Is&4194240)&&(Is=64),t}function Xl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zt(e),t[e]=n}function K0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-Zt(n),a=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~a}}function th(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Zt(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var ue=0;function pm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _m,nh,mm,gm,vm,Ku=!1,Ns=[],An=null,Dn=null,bn=null,yo=new Map,wo=new Map,Nn=[],Y0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hf(t,e){switch(t){case"focusin":case"focusout":An=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":yo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wo.delete(e.pointerId)}}function Ur(t,e,n,r,o,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},e!==null&&(e=Go(e),e!==null&&nh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function q0(t,e,n,r,o){switch(e){case"focusin":return An=Ur(An,t,e,n,r,o),!0;case"dragenter":return Dn=Ur(Dn,t,e,n,r,o),!0;case"mouseover":return bn=Ur(bn,t,e,n,r,o),!0;case"pointerover":var a=o.pointerId;return yo.set(a,Ur(yo.get(a)||null,t,e,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,wo.set(a,Ur(wo.get(a)||null,t,e,n,r,o)),!0}return!1}function ym(t){var e=hi(t.target);if(e!==null){var n=Pi(e);if(n!==null){if(e=n.tag,e===13){if(e=am(n),e!==null){t.blockedOn=e,vm(t.priority,function(){mm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Zu=r,n.target.dispatchEvent(r),Zu=null}else return e=Go(n),e!==null&&nh(e),t.blockedOn=n,!1;e.shift()}return!0}function Zf(t,e,n){Vs(t)&&n.delete(e)}function Q0(){Ku=!1,An!==null&&Vs(An)&&(An=null),Dn!==null&&Vs(Dn)&&(Dn=null),bn!==null&&Vs(bn)&&(bn=null),yo.forEach(Zf),wo.forEach(Zf)}function Hr(t,e){t.blockedOn===e&&(t.blockedOn=null,Ku||(Ku=!0,Ct.unstable_scheduleCallback(Ct.unstable_NormalPriority,Q0)))}function Co(t){function e(o){return Hr(o,t)}if(0<Ns.length){Hr(Ns[0],t);for(var n=1;n<Ns.length;n++){var r=Ns[n];r.blockedOn===t&&(r.blockedOn=null)}}for(An!==null&&Hr(An,t),Dn!==null&&Hr(Dn,t),bn!==null&&Hr(bn,t),yo.forEach(e),wo.forEach(e),n=0;n<Nn.length;n++)r=Nn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Nn.length&&(n=Nn[0],n.blockedOn===null);)ym(n),n.blockedOn===null&&Nn.shift()}var nr=Cn.ReactCurrentBatchConfig,aa=!0;function X0(t,e,n,r){var o=ue,a=nr.transition;nr.transition=null;try{ue=1,ih(t,e,n,r)}finally{ue=o,nr.transition=a}}function J0(t,e,n,r){var o=ue,a=nr.transition;nr.transition=null;try{ue=4,ih(t,e,n,r)}finally{ue=o,nr.transition=a}}function ih(t,e,n,r){if(aa){var o=Yu(t,e,n,r);if(o===null)lu(t,e,r,la,n),Hf(t,r);else if(q0(o,t,e,n,r))r.stopPropagation();else if(Hf(t,r),e&4&&-1<Y0.indexOf(t)){for(;o!==null;){var a=Go(o);if(a!==null&&_m(a),a=Yu(t,e,n,r),a===null&&lu(t,e,r,la,n),a===o)break;o=a}o!==null&&r.stopPropagation()}else lu(t,e,r,null,n)}}var la=null;function Yu(t,e,n,r){if(la=null,t=Jc(r),t=hi(t),t!==null)if(e=Pi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=am(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return la=t,null}function wm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(W0()){case eh:return 1;case hm:return 4;case oa:case U0:return 16;case dm:return 536870912;default:return 16}default:return 16}}var Rn=null,rh=null,$s=null;function Cm(){if($s)return $s;var t,e=rh,n=e.length,r,o="value"in Rn?Rn.value:Rn.textContent,a=o.length;for(t=0;t<n&&e[t]===o[t];t++);var u=n-t;for(r=1;r<=u&&e[n-r]===o[a-r];r++);return $s=o.slice(t,1<r?1-r:void 0)}function Gs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ms(){return!0}function jf(){return!1}function St(t){function e(n,r,o,a,u){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var h in t)t.hasOwnProperty(h)&&(n=t[h],this[h]=n?n(a):a[h]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ms:jf,this.isPropagationStopped=jf,this}return Te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ms)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ms)},persist:function(){},isPersistent:Ms}),e}var wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oh=St(wr),$o=Te({},wr,{view:0,detail:0}),e1=St($o),Jl,eu,Zr,ja=Te({},$o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zr&&(Zr&&t.type==="mousemove"?(Jl=t.screenX-Zr.screenX,eu=t.screenY-Zr.screenY):eu=Jl=0,Zr=t),Jl)},movementY:function(t){return"movementY"in t?t.movementY:eu}}),Vf=St(ja),t1=Te({},ja,{dataTransfer:0}),n1=St(t1),i1=Te({},$o,{relatedTarget:0}),tu=St(i1),r1=Te({},wr,{animationName:0,elapsedTime:0,pseudoElement:0}),o1=St(r1),s1=Te({},wr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),a1=St(s1),l1=Te({},wr,{data:0}),$f=St(l1),u1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},h1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=h1[t])?!!e[t]:!1}function sh(){return d1}var f1=Te({},$o,{key:function(t){if(t.key){var e=u1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Gs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?c1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sh,charCode:function(t){return t.type==="keypress"?Gs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),p1=St(f1),_1=Te({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gf=St(_1),m1=Te({},$o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sh}),g1=St(m1),v1=Te({},wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),y1=St(v1),w1=Te({},ja,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),C1=St(w1),E1=[9,13,27,32],ah=_n&&"CompositionEvent"in window,io=null;_n&&"documentMode"in document&&(io=document.documentMode);var S1=_n&&"TextEvent"in window&&!io,Em=_n&&(!ah||io&&8<io&&11>=io),Kf=" ",Yf=!1;function Sm(t,e){switch(t){case"keyup":return E1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ui=!1;function x1(t,e){switch(t){case"compositionend":return xm(e);case"keypress":return e.which!==32?null:(Yf=!0,Kf);case"textInput":return t=e.data,t===Kf&&Yf?null:t;default:return null}}function T1(t,e){if(Ui)return t==="compositionend"||!ah&&Sm(t,e)?(t=Cm(),$s=rh=Rn=null,Ui=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Em&&e.locale!=="ko"?null:e.data;default:return null}}var P1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!P1[t.type]:e==="textarea"}function Tm(t,e,n,r){nm(r),e=ua(e,"onChange"),0<e.length&&(n=new oh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ro=null,Eo=null;function k1(t){bm(t,0)}function Va(t){var e=ji(t);if(Y_(e))return t}function I1(t,e){if(t==="change")return e}var Pm=!1;if(_n){var nu;if(_n){var iu="oninput"in document;if(!iu){var Qf=document.createElement("div");Qf.setAttribute("oninput","return;"),iu=typeof Qf.oninput=="function"}nu=iu}else nu=!1;Pm=nu&&(!document.documentMode||9<document.documentMode)}function Xf(){ro&&(ro.detachEvent("onpropertychange",km),Eo=ro=null)}function km(t){if(t.propertyName==="value"&&Va(Eo)){var e=[];Tm(e,Eo,t,Jc(t)),sm(k1,e)}}function L1(t,e,n){t==="focusin"?(Xf(),ro=e,Eo=n,ro.attachEvent("onpropertychange",km)):t==="focusout"&&Xf()}function N1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Va(Eo)}function M1(t,e){if(t==="click")return Va(e)}function R1(t,e){if(t==="input"||t==="change")return Va(e)}function O1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $t=typeof Object.is=="function"?Object.is:O1;function So(t,e){if($t(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Mu.call(e,o)||!$t(t[o],e[o]))return!1}return!0}function Jf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ep(t,e){var n=Jf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jf(n)}}function Im(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Im(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Lm(){for(var t=window,e=na();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=na(t.document)}return e}function lh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function A1(t){var e=Lm(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Im(n.ownerDocument.documentElement,n)){if(r!==null&&lh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=r.end===void 0?a:Math.min(r.end,o),!t.extend&&a>r&&(o=r,r=a,a=o),o=ep(n,a);var u=ep(n,r);o&&u&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==u.node||t.focusOffset!==u.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(u.node,u.offset)):(e.setEnd(u.node,u.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var D1=_n&&"documentMode"in document&&11>=document.documentMode,Hi=null,qu=null,oo=null,Qu=!1;function tp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qu||Hi==null||Hi!==na(r)||(r=Hi,"selectionStart"in r&&lh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),oo&&So(oo,r)||(oo=r,r=ua(qu,"onSelect"),0<r.length&&(e=new oh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Hi)))}function Rs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zi={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionend:Rs("Transition","TransitionEnd")},ru={},Nm={};_n&&(Nm=document.createElement("div").style,"AnimationEvent"in window||(delete Zi.animationend.animation,delete Zi.animationiteration.animation,delete Zi.animationstart.animation),"TransitionEvent"in window||delete Zi.transitionend.transition);function $a(t){if(ru[t])return ru[t];if(!Zi[t])return t;var e=Zi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Nm)return ru[t]=e[n];return t}var Mm=$a("animationend"),Rm=$a("animationiteration"),Om=$a("animationstart"),Am=$a("transitionend"),Dm=new Map,np="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qn(t,e){Dm.set(t,e),Ti(e,[t])}for(var ou=0;ou<np.length;ou++){var su=np[ou],b1=su.toLowerCase(),z1=su[0].toUpperCase()+su.slice(1);Qn(b1,"on"+z1)}Qn(Mm,"onAnimationEnd");Qn(Rm,"onAnimationIteration");Qn(Om,"onAnimationStart");Qn("dblclick","onDoubleClick");Qn("focusin","onFocus");Qn("focusout","onBlur");Qn(Am,"onTransitionEnd");lr("onMouseEnter",["mouseout","mouseover"]);lr("onMouseLeave",["mouseout","mouseover"]);lr("onPointerEnter",["pointerout","pointerover"]);lr("onPointerLeave",["pointerout","pointerover"]);Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F1=new Set("cancel close invalid load scroll toggle".split(" ").concat(eo));function ip(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,b0(r,e,void 0,t),t.currentTarget=null}function bm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var u=r.length-1;0<=u;u--){var h=r[u],d=h.instance,p=h.currentTarget;if(h=h.listener,d!==a&&o.isPropagationStopped())break e;ip(o,h,p),a=d}else for(u=0;u<r.length;u++){if(h=r[u],d=h.instance,p=h.currentTarget,h=h.listener,d!==a&&o.isPropagationStopped())break e;ip(o,h,p),a=d}}}if(ra)throw t=$u,ra=!1,$u=null,t}function ve(t,e){var n=e[nc];n===void 0&&(n=e[nc]=new Set);var r=t+"__bubble";n.has(r)||(zm(e,t,2,!1),n.add(r))}function au(t,e,n){var r=0;e&&(r|=4),zm(n,t,r,e)}var Os="_reactListening"+Math.random().toString(36).slice(2);function xo(t){if(!t[Os]){t[Os]=!0,j_.forEach(function(n){n!=="selectionchange"&&(F1.has(n)||au(n,!1,t),au(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Os]||(e[Os]=!0,au("selectionchange",!1,e))}}function zm(t,e,n,r){switch(wm(e)){case 1:var o=X0;break;case 4:o=J0;break;default:o=ih}n=o.bind(null,e,n,t),o=void 0,!Vu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function lu(t,e,n,r,o){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var h=r.stateNode.containerInfo;if(h===o||h.nodeType===8&&h.parentNode===o)break;if(u===4)for(u=r.return;u!==null;){var d=u.tag;if((d===3||d===4)&&(d=u.stateNode.containerInfo,d===o||d.nodeType===8&&d.parentNode===o))return;u=u.return}for(;h!==null;){if(u=hi(h),u===null)return;if(d=u.tag,d===5||d===6){r=a=u;continue e}h=h.parentNode}}r=r.return}sm(function(){var p=a,v=Jc(n),m=[];e:{var g=Dm.get(t);if(g!==void 0){var x=oh,P=t;switch(t){case"keypress":if(Gs(n)===0)break e;case"keydown":case"keyup":x=p1;break;case"focusin":P="focus",x=tu;break;case"focusout":P="blur",x=tu;break;case"beforeblur":case"afterblur":x=tu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Vf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=n1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=g1;break;case Mm:case Rm:case Om:x=o1;break;case Am:x=y1;break;case"scroll":x=e1;break;case"wheel":x=C1;break;case"copy":case"cut":case"paste":x=a1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Gf}var k=(e&4)!==0,j=!k&&t==="scroll",C=k?g!==null?g+"Capture":null:g;k=[];for(var w=p,E;w!==null;){E=w;var M=E.stateNode;if(E.tag===5&&M!==null&&(E=M,C!==null&&(M=vo(w,C),M!=null&&k.push(To(w,M,E)))),j)break;w=w.return}0<k.length&&(g=new x(g,P,null,n,v),m.push({event:g,listeners:k}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",g&&n!==Zu&&(P=n.relatedTarget||n.fromElement)&&(hi(P)||P[mn]))break e;if((x||g)&&(g=v.window===v?v:(g=v.ownerDocument)?g.defaultView||g.parentWindow:window,x?(P=n.relatedTarget||n.toElement,x=p,P=P?hi(P):null,P!==null&&(j=Pi(P),P!==j||P.tag!==5&&P.tag!==6)&&(P=null)):(x=null,P=p),x!==P)){if(k=Vf,M="onMouseLeave",C="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(k=Gf,M="onPointerLeave",C="onPointerEnter",w="pointer"),j=x==null?g:ji(x),E=P==null?g:ji(P),g=new k(M,w+"leave",x,n,v),g.target=j,g.relatedTarget=E,M=null,hi(v)===p&&(k=new k(C,w+"enter",P,n,v),k.target=E,k.relatedTarget=j,M=k),j=M,x&&P)t:{for(k=x,C=P,w=0,E=k;E;E=zi(E))w++;for(E=0,M=C;M;M=zi(M))E++;for(;0<w-E;)k=zi(k),w--;for(;0<E-w;)C=zi(C),E--;for(;w--;){if(k===C||C!==null&&k===C.alternate)break t;k=zi(k),C=zi(C)}k=null}else k=null;x!==null&&rp(m,g,x,k,!1),P!==null&&j!==null&&rp(m,j,P,k,!0)}}e:{if(g=p?ji(p):window,x=g.nodeName&&g.nodeName.toLowerCase(),x==="select"||x==="input"&&g.type==="file")var b=I1;else if(qf(g))if(Pm)b=R1;else{b=N1;var F=L1}else(x=g.nodeName)&&x.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(b=M1);if(b&&(b=b(t,p))){Tm(m,b,n,v);break e}F&&F(t,g,p),t==="focusout"&&(F=g._wrapperState)&&F.controlled&&g.type==="number"&&Fu(g,"number",g.value)}switch(F=p?ji(p):window,t){case"focusin":(qf(F)||F.contentEditable==="true")&&(Hi=F,qu=p,oo=null);break;case"focusout":oo=qu=Hi=null;break;case"mousedown":Qu=!0;break;case"contextmenu":case"mouseup":case"dragend":Qu=!1,tp(m,n,v);break;case"selectionchange":if(D1)break;case"keydown":case"keyup":tp(m,n,v)}var B;if(ah)e:{switch(t){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else Ui?Sm(t,n)&&(W="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(W="onCompositionStart");W&&(Em&&n.locale!=="ko"&&(Ui||W!=="onCompositionStart"?W==="onCompositionEnd"&&Ui&&(B=Cm()):(Rn=v,rh="value"in Rn?Rn.value:Rn.textContent,Ui=!0)),F=ua(p,W),0<F.length&&(W=new $f(W,t,null,n,v),m.push({event:W,listeners:F}),B?W.data=B:(B=xm(n),B!==null&&(W.data=B)))),(B=S1?x1(t,n):T1(t,n))&&(p=ua(p,"onBeforeInput"),0<p.length&&(v=new $f("onBeforeInput","beforeinput",null,n,v),m.push({event:v,listeners:p}),v.data=B))}bm(m,e)})}function To(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ua(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=vo(t,n),a!=null&&r.unshift(To(t,a,o)),a=vo(t,e),a!=null&&r.push(To(t,a,o))),t=t.return}return r}function zi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rp(t,e,n,r,o){for(var a=e._reactName,u=[];n!==null&&n!==r;){var h=n,d=h.alternate,p=h.stateNode;if(d!==null&&d===r)break;h.tag===5&&p!==null&&(h=p,o?(d=vo(n,a),d!=null&&u.unshift(To(n,d,h))):o||(d=vo(n,a),d!=null&&u.push(To(n,d,h)))),n=n.return}u.length!==0&&t.push({event:e,listeners:u})}var B1=/\r\n?/g,W1=/\u0000|\uFFFD/g;function op(t){return(typeof t=="string"?t:""+t).replace(B1,`
`).replace(W1,"")}function As(t,e,n){if(e=op(e),op(t)!==e&&n)throw Error(R(425))}function ca(){}var Xu=null,Ju=null;function ec(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tc=typeof setTimeout=="function"?setTimeout:void 0,U1=typeof clearTimeout=="function"?clearTimeout:void 0,sp=typeof Promise=="function"?Promise:void 0,H1=typeof queueMicrotask=="function"?queueMicrotask:typeof sp<"u"?function(t){return sp.resolve(null).then(t).catch(Z1)}:tc;function Z1(t){setTimeout(function(){throw t})}function uu(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),Co(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Co(e)}function zn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ap(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Cr=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Cr,Po="__reactProps$"+Cr,mn="__reactContainer$"+Cr,nc="__reactEvents$"+Cr,j1="__reactListeners$"+Cr,V1="__reactHandles$"+Cr;function hi(t){var e=t[Jt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mn]||n[Jt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ap(t);t!==null;){if(n=t[Jt])return n;t=ap(t)}return e}t=n,n=t.parentNode}return null}function Go(t){return t=t[Jt]||t[mn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ji(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function Ga(t){return t[Po]||null}var ic=[],Vi=-1;function Xn(t){return{current:t}}function we(t){0>Vi||(t.current=ic[Vi],ic[Vi]=null,Vi--)}function me(t,e){Vi++,ic[Vi]=t.current,t.current=e}var Gn={},tt=Xn(Gn),ft=Xn(!1),gi=Gn;function ur(t,e){var n=t.type.contextTypes;if(!n)return Gn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function pt(t){return t=t.childContextTypes,t!=null}function ha(){we(ft),we(tt)}function lp(t,e,n){if(tt.current!==Gn)throw Error(R(168));me(tt,e),me(ft,n)}function Fm(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(R(108,L0(t)||"Unknown",o));return Te({},n,r)}function da(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gn,gi=tt.current,me(tt,t),me(ft,ft.current),!0}function up(t,e,n){var r=t.stateNode;if(!r)throw Error(R(169));n?(t=Fm(t,e,gi),r.__reactInternalMemoizedMergedChildContext=t,we(ft),we(tt),me(tt,t)):we(ft),me(ft,n)}var un=null,Ka=!1,cu=!1;function Bm(t){un===null?un=[t]:un.push(t)}function $1(t){Ka=!0,Bm(t)}function Jn(){if(!cu&&un!==null){cu=!0;var t=0,e=ue;try{var n=un;for(ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}un=null,Ka=!1}catch(o){throw un!==null&&(un=un.slice(t+1)),cm(eh,Jn),o}finally{ue=e,cu=!1}}return null}var $i=[],Gi=0,fa=null,pa=0,It=[],Lt=0,vi=null,cn=1,hn="";function ai(t,e){$i[Gi++]=pa,$i[Gi++]=fa,fa=t,pa=e}function Wm(t,e,n){It[Lt++]=cn,It[Lt++]=hn,It[Lt++]=vi,vi=t;var r=cn;t=hn;var o=32-Zt(r)-1;r&=~(1<<o),n+=1;var a=32-Zt(e)+o;if(30<a){var u=o-o%5;a=(r&(1<<u)-1).toString(32),r>>=u,o-=u,cn=1<<32-Zt(e)+o|n<<o|r,hn=a+t}else cn=1<<a|n<<o|r,hn=t}function uh(t){t.return!==null&&(ai(t,1),Wm(t,1,0))}function ch(t){for(;t===fa;)fa=$i[--Gi],$i[Gi]=null,pa=$i[--Gi],$i[Gi]=null;for(;t===vi;)vi=It[--Lt],It[Lt]=null,hn=It[--Lt],It[Lt]=null,cn=It[--Lt],It[Lt]=null}var yt=null,vt=null,Ce=!1,Bt=null;function Um(t,e){var n=Nt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function cp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yt=t,vt=zn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yt=t,vt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=vi!==null?{id:cn,overflow:hn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Nt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yt=t,vt=null,!0):!1;default:return!1}}function rc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function oc(t){if(Ce){var e=vt;if(e){var n=e;if(!cp(t,e)){if(rc(t))throw Error(R(418));e=zn(n.nextSibling);var r=yt;e&&cp(t,e)?Um(r,n):(t.flags=t.flags&-4097|2,Ce=!1,yt=t)}}else{if(rc(t))throw Error(R(418));t.flags=t.flags&-4097|2,Ce=!1,yt=t}}}function hp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yt=t}function Ds(t){if(t!==yt)return!1;if(!Ce)return hp(t),Ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ec(t.type,t.memoizedProps)),e&&(e=vt)){if(rc(t))throw Hm(),Error(R(418));for(;e;)Um(t,e),e=zn(e.nextSibling)}if(hp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vt=zn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vt=null}}else vt=yt?zn(t.stateNode.nextSibling):null;return!0}function Hm(){for(var t=vt;t;)t=zn(t.nextSibling)}function cr(){vt=yt=null,Ce=!1}function hh(t){Bt===null?Bt=[t]:Bt.push(t)}var G1=Cn.ReactCurrentBatchConfig;function jr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,t));var o=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(u){var h=o.refs;u===null?delete h[a]:h[a]=u},e._stringRef=a,e)}if(typeof t!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,t))}return t}function bs(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function dp(t){var e=t._init;return e(t._payload)}function Zm(t){function e(C,w){if(t){var E=C.deletions;E===null?(C.deletions=[w],C.flags|=16):E.push(w)}}function n(C,w){if(!t)return null;for(;w!==null;)e(C,w),w=w.sibling;return null}function r(C,w){for(C=new Map;w!==null;)w.key!==null?C.set(w.key,w):C.set(w.index,w),w=w.sibling;return C}function o(C,w){return C=Un(C,w),C.index=0,C.sibling=null,C}function a(C,w,E){return C.index=E,t?(E=C.alternate,E!==null?(E=E.index,E<w?(C.flags|=2,w):E):(C.flags|=2,w)):(C.flags|=1048576,w)}function u(C){return t&&C.alternate===null&&(C.flags|=2),C}function h(C,w,E,M){return w===null||w.tag!==6?(w=gu(E,C.mode,M),w.return=C,w):(w=o(w,E),w.return=C,w)}function d(C,w,E,M){var b=E.type;return b===Wi?v(C,w,E.props.children,M,E.key):w!==null&&(w.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===In&&dp(b)===w.type)?(M=o(w,E.props),M.ref=jr(C,w,E),M.return=C,M):(M=ea(E.type,E.key,E.props,null,C.mode,M),M.ref=jr(C,w,E),M.return=C,M)}function p(C,w,E,M){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=vu(E,C.mode,M),w.return=C,w):(w=o(w,E.children||[]),w.return=C,w)}function v(C,w,E,M,b){return w===null||w.tag!==7?(w=mi(E,C.mode,M,b),w.return=C,w):(w=o(w,E),w.return=C,w)}function m(C,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=gu(""+w,C.mode,E),w.return=C,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ts:return E=ea(w.type,w.key,w.props,null,C.mode,E),E.ref=jr(C,null,w),E.return=C,E;case Bi:return w=vu(w,C.mode,E),w.return=C,w;case In:var M=w._init;return m(C,M(w._payload),E)}if(Xr(w)||Br(w))return w=mi(w,C.mode,E,null),w.return=C,w;bs(C,w)}return null}function g(C,w,E,M){var b=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return b!==null?null:h(C,w,""+E,M);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ts:return E.key===b?d(C,w,E,M):null;case Bi:return E.key===b?p(C,w,E,M):null;case In:return b=E._init,g(C,w,b(E._payload),M)}if(Xr(E)||Br(E))return b!==null?null:v(C,w,E,M,null);bs(C,E)}return null}function x(C,w,E,M,b){if(typeof M=="string"&&M!==""||typeof M=="number")return C=C.get(E)||null,h(w,C,""+M,b);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Ts:return C=C.get(M.key===null?E:M.key)||null,d(w,C,M,b);case Bi:return C=C.get(M.key===null?E:M.key)||null,p(w,C,M,b);case In:var F=M._init;return x(C,w,E,F(M._payload),b)}if(Xr(M)||Br(M))return C=C.get(E)||null,v(w,C,M,b,null);bs(w,M)}return null}function P(C,w,E,M){for(var b=null,F=null,B=w,W=w=0,ge=null;B!==null&&W<E.length;W++){B.index>W?(ge=B,B=null):ge=B.sibling;var q=g(C,B,E[W],M);if(q===null){B===null&&(B=ge);break}t&&B&&q.alternate===null&&e(C,B),w=a(q,w,W),F===null?b=q:F.sibling=q,F=q,B=ge}if(W===E.length)return n(C,B),Ce&&ai(C,W),b;if(B===null){for(;W<E.length;W++)B=m(C,E[W],M),B!==null&&(w=a(B,w,W),F===null?b=B:F.sibling=B,F=B);return Ce&&ai(C,W),b}for(B=r(C,B);W<E.length;W++)ge=x(B,C,W,E[W],M),ge!==null&&(t&&ge.alternate!==null&&B.delete(ge.key===null?W:ge.key),w=a(ge,w,W),F===null?b=ge:F.sibling=ge,F=ge);return t&&B.forEach(function(de){return e(C,de)}),Ce&&ai(C,W),b}function k(C,w,E,M){var b=Br(E);if(typeof b!="function")throw Error(R(150));if(E=b.call(E),E==null)throw Error(R(151));for(var F=b=null,B=w,W=w=0,ge=null,q=E.next();B!==null&&!q.done;W++,q=E.next()){B.index>W?(ge=B,B=null):ge=B.sibling;var de=g(C,B,q.value,M);if(de===null){B===null&&(B=ge);break}t&&B&&de.alternate===null&&e(C,B),w=a(de,w,W),F===null?b=de:F.sibling=de,F=de,B=ge}if(q.done)return n(C,B),Ce&&ai(C,W),b;if(B===null){for(;!q.done;W++,q=E.next())q=m(C,q.value,M),q!==null&&(w=a(q,w,W),F===null?b=q:F.sibling=q,F=q);return Ce&&ai(C,W),b}for(B=r(C,B);!q.done;W++,q=E.next())q=x(B,C,W,q.value,M),q!==null&&(t&&q.alternate!==null&&B.delete(q.key===null?W:q.key),w=a(q,w,W),F===null?b=q:F.sibling=q,F=q);return t&&B.forEach(function(Be){return e(C,Be)}),Ce&&ai(C,W),b}function j(C,w,E,M){if(typeof E=="object"&&E!==null&&E.type===Wi&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Ts:e:{for(var b=E.key,F=w;F!==null;){if(F.key===b){if(b=E.type,b===Wi){if(F.tag===7){n(C,F.sibling),w=o(F,E.props.children),w.return=C,C=w;break e}}else if(F.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===In&&dp(b)===F.type){n(C,F.sibling),w=o(F,E.props),w.ref=jr(C,F,E),w.return=C,C=w;break e}n(C,F);break}else e(C,F);F=F.sibling}E.type===Wi?(w=mi(E.props.children,C.mode,M,E.key),w.return=C,C=w):(M=ea(E.type,E.key,E.props,null,C.mode,M),M.ref=jr(C,w,E),M.return=C,C=M)}return u(C);case Bi:e:{for(F=E.key;w!==null;){if(w.key===F)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){n(C,w.sibling),w=o(w,E.children||[]),w.return=C,C=w;break e}else{n(C,w);break}else e(C,w);w=w.sibling}w=vu(E,C.mode,M),w.return=C,C=w}return u(C);case In:return F=E._init,j(C,w,F(E._payload),M)}if(Xr(E))return P(C,w,E,M);if(Br(E))return k(C,w,E,M);bs(C,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(n(C,w.sibling),w=o(w,E),w.return=C,C=w):(n(C,w),w=gu(E,C.mode,M),w.return=C,C=w),u(C)):n(C,w)}return j}var hr=Zm(!0),jm=Zm(!1),_a=Xn(null),ma=null,Ki=null,dh=null;function fh(){dh=Ki=ma=null}function ph(t){var e=_a.current;we(_a),t._currentValue=e}function sc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ir(t,e){ma=t,dh=Ki=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ht=!0),t.firstContext=null)}function Rt(t){var e=t._currentValue;if(dh!==t)if(t={context:t,memoizedValue:e,next:null},Ki===null){if(ma===null)throw Error(R(308));Ki=t,ma.dependencies={lanes:0,firstContext:t}}else Ki=Ki.next=t;return e}var di=null;function _h(t){di===null?di=[t]:di.push(t)}function Vm(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,_h(e)):(n.next=o.next,o.next=n),e.interleaved=n,gn(t,r)}function gn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ln=!1;function mh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $m(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,gn(t,n)}return o=r.interleaved,o===null?(e.next=e,_h(r)):(e.next=o.next,o.next=e),r.interleaved=e,gn(t,n)}function Ks(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,th(t,n)}}function fp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=u:a=a.next=u,n=n.next}while(n!==null);a===null?o=a=e:a=a.next=e}else o=a=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ga(t,e,n,r){var o=t.updateQueue;Ln=!1;var a=o.firstBaseUpdate,u=o.lastBaseUpdate,h=o.shared.pending;if(h!==null){o.shared.pending=null;var d=h,p=d.next;d.next=null,u===null?a=p:u.next=p,u=d;var v=t.alternate;v!==null&&(v=v.updateQueue,h=v.lastBaseUpdate,h!==u&&(h===null?v.firstBaseUpdate=p:h.next=p,v.lastBaseUpdate=d))}if(a!==null){var m=o.baseState;u=0,v=p=d=null,h=a;do{var g=h.lane,x=h.eventTime;if((r&g)===g){v!==null&&(v=v.next={eventTime:x,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var P=t,k=h;switch(g=e,x=n,k.tag){case 1:if(P=k.payload,typeof P=="function"){m=P.call(x,m,g);break e}m=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=k.payload,g=typeof P=="function"?P.call(x,m,g):P,g==null)break e;m=Te({},m,g);break e;case 2:Ln=!0}}h.callback!==null&&h.lane!==0&&(t.flags|=64,g=o.effects,g===null?o.effects=[h]:g.push(h))}else x={eventTime:x,lane:g,tag:h.tag,payload:h.payload,callback:h.callback,next:null},v===null?(p=v=x,d=m):v=v.next=x,u|=g;if(h=h.next,h===null){if(h=o.shared.pending,h===null)break;g=h,h=g.next,g.next=null,o.lastBaseUpdate=g,o.shared.pending=null}}while(!0);if(v===null&&(d=m),o.baseState=d,o.firstBaseUpdate=p,o.lastBaseUpdate=v,e=o.shared.interleaved,e!==null){o=e;do u|=o.lane,o=o.next;while(o!==e)}else a===null&&(o.shared.lanes=0);wi|=u,t.lanes=u,t.memoizedState=m}}function pp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(R(191,o));o.call(r)}}}var Ko={},tn=Xn(Ko),ko=Xn(Ko),Io=Xn(Ko);function fi(t){if(t===Ko)throw Error(R(174));return t}function gh(t,e){switch(me(Io,e),me(ko,t),me(tn,Ko),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wu(e,t)}we(tn),me(tn,e)}function dr(){we(tn),we(ko),we(Io)}function Gm(t){fi(Io.current);var e=fi(tn.current),n=Wu(e,t.type);e!==n&&(me(ko,t),me(tn,n))}function vh(t){ko.current===t&&(we(tn),we(ko))}var Se=Xn(0);function va(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hu=[];function yh(){for(var t=0;t<hu.length;t++)hu[t]._workInProgressVersionPrimary=null;hu.length=0}var Ys=Cn.ReactCurrentDispatcher,du=Cn.ReactCurrentBatchConfig,yi=0,xe=null,De=null,He=null,ya=!1,so=!1,Lo=0,K1=0;function Qe(){throw Error(R(321))}function wh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$t(t[n],e[n]))return!1;return!0}function Ch(t,e,n,r,o,a){if(yi=a,xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ys.current=t===null||t.memoizedState===null?X1:J1,t=n(r,o),so){a=0;do{if(so=!1,Lo=0,25<=a)throw Error(R(301));a+=1,He=De=null,e.updateQueue=null,Ys.current=eC,t=n(r,o)}while(so)}if(Ys.current=wa,e=De!==null&&De.next!==null,yi=0,He=De=xe=null,ya=!1,e)throw Error(R(300));return t}function Eh(){var t=Lo!==0;return Lo=0,t}function Xt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?xe.memoizedState=He=t:He=He.next=t,He}function Ot(){if(De===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=De.next;var e=He===null?xe.memoizedState:He.next;if(e!==null)He=e,De=t;else{if(t===null)throw Error(R(310));De=t,t={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},He===null?xe.memoizedState=He=t:He=He.next=t}return He}function No(t,e){return typeof e=="function"?e(t):e}function fu(t){var e=Ot(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=De,o=r.baseQueue,a=n.pending;if(a!==null){if(o!==null){var u=o.next;o.next=a.next,a.next=u}r.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,r=r.baseState;var h=u=null,d=null,p=a;do{var v=p.lane;if((yi&v)===v)d!==null&&(d=d.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:t(r,p.action);else{var m={lane:v,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};d===null?(h=d=m,u=r):d=d.next=m,xe.lanes|=v,wi|=v}p=p.next}while(p!==null&&p!==a);d===null?u=r:d.next=h,$t(r,e.memoizedState)||(ht=!0),e.memoizedState=r,e.baseState=u,e.baseQueue=d,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do a=o.lane,xe.lanes|=a,wi|=a,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function pu(t){var e=Ot(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,a=e.memoizedState;if(o!==null){n.pending=null;var u=o=o.next;do a=t(a,u.action),u=u.next;while(u!==o);$t(a,e.memoizedState)||(ht=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function Km(){}function Ym(t,e){var n=xe,r=Ot(),o=e(),a=!$t(r.memoizedState,o);if(a&&(r.memoizedState=o,ht=!0),r=r.queue,Sh(Xm.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||He!==null&&He.memoizedState.tag&1){if(n.flags|=2048,Mo(9,Qm.bind(null,n,r,o,e),void 0,null),je===null)throw Error(R(349));yi&30||qm(n,e,o)}return o}function qm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Qm(t,e,n,r){e.value=n,e.getSnapshot=r,Jm(e)&&eg(t)}function Xm(t,e,n){return n(function(){Jm(e)&&eg(t)})}function Jm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$t(t,n)}catch{return!0}}function eg(t){var e=gn(t,1);e!==null&&jt(e,t,1,-1)}function _p(t){var e=Xt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:t},e.queue=t,t=t.dispatch=Q1.bind(null,xe,t),[e.memoizedState,t]}function Mo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function tg(){return Ot().memoizedState}function qs(t,e,n,r){var o=Xt();xe.flags|=t,o.memoizedState=Mo(1|e,n,void 0,r===void 0?null:r)}function Ya(t,e,n,r){var o=Ot();r=r===void 0?null:r;var a=void 0;if(De!==null){var u=De.memoizedState;if(a=u.destroy,r!==null&&wh(r,u.deps)){o.memoizedState=Mo(e,n,a,r);return}}xe.flags|=t,o.memoizedState=Mo(1|e,n,a,r)}function mp(t,e){return qs(8390656,8,t,e)}function Sh(t,e){return Ya(2048,8,t,e)}function ng(t,e){return Ya(4,2,t,e)}function ig(t,e){return Ya(4,4,t,e)}function rg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function og(t,e,n){return n=n!=null?n.concat([t]):null,Ya(4,4,rg.bind(null,e,t),n)}function xh(){}function sg(t,e){var n=Ot();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ag(t,e){var n=Ot();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lg(t,e,n){return yi&21?($t(n,e)||(n=fm(),xe.lanes|=n,wi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ht=!0),t.memoizedState=n)}function Y1(t,e){var n=ue;ue=n!==0&&4>n?n:4,t(!0);var r=du.transition;du.transition={};try{t(!1),e()}finally{ue=n,du.transition=r}}function ug(){return Ot().memoizedState}function q1(t,e,n){var r=Wn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cg(t))hg(e,n);else if(n=Vm(t,e,n,r),n!==null){var o=ot();jt(n,t,r,o),dg(n,e,r)}}function Q1(t,e,n){var r=Wn(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cg(t))hg(e,o);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var u=e.lastRenderedState,h=a(u,n);if(o.hasEagerState=!0,o.eagerState=h,$t(h,u)){var d=e.interleaved;d===null?(o.next=o,_h(e)):(o.next=d.next,d.next=o),e.interleaved=o;return}}catch{}finally{}n=Vm(t,e,o,r),n!==null&&(o=ot(),jt(n,t,r,o),dg(n,e,r))}}function cg(t){var e=t.alternate;return t===xe||e!==null&&e===xe}function hg(t,e){so=ya=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,th(t,n)}}var wa={readContext:Rt,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},X1={readContext:Rt,useCallback:function(t,e){return Xt().memoizedState=[t,e===void 0?null:e],t},useContext:Rt,useEffect:mp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qs(4194308,4,rg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qs(4194308,4,t,e)},useInsertionEffect:function(t,e){return qs(4,2,t,e)},useMemo:function(t,e){var n=Xt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=q1.bind(null,xe,t),[r.memoizedState,t]},useRef:function(t){var e=Xt();return t={current:t},e.memoizedState=t},useState:_p,useDebugValue:xh,useDeferredValue:function(t){return Xt().memoizedState=t},useTransition:function(){var t=_p(!1),e=t[0];return t=Y1.bind(null,t[1]),Xt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=xe,o=Xt();if(Ce){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),je===null)throw Error(R(349));yi&30||qm(r,e,n)}o.memoizedState=n;var a={value:n,getSnapshot:e};return o.queue=a,mp(Xm.bind(null,r,a,t),[t]),r.flags|=2048,Mo(9,Qm.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Xt(),e=je.identifierPrefix;if(Ce){var n=hn,r=cn;n=(r&~(1<<32-Zt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Lo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=K1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},J1={readContext:Rt,useCallback:sg,useContext:Rt,useEffect:Sh,useImperativeHandle:og,useInsertionEffect:ng,useLayoutEffect:ig,useMemo:ag,useReducer:fu,useRef:tg,useState:function(){return fu(No)},useDebugValue:xh,useDeferredValue:function(t){var e=Ot();return lg(e,De.memoizedState,t)},useTransition:function(){var t=fu(No)[0],e=Ot().memoizedState;return[t,e]},useMutableSource:Km,useSyncExternalStore:Ym,useId:ug,unstable_isNewReconciler:!1},eC={readContext:Rt,useCallback:sg,useContext:Rt,useEffect:Sh,useImperativeHandle:og,useInsertionEffect:ng,useLayoutEffect:ig,useMemo:ag,useReducer:pu,useRef:tg,useState:function(){return pu(No)},useDebugValue:xh,useDeferredValue:function(t){var e=Ot();return De===null?e.memoizedState=t:lg(e,De.memoizedState,t)},useTransition:function(){var t=pu(No)[0],e=Ot().memoizedState;return[t,e]},useMutableSource:Km,useSyncExternalStore:Ym,useId:ug,unstable_isNewReconciler:!1};function zt(t,e){if(t&&t.defaultProps){e=Te({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ac(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Te({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qa={isMounted:function(t){return(t=t._reactInternals)?Pi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ot(),o=Wn(t),a=fn(r,o);a.payload=e,n!=null&&(a.callback=n),e=Fn(t,a,o),e!==null&&(jt(e,t,o,r),Ks(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ot(),o=Wn(t),a=fn(r,o);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Fn(t,a,o),e!==null&&(jt(e,t,o,r),Ks(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ot(),r=Wn(t),o=fn(n,r);o.tag=2,e!=null&&(o.callback=e),e=Fn(t,o,r),e!==null&&(jt(e,t,r,n),Ks(e,t,r))}};function gp(t,e,n,r,o,a,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,u):e.prototype&&e.prototype.isPureReactComponent?!So(n,r)||!So(o,a):!0}function fg(t,e,n){var r=!1,o=Gn,a=e.contextType;return typeof a=="object"&&a!==null?a=Rt(a):(o=pt(e)?gi:tt.current,r=e.contextTypes,a=(r=r!=null)?ur(t,o):Gn),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qa,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=a),e}function vp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&qa.enqueueReplaceState(e,e.state,null)}function lc(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},mh(t);var a=e.contextType;typeof a=="object"&&a!==null?o.context=Rt(a):(a=pt(e)?gi:tt.current,o.context=ur(t,a)),o.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(ac(t,e,a,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&qa.enqueueReplaceState(o,o.state,null),ga(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function fr(t,e){try{var n="",r=e;do n+=I0(r),r=r.return;while(r);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:o,digest:null}}function _u(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function uc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var tC=typeof WeakMap=="function"?WeakMap:Map;function pg(t,e,n){n=fn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ea||(Ea=!0,yc=r),uc(t,e)},n}function _g(t,e,n){n=fn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){uc(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){uc(t,e),typeof r!="function"&&(Bn===null?Bn=new Set([this]):Bn.add(this));var u=e.stack;this.componentDidCatch(e.value,{componentStack:u!==null?u:""})}),n}function yp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new tC;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=_C.bind(null,t,e,n),e.then(t,t))}function wp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Cp(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=fn(-1,1),e.tag=2,Fn(n,e,1))),n.lanes|=1),t)}var nC=Cn.ReactCurrentOwner,ht=!1;function it(t,e,n,r){e.child=t===null?jm(e,null,n,r):hr(e,t.child,n,r)}function Ep(t,e,n,r,o){n=n.render;var a=e.ref;return ir(e,o),r=Ch(t,e,n,r,a,o),n=Eh(),t!==null&&!ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,vn(t,e,o)):(Ce&&n&&uh(e),e.flags|=1,it(t,e,r,o),e.child)}function Sp(t,e,n,r,o){if(t===null){var a=n.type;return typeof a=="function"&&!Rh(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,mg(t,e,a,r,o)):(t=ea(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&o)){var u=a.memoizedProps;if(n=n.compare,n=n!==null?n:So,n(u,r)&&t.ref===e.ref)return vn(t,e,o)}return e.flags|=1,t=Un(a,r),t.ref=e.ref,t.return=e,e.child=t}function mg(t,e,n,r,o){if(t!==null){var a=t.memoizedProps;if(So(a,r)&&t.ref===e.ref)if(ht=!1,e.pendingProps=r=a,(t.lanes&o)!==0)t.flags&131072&&(ht=!0);else return e.lanes=t.lanes,vn(t,e,o)}return cc(t,e,n,r,o)}function gg(t,e,n){var r=e.pendingProps,o=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(qi,gt),gt|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,me(qi,gt),gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,me(qi,gt),gt|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,me(qi,gt),gt|=r;return it(t,e,o,n),e.child}function vg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cc(t,e,n,r,o){var a=pt(n)?gi:tt.current;return a=ur(e,a),ir(e,o),n=Ch(t,e,n,r,a,o),r=Eh(),t!==null&&!ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,vn(t,e,o)):(Ce&&r&&uh(e),e.flags|=1,it(t,e,n,o),e.child)}function xp(t,e,n,r,o){if(pt(n)){var a=!0;da(e)}else a=!1;if(ir(e,o),e.stateNode===null)Qs(t,e),fg(e,n,r),lc(e,n,r,o),r=!0;else if(t===null){var u=e.stateNode,h=e.memoizedProps;u.props=h;var d=u.context,p=n.contextType;typeof p=="object"&&p!==null?p=Rt(p):(p=pt(n)?gi:tt.current,p=ur(e,p));var v=n.getDerivedStateFromProps,m=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function";m||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==r||d!==p)&&vp(e,u,r,p),Ln=!1;var g=e.memoizedState;u.state=g,ga(e,r,u,o),d=e.memoizedState,h!==r||g!==d||ft.current||Ln?(typeof v=="function"&&(ac(e,n,v,r),d=e.memoizedState),(h=Ln||gp(e,n,h,r,g,d,p))?(m||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4194308)):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=d),u.props=r,u.state=d,u.context=p,r=h):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{u=e.stateNode,$m(t,e),h=e.memoizedProps,p=e.type===e.elementType?h:zt(e.type,h),u.props=p,m=e.pendingProps,g=u.context,d=n.contextType,typeof d=="object"&&d!==null?d=Rt(d):(d=pt(n)?gi:tt.current,d=ur(e,d));var x=n.getDerivedStateFromProps;(v=typeof x=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==m||g!==d)&&vp(e,u,r,d),Ln=!1,g=e.memoizedState,u.state=g,ga(e,r,u,o);var P=e.memoizedState;h!==m||g!==P||ft.current||Ln?(typeof x=="function"&&(ac(e,n,x,r),P=e.memoizedState),(p=Ln||gp(e,n,p,r,g,P,d)||!1)?(v||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,P,d),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,P,d)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=P),u.props=r,u.state=P,u.context=d,r=p):(typeof u.componentDidUpdate!="function"||h===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return hc(t,e,n,r,a,o)}function hc(t,e,n,r,o,a){vg(t,e);var u=(e.flags&128)!==0;if(!r&&!u)return o&&up(e,n,!1),vn(t,e,a);r=e.stateNode,nC.current=e;var h=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&u?(e.child=hr(e,t.child,null,a),e.child=hr(e,null,h,a)):it(t,e,h,a),e.memoizedState=r.state,o&&up(e,n,!0),e.child}function yg(t){var e=t.stateNode;e.pendingContext?lp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lp(t,e.context,!1),gh(t,e.containerInfo)}function Tp(t,e,n,r,o){return cr(),hh(o),e.flags|=256,it(t,e,n,r),e.child}var dc={dehydrated:null,treeContext:null,retryLane:0};function fc(t){return{baseLanes:t,cachePool:null,transitions:null}}function wg(t,e,n){var r=e.pendingProps,o=Se.current,a=!1,u=(e.flags&128)!==0,h;if((h=u)||(h=t!==null&&t.memoizedState===null?!1:(o&2)!==0),h?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),me(Se,o&1),t===null)return oc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(u=r.children,t=r.fallback,a?(r=e.mode,a=e.child,u={mode:"hidden",children:u},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=Ja(u,r,0,null),t=mi(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=fc(n),e.memoizedState=dc,t):Th(e,u));if(o=t.memoizedState,o!==null&&(h=o.dehydrated,h!==null))return iC(t,e,u,r,h,o,n);if(a){a=r.fallback,u=e.mode,o=t.child,h=o.sibling;var d={mode:"hidden",children:r.children};return!(u&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=d,e.deletions=null):(r=Un(o,d),r.subtreeFlags=o.subtreeFlags&14680064),h!==null?a=Un(h,a):(a=mi(a,u,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,u=t.child.memoizedState,u=u===null?fc(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=t.childLanes&~n,e.memoizedState=dc,r}return a=t.child,t=a.sibling,r=Un(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Th(t,e){return e=Ja({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zs(t,e,n,r){return r!==null&&hh(r),hr(e,t.child,null,n),t=Th(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function iC(t,e,n,r,o,a,u){if(n)return e.flags&256?(e.flags&=-257,r=_u(Error(R(422))),zs(t,e,u,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,o=e.mode,r=Ja({mode:"visible",children:r.children},o,0,null),a=mi(a,o,u,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&hr(e,t.child,null,u),e.child.memoizedState=fc(u),e.memoizedState=dc,a);if(!(e.mode&1))return zs(t,e,u,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var h=r.dgst;return r=h,a=Error(R(419)),r=_u(a,r,void 0),zs(t,e,u,r)}if(h=(u&t.childLanes)!==0,ht||h){if(r=je,r!==null){switch(u&-u){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|u)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,gn(t,o),jt(r,t,o,-1))}return Mh(),r=_u(Error(R(421))),zs(t,e,u,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=mC.bind(null,t),o._reactRetry=e,null):(t=a.treeContext,vt=zn(o.nextSibling),yt=e,Ce=!0,Bt=null,t!==null&&(It[Lt++]=cn,It[Lt++]=hn,It[Lt++]=vi,cn=t.id,hn=t.overflow,vi=e),e=Th(e,r.children),e.flags|=4096,e)}function Pp(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),sc(t.return,e,n)}function mu(t,e,n,r,o){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function Cg(t,e,n){var r=e.pendingProps,o=r.revealOrder,a=r.tail;if(it(t,e,r.children,n),r=Se.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pp(t,n,e);else if(t.tag===19)Pp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(me(Se,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&va(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),mu(e,!1,o,n,a);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&va(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}mu(e,!0,n,null,a);break;case"together":mu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),wi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=Un(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Un(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rC(t,e,n){switch(e.tag){case 3:yg(e),cr();break;case 5:Gm(e);break;case 1:pt(e.type)&&da(e);break;case 4:gh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;me(_a,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(me(Se,Se.current&1),e.flags|=128,null):n&e.child.childLanes?wg(t,e,n):(me(Se,Se.current&1),t=vn(t,e,n),t!==null?t.sibling:null);me(Se,Se.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Cg(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),me(Se,Se.current),r)break;return null;case 22:case 23:return e.lanes=0,gg(t,e,n)}return vn(t,e,n)}var Eg,pc,Sg,xg;Eg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pc=function(){};Sg=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,fi(tn.current);var a=null;switch(n){case"input":o=bu(t,o),r=bu(t,r),a=[];break;case"select":o=Te({},o,{value:void 0}),r=Te({},r,{value:void 0}),a=[];break;case"textarea":o=Bu(t,o),r=Bu(t,r),a=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ca)}Uu(n,r);var u;n=null;for(p in o)if(!r.hasOwnProperty(p)&&o.hasOwnProperty(p)&&o[p]!=null)if(p==="style"){var h=o[p];for(u in h)h.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(mo.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in r){var d=r[p];if(h=o!=null?o[p]:void 0,r.hasOwnProperty(p)&&d!==h&&(d!=null||h!=null))if(p==="style")if(h){for(u in h)!h.hasOwnProperty(u)||d&&d.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in d)d.hasOwnProperty(u)&&h[u]!==d[u]&&(n||(n={}),n[u]=d[u])}else n||(a||(a=[]),a.push(p,n)),n=d;else p==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,h=h?h.__html:void 0,d!=null&&h!==d&&(a=a||[]).push(p,d)):p==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(p,""+d):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(mo.hasOwnProperty(p)?(d!=null&&p==="onScroll"&&ve("scroll",t),a||h===d||(a=[])):(a=a||[]).push(p,d))}n&&(a=a||[]).push("style",n);var p=a;(e.updateQueue=p)&&(e.flags|=4)}};xg=function(t,e,n,r){n!==r&&(e.flags|=4)};function Vr(t,e){if(!Ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function oC(t,e,n){var r=e.pendingProps;switch(ch(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(e),null;case 1:return pt(e.type)&&ha(),Xe(e),null;case 3:return r=e.stateNode,dr(),we(ft),we(tt),yh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ds(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bt!==null&&(Ec(Bt),Bt=null))),pc(t,e),Xe(e),null;case 5:vh(e);var o=fi(Io.current);if(n=e.type,t!==null&&e.stateNode!=null)Sg(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(R(166));return Xe(e),null}if(t=fi(tn.current),Ds(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Jt]=e,r[Po]=a,t=(e.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(o=0;o<eo.length;o++)ve(eo[o],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":Df(r,a),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ve("invalid",r);break;case"textarea":zf(r,a),ve("invalid",r)}Uu(n,a),o=null;for(var u in a)if(a.hasOwnProperty(u)){var h=a[u];u==="children"?typeof h=="string"?r.textContent!==h&&(a.suppressHydrationWarning!==!0&&As(r.textContent,h,t),o=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(a.suppressHydrationWarning!==!0&&As(r.textContent,h,t),o=["children",""+h]):mo.hasOwnProperty(u)&&h!=null&&u==="onScroll"&&ve("scroll",r)}switch(n){case"input":Ps(r),bf(r,a,!0);break;case"textarea":Ps(r),Ff(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=ca)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{u=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=X_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=u.createElement(n,{is:r.is}):(t=u.createElement(n),n==="select"&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,n),t[Jt]=e,t[Po]=r,Eg(t,e,!1,!1),e.stateNode=t;e:{switch(u=Hu(n,r),n){case"dialog":ve("cancel",t),ve("close",t),o=r;break;case"iframe":case"object":case"embed":ve("load",t),o=r;break;case"video":case"audio":for(o=0;o<eo.length;o++)ve(eo[o],t);o=r;break;case"source":ve("error",t),o=r;break;case"img":case"image":case"link":ve("error",t),ve("load",t),o=r;break;case"details":ve("toggle",t),o=r;break;case"input":Df(t,r),o=bu(t,r),ve("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=Te({},r,{value:void 0}),ve("invalid",t);break;case"textarea":zf(t,r),o=Bu(t,r),ve("invalid",t);break;default:o=r}Uu(n,o),h=o;for(a in h)if(h.hasOwnProperty(a)){var d=h[a];a==="style"?tm(t,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&J_(t,d)):a==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&go(t,d):typeof d=="number"&&go(t,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(mo.hasOwnProperty(a)?d!=null&&a==="onScroll"&&ve("scroll",t):d!=null&&Yc(t,a,d,u))}switch(n){case"input":Ps(t),bf(t,r,!1);break;case"textarea":Ps(t),Ff(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$n(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Ji(t,!!r.multiple,a,!1):r.defaultValue!=null&&Ji(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=ca)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xe(e),null;case 6:if(t&&e.stateNode!=null)xg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(R(166));if(n=fi(Io.current),fi(tn.current),Ds(e)){if(r=e.stateNode,n=e.memoizedProps,r[Jt]=e,(a=r.nodeValue!==n)&&(t=yt,t!==null))switch(t.tag){case 3:As(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&As(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jt]=e,e.stateNode=r}return Xe(e),null;case 13:if(we(Se),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ce&&vt!==null&&e.mode&1&&!(e.flags&128))Hm(),cr(),e.flags|=98560,a=!1;else if(a=Ds(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(R(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(R(317));a[Jt]=e}else cr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xe(e),a=!1}else Bt!==null&&(Ec(Bt),Bt=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Se.current&1?Fe===0&&(Fe=3):Mh())),e.updateQueue!==null&&(e.flags|=4),Xe(e),null);case 4:return dr(),pc(t,e),t===null&&xo(e.stateNode.containerInfo),Xe(e),null;case 10:return ph(e.type._context),Xe(e),null;case 17:return pt(e.type)&&ha(),Xe(e),null;case 19:if(we(Se),a=e.memoizedState,a===null)return Xe(e),null;if(r=(e.flags&128)!==0,u=a.rendering,u===null)if(r)Vr(a,!1);else{if(Fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(u=va(t),u!==null){for(e.flags|=128,Vr(a,!1),r=u.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,t=u.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return me(Se,Se.current&1|2),e.child}t=t.sibling}a.tail!==null&&Ne()>pr&&(e.flags|=128,r=!0,Vr(a,!1),e.lanes=4194304)}else{if(!r)if(t=va(u),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Vr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!Ce)return Xe(e),null}else 2*Ne()-a.renderingStartTime>pr&&n!==1073741824&&(e.flags|=128,r=!0,Vr(a,!1),e.lanes=4194304);a.isBackwards?(u.sibling=e.child,e.child=u):(n=a.last,n!==null?n.sibling=u:e.child=u,a.last=u)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ne(),e.sibling=null,n=Se.current,me(Se,r?n&1|2:n&1),e):(Xe(e),null);case 22:case 23:return Nh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gt&1073741824&&(Xe(e),e.subtreeFlags&6&&(e.flags|=8192)):Xe(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function sC(t,e){switch(ch(e),e.tag){case 1:return pt(e.type)&&ha(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return dr(),we(ft),we(tt),yh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vh(e),null;case 13:if(we(Se),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));cr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return we(Se),null;case 4:return dr(),null;case 10:return ph(e.type._context),null;case 22:case 23:return Nh(),null;case 24:return null;default:return null}}var Fs=!1,Je=!1,aC=typeof WeakSet=="function"?WeakSet:Set,z=null;function Yi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pe(t,e,r)}else n.current=null}function _c(t,e,n){try{n()}catch(r){Pe(t,e,r)}}var kp=!1;function lC(t,e){if(Xu=aa,t=Lm(),lh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var u=0,h=-1,d=-1,p=0,v=0,m=t,g=null;t:for(;;){for(var x;m!==n||o!==0&&m.nodeType!==3||(h=u+o),m!==a||r!==0&&m.nodeType!==3||(d=u+r),m.nodeType===3&&(u+=m.nodeValue.length),(x=m.firstChild)!==null;)g=m,m=x;for(;;){if(m===t)break t;if(g===n&&++p===o&&(h=u),g===a&&++v===r&&(d=u),(x=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=x}n=h===-1||d===-1?null:{start:h,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ju={focusedElem:t,selectionRange:n},aa=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var P=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var k=P.memoizedProps,j=P.memoizedState,C=e.stateNode,w=C.getSnapshotBeforeUpdate(e.elementType===e.type?k:zt(e.type,k),j);C.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(M){Pe(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return P=kp,kp=!1,P}function ao(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var a=o.destroy;o.destroy=void 0,a!==void 0&&_c(e,n,a)}o=o.next}while(o!==r)}}function Qa(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function mc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Tg(t){var e=t.alternate;e!==null&&(t.alternate=null,Tg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jt],delete e[Po],delete e[nc],delete e[j1],delete e[V1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Pg(t){return t.tag===5||t.tag===3||t.tag===4}function Ip(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Pg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ca));else if(r!==4&&(t=t.child,t!==null))for(gc(t,e,n),t=t.sibling;t!==null;)gc(t,e,n),t=t.sibling}function vc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(vc(t,e,n),t=t.sibling;t!==null;)vc(t,e,n),t=t.sibling}var Ge=null,Ft=!1;function kn(t,e,n){for(n=n.child;n!==null;)kg(t,e,n),n=n.sibling}function kg(t,e,n){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Za,n)}catch{}switch(n.tag){case 5:Je||Yi(n,e);case 6:var r=Ge,o=Ft;Ge=null,kn(t,e,n),Ge=r,Ft=o,Ge!==null&&(Ft?(t=Ge,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ge.removeChild(n.stateNode));break;case 18:Ge!==null&&(Ft?(t=Ge,n=n.stateNode,t.nodeType===8?uu(t.parentNode,n):t.nodeType===1&&uu(t,n),Co(t)):uu(Ge,n.stateNode));break;case 4:r=Ge,o=Ft,Ge=n.stateNode.containerInfo,Ft=!0,kn(t,e,n),Ge=r,Ft=o;break;case 0:case 11:case 14:case 15:if(!Je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var a=o,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&_c(n,e,u),o=o.next}while(o!==r)}kn(t,e,n);break;case 1:if(!Je&&(Yi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){Pe(n,e,h)}kn(t,e,n);break;case 21:kn(t,e,n);break;case 22:n.mode&1?(Je=(r=Je)||n.memoizedState!==null,kn(t,e,n),Je=r):kn(t,e,n);break;default:kn(t,e,n)}}function Lp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new aC),e.forEach(function(r){var o=gC.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function bt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var a=t,u=e,h=u;e:for(;h!==null;){switch(h.tag){case 5:Ge=h.stateNode,Ft=!1;break e;case 3:Ge=h.stateNode.containerInfo,Ft=!0;break e;case 4:Ge=h.stateNode.containerInfo,Ft=!0;break e}h=h.return}if(Ge===null)throw Error(R(160));kg(a,u,o),Ge=null,Ft=!1;var d=o.alternate;d!==null&&(d.return=null),o.return=null}catch(p){Pe(o,e,p)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ig(e,t),e=e.sibling}function Ig(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bt(e,t),Qt(t),r&4){try{ao(3,t,t.return),Qa(3,t)}catch(k){Pe(t,t.return,k)}try{ao(5,t,t.return)}catch(k){Pe(t,t.return,k)}}break;case 1:bt(e,t),Qt(t),r&512&&n!==null&&Yi(n,n.return);break;case 5:if(bt(e,t),Qt(t),r&512&&n!==null&&Yi(n,n.return),t.flags&32){var o=t.stateNode;try{go(o,"")}catch(k){Pe(t,t.return,k)}}if(r&4&&(o=t.stateNode,o!=null)){var a=t.memoizedProps,u=n!==null?n.memoizedProps:a,h=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{h==="input"&&a.type==="radio"&&a.name!=null&&q_(o,a),Hu(h,u);var p=Hu(h,a);for(u=0;u<d.length;u+=2){var v=d[u],m=d[u+1];v==="style"?tm(o,m):v==="dangerouslySetInnerHTML"?J_(o,m):v==="children"?go(o,m):Yc(o,v,m,p)}switch(h){case"input":zu(o,a);break;case"textarea":Q_(o,a);break;case"select":var g=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?Ji(o,!!a.multiple,x,!1):g!==!!a.multiple&&(a.defaultValue!=null?Ji(o,!!a.multiple,a.defaultValue,!0):Ji(o,!!a.multiple,a.multiple?[]:"",!1))}o[Po]=a}catch(k){Pe(t,t.return,k)}}break;case 6:if(bt(e,t),Qt(t),r&4){if(t.stateNode===null)throw Error(R(162));o=t.stateNode,a=t.memoizedProps;try{o.nodeValue=a}catch(k){Pe(t,t.return,k)}}break;case 3:if(bt(e,t),Qt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Co(e.containerInfo)}catch(k){Pe(t,t.return,k)}break;case 4:bt(e,t),Qt(t);break;case 13:bt(e,t),Qt(t),o=t.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(Ih=Ne())),r&4&&Lp(t);break;case 22:if(v=n!==null&&n.memoizedState!==null,t.mode&1?(Je=(p=Je)||v,bt(e,t),Je=p):bt(e,t),Qt(t),r&8192){if(p=t.memoizedState!==null,(t.stateNode.isHidden=p)&&!v&&t.mode&1)for(z=t,v=t.child;v!==null;){for(m=z=v;z!==null;){switch(g=z,x=g.child,g.tag){case 0:case 11:case 14:case 15:ao(4,g,g.return);break;case 1:Yi(g,g.return);var P=g.stateNode;if(typeof P.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,P.props=e.memoizedProps,P.state=e.memoizedState,P.componentWillUnmount()}catch(k){Pe(r,n,k)}}break;case 5:Yi(g,g.return);break;case 22:if(g.memoizedState!==null){Mp(m);continue}}x!==null?(x.return=g,z=x):Mp(m)}v=v.sibling}e:for(v=null,m=t;;){if(m.tag===5){if(v===null){v=m;try{o=m.stateNode,p?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(h=m.stateNode,d=m.memoizedProps.style,u=d!=null&&d.hasOwnProperty("display")?d.display:null,h.style.display=em("display",u))}catch(k){Pe(t,t.return,k)}}}else if(m.tag===6){if(v===null)try{m.stateNode.nodeValue=p?"":m.memoizedProps}catch(k){Pe(t,t.return,k)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;v===m&&(v=null),m=m.return}v===m&&(v=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:bt(e,t),Qt(t),r&4&&Lp(t);break;case 21:break;default:bt(e,t),Qt(t)}}function Qt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Pg(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(go(o,""),r.flags&=-33);var a=Ip(t);vc(t,a,o);break;case 3:case 4:var u=r.stateNode.containerInfo,h=Ip(t);gc(t,h,u);break;default:throw Error(R(161))}}catch(d){Pe(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uC(t,e,n){z=t,Lg(t)}function Lg(t,e,n){for(var r=(t.mode&1)!==0;z!==null;){var o=z,a=o.child;if(o.tag===22&&r){var u=o.memoizedState!==null||Fs;if(!u){var h=o.alternate,d=h!==null&&h.memoizedState!==null||Je;h=Fs;var p=Je;if(Fs=u,(Je=d)&&!p)for(z=o;z!==null;)u=z,d=u.child,u.tag===22&&u.memoizedState!==null?Rp(o):d!==null?(d.return=u,z=d):Rp(o);for(;a!==null;)z=a,Lg(a),a=a.sibling;z=o,Fs=h,Je=p}Np(t)}else o.subtreeFlags&8772&&a!==null?(a.return=o,z=a):Np(t)}}function Np(t){for(;z!==null;){var e=z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Je||Qa(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Je)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:zt(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&pp(e,a,r);break;case 3:var u=e.updateQueue;if(u!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}pp(e,u,n)}break;case 5:var h=e.stateNode;if(n===null&&e.flags&4){n=h;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var p=e.alternate;if(p!==null){var v=p.memoizedState;if(v!==null){var m=v.dehydrated;m!==null&&Co(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Je||e.flags&512&&mc(e)}catch(g){Pe(e,e.return,g)}}if(e===t){z=null;break}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}}function Mp(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,z=n;break}z=e.return}}function Rp(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qa(4,e)}catch(d){Pe(e,n,d)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(d){Pe(e,o,d)}}var a=e.return;try{mc(e)}catch(d){Pe(e,a,d)}break;case 5:var u=e.return;try{mc(e)}catch(d){Pe(e,u,d)}}}catch(d){Pe(e,e.return,d)}if(e===t){z=null;break}var h=e.sibling;if(h!==null){h.return=e.return,z=h;break}z=e.return}}var cC=Math.ceil,Ca=Cn.ReactCurrentDispatcher,Ph=Cn.ReactCurrentOwner,Mt=Cn.ReactCurrentBatchConfig,oe=0,je=null,Oe=null,Ye=0,gt=0,qi=Xn(0),Fe=0,Ro=null,wi=0,Xa=0,kh=0,lo=null,ct=null,Ih=0,pr=1/0,ln=null,Ea=!1,yc=null,Bn=null,Bs=!1,On=null,Sa=0,uo=0,wc=null,Xs=-1,Js=0;function ot(){return oe&6?Ne():Xs!==-1?Xs:Xs=Ne()}function Wn(t){return t.mode&1?oe&2&&Ye!==0?Ye&-Ye:G1.transition!==null?(Js===0&&(Js=fm()),Js):(t=ue,t!==0||(t=window.event,t=t===void 0?16:wm(t.type)),t):1}function jt(t,e,n,r){if(50<uo)throw uo=0,wc=null,Error(R(185));Vo(t,n,r),(!(oe&2)||t!==je)&&(t===je&&(!(oe&2)&&(Xa|=n),Fe===4&&Mn(t,Ye)),_t(t,r),n===1&&oe===0&&!(e.mode&1)&&(pr=Ne()+500,Ka&&Jn()))}function _t(t,e){var n=t.callbackNode;G0(t,e);var r=sa(t,t===je?Ye:0);if(r===0)n!==null&&Uf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Uf(n),e===1)t.tag===0?$1(Op.bind(null,t)):Bm(Op.bind(null,t)),H1(function(){!(oe&6)&&Jn()}),n=null;else{switch(pm(r)){case 1:n=eh;break;case 4:n=hm;break;case 16:n=oa;break;case 536870912:n=dm;break;default:n=oa}n=zg(n,Ng.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ng(t,e){if(Xs=-1,Js=0,oe&6)throw Error(R(327));var n=t.callbackNode;if(rr()&&t.callbackNode!==n)return null;var r=sa(t,t===je?Ye:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=xa(t,r);else{e=r;var o=oe;oe|=2;var a=Rg();(je!==t||Ye!==e)&&(ln=null,pr=Ne()+500,_i(t,e));do try{fC();break}catch(h){Mg(t,h)}while(!0);fh(),Ca.current=a,oe=o,Oe!==null?e=0:(je=null,Ye=0,e=Fe)}if(e!==0){if(e===2&&(o=Gu(t),o!==0&&(r=o,e=Cc(t,o))),e===1)throw n=Ro,_i(t,0),Mn(t,r),_t(t,Ne()),n;if(e===6)Mn(t,r);else{if(o=t.current.alternate,!(r&30)&&!hC(o)&&(e=xa(t,r),e===2&&(a=Gu(t),a!==0&&(r=a,e=Cc(t,a))),e===1))throw n=Ro,_i(t,0),Mn(t,r),_t(t,Ne()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(R(345));case 2:li(t,ct,ln);break;case 3:if(Mn(t,r),(r&130023424)===r&&(e=Ih+500-Ne(),10<e)){if(sa(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){ot(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=tc(li.bind(null,t,ct,ln),e);break}li(t,ct,ln);break;case 4:if(Mn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var u=31-Zt(r);a=1<<u,u=e[u],u>o&&(o=u),r&=~a}if(r=o,r=Ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cC(r/1960))-r,10<r){t.timeoutHandle=tc(li.bind(null,t,ct,ln),r);break}li(t,ct,ln);break;case 5:li(t,ct,ln);break;default:throw Error(R(329))}}}return _t(t,Ne()),t.callbackNode===n?Ng.bind(null,t):null}function Cc(t,e){var n=lo;return t.current.memoizedState.isDehydrated&&(_i(t,e).flags|=256),t=xa(t,e),t!==2&&(e=ct,ct=n,e!==null&&Ec(e)),t}function Ec(t){ct===null?ct=t:ct.push.apply(ct,t)}function hC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!$t(a(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mn(t,e){for(e&=~kh,e&=~Xa,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zt(e),r=1<<n;t[n]=-1,e&=~r}}function Op(t){if(oe&6)throw Error(R(327));rr();var e=sa(t,0);if(!(e&1))return _t(t,Ne()),null;var n=xa(t,e);if(t.tag!==0&&n===2){var r=Gu(t);r!==0&&(e=r,n=Cc(t,r))}if(n===1)throw n=Ro,_i(t,0),Mn(t,e),_t(t,Ne()),n;if(n===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,li(t,ct,ln),_t(t,Ne()),null}function Lh(t,e){var n=oe;oe|=1;try{return t(e)}finally{oe=n,oe===0&&(pr=Ne()+500,Ka&&Jn())}}function Ci(t){On!==null&&On.tag===0&&!(oe&6)&&rr();var e=oe;oe|=1;var n=Mt.transition,r=ue;try{if(Mt.transition=null,ue=1,t)return t()}finally{ue=r,Mt.transition=n,oe=e,!(oe&6)&&Jn()}}function Nh(){gt=qi.current,we(qi)}function _i(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,U1(n)),Oe!==null)for(n=Oe.return;n!==null;){var r=n;switch(ch(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ha();break;case 3:dr(),we(ft),we(tt),yh();break;case 5:vh(r);break;case 4:dr();break;case 13:we(Se);break;case 19:we(Se);break;case 10:ph(r.type._context);break;case 22:case 23:Nh()}n=n.return}if(je=t,Oe=t=Un(t.current,null),Ye=gt=e,Fe=0,Ro=null,kh=Xa=wi=0,ct=lo=null,di!==null){for(e=0;e<di.length;e++)if(n=di[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,a=n.pending;if(a!==null){var u=a.next;a.next=o,r.next=u}n.pending=r}di=null}return t}function Mg(t,e){do{var n=Oe;try{if(fh(),Ys.current=wa,ya){for(var r=xe.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}ya=!1}if(yi=0,He=De=xe=null,so=!1,Lo=0,Ph.current=null,n===null||n.return===null){Fe=1,Ro=e,Oe=null;break}e:{var a=t,u=n.return,h=n,d=e;if(e=Ye,h.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var p=d,v=h,m=v.tag;if(!(v.mode&1)&&(m===0||m===11||m===15)){var g=v.alternate;g?(v.updateQueue=g.updateQueue,v.memoizedState=g.memoizedState,v.lanes=g.lanes):(v.updateQueue=null,v.memoizedState=null)}var x=wp(u);if(x!==null){x.flags&=-257,Cp(x,u,h,a,e),x.mode&1&&yp(a,p,e),e=x,d=p;var P=e.updateQueue;if(P===null){var k=new Set;k.add(d),e.updateQueue=k}else P.add(d);break e}else{if(!(e&1)){yp(a,p,e),Mh();break e}d=Error(R(426))}}else if(Ce&&h.mode&1){var j=wp(u);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Cp(j,u,h,a,e),hh(fr(d,h));break e}}a=d=fr(d,h),Fe!==4&&(Fe=2),lo===null?lo=[a]:lo.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var C=pg(a,d,e);fp(a,C);break e;case 1:h=d;var w=a.type,E=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Bn===null||!Bn.has(E)))){a.flags|=65536,e&=-e,a.lanes|=e;var M=_g(a,h,e);fp(a,M);break e}}a=a.return}while(a!==null)}Ag(n)}catch(b){e=b,Oe===n&&n!==null&&(Oe=n=n.return);continue}break}while(!0)}function Rg(){var t=Ca.current;return Ca.current=wa,t===null?wa:t}function Mh(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),je===null||!(wi&268435455)&&!(Xa&268435455)||Mn(je,Ye)}function xa(t,e){var n=oe;oe|=2;var r=Rg();(je!==t||Ye!==e)&&(ln=null,_i(t,e));do try{dC();break}catch(o){Mg(t,o)}while(!0);if(fh(),oe=n,Ca.current=r,Oe!==null)throw Error(R(261));return je=null,Ye=0,Fe}function dC(){for(;Oe!==null;)Og(Oe)}function fC(){for(;Oe!==null&&!F0();)Og(Oe)}function Og(t){var e=bg(t.alternate,t,gt);t.memoizedProps=t.pendingProps,e===null?Ag(t):Oe=e,Ph.current=null}function Ag(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=sC(n,e),n!==null){n.flags&=32767,Oe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Fe=6,Oe=null;return}}else if(n=oC(n,e,gt),n!==null){Oe=n;return}if(e=e.sibling,e!==null){Oe=e;return}Oe=e=t}while(e!==null);Fe===0&&(Fe=5)}function li(t,e,n){var r=ue,o=Mt.transition;try{Mt.transition=null,ue=1,pC(t,e,n,r)}finally{Mt.transition=o,ue=r}return null}function pC(t,e,n,r){do rr();while(On!==null);if(oe&6)throw Error(R(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(K0(t,a),t===je&&(Oe=je=null,Ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bs||(Bs=!0,zg(oa,function(){return rr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Mt.transition,Mt.transition=null;var u=ue;ue=1;var h=oe;oe|=4,Ph.current=null,lC(t,n),Ig(n,t),A1(Ju),aa=!!Xu,Ju=Xu=null,t.current=n,uC(n),B0(),oe=h,ue=u,Mt.transition=a}else t.current=n;if(Bs&&(Bs=!1,On=t,Sa=o),a=t.pendingLanes,a===0&&(Bn=null),H0(n.stateNode),_t(t,Ne()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Ea)throw Ea=!1,t=yc,yc=null,t;return Sa&1&&t.tag!==0&&rr(),a=t.pendingLanes,a&1?t===wc?uo++:(uo=0,wc=t):uo=0,Jn(),null}function rr(){if(On!==null){var t=pm(Sa),e=Mt.transition,n=ue;try{if(Mt.transition=null,ue=16>t?16:t,On===null)var r=!1;else{if(t=On,On=null,Sa=0,oe&6)throw Error(R(331));var o=oe;for(oe|=4,z=t.current;z!==null;){var a=z,u=a.child;if(z.flags&16){var h=a.deletions;if(h!==null){for(var d=0;d<h.length;d++){var p=h[d];for(z=p;z!==null;){var v=z;switch(v.tag){case 0:case 11:case 15:ao(8,v,a)}var m=v.child;if(m!==null)m.return=v,z=m;else for(;z!==null;){v=z;var g=v.sibling,x=v.return;if(Tg(v),v===p){z=null;break}if(g!==null){g.return=x,z=g;break}z=x}}}var P=a.alternate;if(P!==null){var k=P.child;if(k!==null){P.child=null;do{var j=k.sibling;k.sibling=null,k=j}while(k!==null)}}z=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,z=u;else e:for(;z!==null;){if(a=z,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ao(9,a,a.return)}var C=a.sibling;if(C!==null){C.return=a.return,z=C;break e}z=a.return}}var w=t.current;for(z=w;z!==null;){u=z;var E=u.child;if(u.subtreeFlags&2064&&E!==null)E.return=u,z=E;else e:for(u=w;z!==null;){if(h=z,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:Qa(9,h)}}catch(b){Pe(h,h.return,b)}if(h===u){z=null;break e}var M=h.sibling;if(M!==null){M.return=h.return,z=M;break e}z=h.return}}if(oe=o,Jn(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Za,t)}catch{}r=!0}return r}finally{ue=n,Mt.transition=e}}return!1}function Ap(t,e,n){e=fr(n,e),e=pg(t,e,1),t=Fn(t,e,1),e=ot(),t!==null&&(Vo(t,1,e),_t(t,e))}function Pe(t,e,n){if(t.tag===3)Ap(t,t,n);else for(;e!==null;){if(e.tag===3){Ap(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bn===null||!Bn.has(r))){t=fr(n,t),t=_g(e,t,1),e=Fn(e,t,1),t=ot(),e!==null&&(Vo(e,1,t),_t(e,t));break}}e=e.return}}function _C(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ot(),t.pingedLanes|=t.suspendedLanes&n,je===t&&(Ye&n)===n&&(Fe===4||Fe===3&&(Ye&130023424)===Ye&&500>Ne()-Ih?_i(t,0):kh|=n),_t(t,e)}function Dg(t,e){e===0&&(t.mode&1?(e=Ls,Ls<<=1,!(Ls&130023424)&&(Ls=4194304)):e=1);var n=ot();t=gn(t,e),t!==null&&(Vo(t,e,n),_t(t,n))}function mC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Dg(t,n)}function gC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(e),Dg(t,n)}var bg;bg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ft.current)ht=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ht=!1,rC(t,e,n);ht=!!(t.flags&131072)}else ht=!1,Ce&&e.flags&1048576&&Wm(e,pa,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Qs(t,e),t=e.pendingProps;var o=ur(e,tt.current);ir(e,n),o=Ch(null,e,r,t,o,n);var a=Eh();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pt(r)?(a=!0,da(e)):a=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,mh(e),o.updater=qa,e.stateNode=o,o._reactInternals=e,lc(e,r,t,n),e=hc(null,e,r,!0,a,n)):(e.tag=0,Ce&&a&&uh(e),it(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Qs(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=yC(r),t=zt(r,t),o){case 0:e=cc(null,e,r,t,n);break e;case 1:e=xp(null,e,r,t,n);break e;case 11:e=Ep(null,e,r,t,n);break e;case 14:e=Sp(null,e,r,zt(r.type,t),n);break e}throw Error(R(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:zt(r,o),cc(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:zt(r,o),xp(t,e,r,o,n);case 3:e:{if(yg(e),t===null)throw Error(R(387));r=e.pendingProps,a=e.memoizedState,o=a.element,$m(t,e),ga(e,r,null,n);var u=e.memoizedState;if(r=u.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){o=fr(Error(R(423)),e),e=Tp(t,e,r,n,o);break e}else if(r!==o){o=fr(Error(R(424)),e),e=Tp(t,e,r,n,o);break e}else for(vt=zn(e.stateNode.containerInfo.firstChild),yt=e,Ce=!0,Bt=null,n=jm(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cr(),r===o){e=vn(t,e,n);break e}it(t,e,r,n)}e=e.child}return e;case 5:return Gm(e),t===null&&oc(e),r=e.type,o=e.pendingProps,a=t!==null?t.memoizedProps:null,u=o.children,ec(r,o)?u=null:a!==null&&ec(r,a)&&(e.flags|=32),vg(t,e),it(t,e,u,n),e.child;case 6:return t===null&&oc(e),null;case 13:return wg(t,e,n);case 4:return gh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=hr(e,null,r,n):it(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:zt(r,o),Ep(t,e,r,o,n);case 7:return it(t,e,e.pendingProps,n),e.child;case 8:return it(t,e,e.pendingProps.children,n),e.child;case 12:return it(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,a=e.memoizedProps,u=o.value,me(_a,r._currentValue),r._currentValue=u,a!==null)if($t(a.value,u)){if(a.children===o.children&&!ft.current){e=vn(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var h=a.dependencies;if(h!==null){u=a.child;for(var d=h.firstContext;d!==null;){if(d.context===r){if(a.tag===1){d=fn(-1,n&-n),d.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var v=p.pending;v===null?d.next=d:(d.next=v.next,v.next=d),p.pending=d}}a.lanes|=n,d=a.alternate,d!==null&&(d.lanes|=n),sc(a.return,n,e),h.lanes|=n;break}d=d.next}}else if(a.tag===10)u=a.type===e.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(R(341));u.lanes|=n,h=u.alternate,h!==null&&(h.lanes|=n),sc(u,n,e),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===e){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}it(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,ir(e,n),o=Rt(o),r=r(o),e.flags|=1,it(t,e,r,n),e.child;case 14:return r=e.type,o=zt(r,e.pendingProps),o=zt(r.type,o),Sp(t,e,r,o,n);case 15:return mg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:zt(r,o),Qs(t,e),e.tag=1,pt(r)?(t=!0,da(e)):t=!1,ir(e,n),fg(e,r,o),lc(e,r,o,n),hc(null,e,r,!0,t,n);case 19:return Cg(t,e,n);case 22:return gg(t,e,n)}throw Error(R(156,e.tag))};function zg(t,e){return cm(t,e)}function vC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(t,e,n,r){return new vC(t,e,n,r)}function Rh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yC(t){if(typeof t=="function")return Rh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qc)return 11;if(t===Xc)return 14}return 2}function Un(t,e){var n=t.alternate;return n===null?(n=Nt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ea(t,e,n,r,o,a){var u=2;if(r=t,typeof t=="function")Rh(t)&&(u=1);else if(typeof t=="string")u=5;else e:switch(t){case Wi:return mi(n.children,o,a,e);case qc:u=8,o|=8;break;case Ru:return t=Nt(12,n,e,o|2),t.elementType=Ru,t.lanes=a,t;case Ou:return t=Nt(13,n,e,o),t.elementType=Ou,t.lanes=a,t;case Au:return t=Nt(19,n,e,o),t.elementType=Au,t.lanes=a,t;case G_:return Ja(n,o,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case V_:u=10;break e;case $_:u=9;break e;case Qc:u=11;break e;case Xc:u=14;break e;case In:u=16,r=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=Nt(u,n,e,o),e.elementType=t,e.type=r,e.lanes=a,e}function mi(t,e,n,r){return t=Nt(7,t,r,e),t.lanes=n,t}function Ja(t,e,n,r){return t=Nt(22,t,r,e),t.elementType=G_,t.lanes=n,t.stateNode={isHidden:!1},t}function gu(t,e,n){return t=Nt(6,t,null,e),t.lanes=n,t}function vu(t,e,n){return e=Nt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wC(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xl(0),this.expirationTimes=Xl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Oh(t,e,n,r,o,a,u,h,d){return t=new wC(t,e,n,h,d),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Nt(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mh(a),t}function CC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Fg(t){if(!t)return Gn;t=t._reactInternals;e:{if(Pi(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var n=t.type;if(pt(n))return Fm(t,n,e)}return e}function Bg(t,e,n,r,o,a,u,h,d){return t=Oh(n,r,!0,t,o,a,u,h,d),t.context=Fg(null),n=t.current,r=ot(),o=Wn(n),a=fn(r,o),a.callback=e??null,Fn(n,a,o),t.current.lanes=o,Vo(t,o,r),_t(t,r),t}function el(t,e,n,r){var o=e.current,a=ot(),u=Wn(o);return n=Fg(n),e.context===null?e.context=n:e.pendingContext=n,e=fn(a,u),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fn(o,e,u),t!==null&&(jt(t,o,u,a),Ks(t,o,u)),u}function Ta(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Dp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ah(t,e){Dp(t,e),(t=t.alternate)&&Dp(t,e)}function EC(){return null}var Wg=typeof reportError=="function"?reportError:function(t){console.error(t)};function Dh(t){this._internalRoot=t}tl.prototype.render=Dh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));el(t,e,null,null)};tl.prototype.unmount=Dh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ci(function(){el(null,t,null,null)}),e[mn]=null}};function tl(t){this._internalRoot=t}tl.prototype.unstable_scheduleHydration=function(t){if(t){var e=gm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Nn.length&&e!==0&&e<Nn[n].priority;n++);Nn.splice(n,0,t),n===0&&ym(t)}};function bh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bp(){}function SC(t,e,n,r,o){if(o){if(typeof r=="function"){var a=r;r=function(){var p=Ta(u);a.call(p)}}var u=Bg(e,r,t,0,null,!1,!1,"",bp);return t._reactRootContainer=u,t[mn]=u.current,xo(t.nodeType===8?t.parentNode:t),Ci(),u}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var h=r;r=function(){var p=Ta(d);h.call(p)}}var d=Oh(t,0,!1,null,null,!1,!1,"",bp);return t._reactRootContainer=d,t[mn]=d.current,xo(t.nodeType===8?t.parentNode:t),Ci(function(){el(e,d,n,r)}),d}function il(t,e,n,r,o){var a=n._reactRootContainer;if(a){var u=a;if(typeof o=="function"){var h=o;o=function(){var d=Ta(u);h.call(d)}}el(e,u,t,o)}else u=SC(n,e,t,o,r);return Ta(u)}_m=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jr(e.pendingLanes);n!==0&&(th(e,n|1),_t(e,Ne()),!(oe&6)&&(pr=Ne()+500,Jn()))}break;case 13:Ci(function(){var r=gn(t,1);if(r!==null){var o=ot();jt(r,t,1,o)}}),Ah(t,1)}};nh=function(t){if(t.tag===13){var e=gn(t,134217728);if(e!==null){var n=ot();jt(e,t,134217728,n)}Ah(t,134217728)}};mm=function(t){if(t.tag===13){var e=Wn(t),n=gn(t,e);if(n!==null){var r=ot();jt(n,t,e,r)}Ah(t,e)}};gm=function(){return ue};vm=function(t,e){var n=ue;try{return ue=t,e()}finally{ue=n}};ju=function(t,e,n){switch(e){case"input":if(zu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=Ga(r);if(!o)throw Error(R(90));Y_(r),zu(r,o)}}}break;case"textarea":Q_(t,n);break;case"select":e=n.value,e!=null&&Ji(t,!!n.multiple,e,!1)}};rm=Lh;om=Ci;var xC={usingClientEntryPoint:!1,Events:[Go,ji,Ga,nm,im,Lh]},$r={findFiberByHostInstance:hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TC={bundleType:$r.bundleType,version:$r.version,rendererPackageName:$r.rendererPackageName,rendererConfig:$r.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lm(t),t===null?null:t.stateNode},findFiberByHostInstance:$r.findFiberByHostInstance||EC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ws=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ws.isDisabled&&Ws.supportsFiber)try{Za=Ws.inject(TC),en=Ws}catch{}}Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xC;Et.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bh(e))throw Error(R(200));return CC(t,e,null,n)};Et.createRoot=function(t,e){if(!bh(t))throw Error(R(299));var n=!1,r="",o=Wg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=Oh(t,1,!1,null,null,n,!1,r,o),t[mn]=e.current,xo(t.nodeType===8?t.parentNode:t),new Dh(e)};Et.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=lm(e),t=t===null?null:t.stateNode,t};Et.flushSync=function(t){return Ci(t)};Et.hydrate=function(t,e,n){if(!nl(e))throw Error(R(200));return il(null,t,e,!0,n)};Et.hydrateRoot=function(t,e,n){if(!bh(t))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,o=!1,a="",u=Wg;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),e=Bg(e,null,t,1,n??null,o,!1,a,u),t[mn]=e.current,xo(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new tl(e)};Et.render=function(t,e,n){if(!nl(e))throw Error(R(200));return il(null,t,e,!1,n)};Et.unmountComponentAtNode=function(t){if(!nl(t))throw Error(R(40));return t._reactRootContainer?(Ci(function(){il(null,null,t,!1,function(){t._reactRootContainer=null,t[mn]=null})}),!0):!1};Et.unstable_batchedUpdates=Lh;Et.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nl(n))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return il(t,e,n,!1,r)};Et.version="18.3.1-next-f1338f8080-20240426";function Ug(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ug)}catch(t){console.error(t)}}Ug(),U_.exports=Et;var Hg=U_.exports,Zg,zp=Hg;Zg=zp.createRoot,zp.hydrateRoot;var Fp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O=function(t,e){if(!t)throw Er(e)},Er=function(t){return new Error("Firebase Database ("+jg.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},PC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],u=t[n++],h=t[n++],d=((o&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],u=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},zh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const a=t[o],u=o+1<t.length,h=u?t[o+1]:0,d=o+2<t.length,p=d?t[o+2]:0,v=a>>2,m=(a&3)<<4|h>>4;let g=(h&15)<<2|p>>6,x=p&63;d||(x=64,u||(g=64)),r.push(n[v],n[m],n[g],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Vg(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const m=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||h==null||p==null||m==null)throw new kC;const g=a<<2|h>>4;if(r.push(g),p!==64){const x=h<<4&240|p>>2;if(r.push(x),m!==64){const P=p<<6&192|m;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $g=function(t){const e=Vg(t);return zh.encodeByteArray(e,!0)},Pa=function(t){return $g(t).replace(/\./g,"")},Sc=function(t){try{return zh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(t){return Gg(void 0,t)}function Gg(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!LC(n)||(t[n]=Gg(t[n],e[n]));return t}function LC(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=()=>NC().__FIREBASE_DEFAULTS__,RC=()=>{if(typeof process>"u"||typeof Fp>"u")return;const t=Fp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Sc(t[1]);return e&&JSON.parse(e)},Kg=()=>{try{return MC()||RC()||OC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},AC=t=>{var e,n;return(n=(e=Kg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},DC=t=>{const e=AC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Yg=()=>{var t;return(t=Kg())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Pa(JSON.stringify(n)),Pa(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zC())}function FC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qg(){return jg.NODE_ADMIN===!0}function BC(){try{return typeof indexedDB=="object"}catch{return!1}}function WC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="FirebaseError";class Yo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=UC,Object.setPrototypeOf(this,Yo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xg.prototype.create)}}class Xg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?HC(a,r):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new Yo(o,h,r)}}function HC(t,e){return t.replace(ZC,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const ZC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(t){return JSON.parse(t)}function be(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg=function(t){let e={},n={},r={},o="";try{const a=t.split(".");e=Oo(Sc(a[0])||""),n=Oo(Sc(a[1])||""),o=a[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:o}},jC=function(t){const e=Jg(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},VC=function(t){const e=Jg(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _r(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Bp(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ka(t,e,n){const r={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=e.call(n,t[o],o,t));return r}function xc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const a=t[o],u=e[o];if(Wp(a)&&Wp(u)){if(!xc(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Wp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let m=0;m<16;m++)r[m]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let m=0;m<16;m++)r[m]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let m=16;m<80;m++){const g=r[m-3]^r[m-8]^r[m-14]^r[m-16];r[m]=(g<<1|g>>>31)&4294967295}let o=this.chain_[0],a=this.chain_[1],u=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p,v;for(let m=0;m<80;m++){m<40?m<20?(p=h^a&(u^h),v=1518500249):(p=a^u^h,v=1859775393):m<60?(p=a&u|h&(a|u),v=2400959708):(p=a^u^h,v=3395469782);const g=(o<<5|o>>>27)+p+d+v+r[m]&4294967295;d=h,h=u,u=(a<<30|a>>>2)&4294967295,a=o,o=g}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let o=0;const a=this.buf_;let u=this.inbuf_;for(;o<n;){if(u===0)for(;o<=r;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(a[u]=e.charCodeAt(o),++u,++o,u===this.blockSize){this.compress_(a),u=0;break}}else for(;o<n;)if(a[u]=e[o],++u,++o,u===this.blockSize){this.compress_(a),u=0;break}}this.inbuf_=u,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let a=24;a>=0;a-=8)e[r]=this.chain_[o]>>a&255,++r;return e}}function ev(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);if(o>=55296&&o<=56319){const a=o-55296;r++,O(r<t.length,"Surrogate pair missing trail surrogate.");const u=t.charCodeAt(r)-56320;o=65536+(a<<10)+u}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},rl=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(t){return t&&t._delegate?t._delegate:t}class Ao{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Fh;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QC(e))try{this.getOrInitializeService({instanceIdentifier:ui})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ui){return this.instances.has(e)}getOptions(e=ui){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ui){return this.component?this.component.multipleInstances?e:ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qC(t){return t===ui?void 0:t}function QC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new YC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const JC={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},eE=pe.INFO,tE={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},nE=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=tE[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tv{constructor(e){this.name=e,this._logLevel=eE,this._logHandler=nE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const iE=(t,e)=>e.some(n=>t instanceof n);let Up,Hp;function rE(){return Up||(Up=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oE(){return Hp||(Hp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nv=new WeakMap,Tc=new WeakMap,iv=new WeakMap,yu=new WeakMap,Bh=new WeakMap;function sE(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(Hn(t.result)),o()},u=()=>{r(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&nv.set(n,t)}).catch(()=>{}),Bh.set(e,t),e}function aE(t){if(Tc.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),o()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Tc.set(t,e)}let Pc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lE(t){Pc=t(Pc)}function uE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(wu(this),e,...n);return iv.set(r,e.sort?e.sort():[e]),Hn(r)}:oE().includes(t)?function(...e){return t.apply(wu(this),e),Hn(nv.get(this))}:function(...e){return Hn(t.apply(wu(this),e))}}function cE(t){return typeof t=="function"?uE(t):(t instanceof IDBTransaction&&aE(t),iE(t,rE())?new Proxy(t,Pc):t)}function Hn(t){if(t instanceof IDBRequest)return sE(t);if(yu.has(t))return yu.get(t);const e=cE(t);return e!==t&&(yu.set(t,e),Bh.set(e,t)),e}const wu=t=>Bh.get(t);function hE(t,e,{blocked:n,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(t,e),h=Hn(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Hn(u.result),d.oldVersion,d.newVersion,Hn(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{a&&d.addEventListener("close",()=>a()),o&&d.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const dE=["get","getKey","getAll","getAllKeys","count"],fE=["put","add","delete","clear"],Cu=new Map;function Zp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cu.get(e))return Cu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=fE.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||dE.includes(n)))return;const a=async function(u,...h){const d=this.transaction(u,o?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),o&&d.done]))[0]};return Cu.set(e,a),a}lE(t=>({...t,get:(e,n,r)=>Zp(e,n)||t.get(e,n,r),has:(e,n)=>!!Zp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_E(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _E(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kc="@firebase/app",jp="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn=new tv("@firebase/app"),mE="@firebase/app-compat",gE="@firebase/analytics-compat",vE="@firebase/analytics",yE="@firebase/app-check-compat",wE="@firebase/app-check",CE="@firebase/auth",EE="@firebase/auth-compat",SE="@firebase/database",xE="@firebase/data-connect",TE="@firebase/database-compat",PE="@firebase/functions",kE="@firebase/functions-compat",IE="@firebase/installations",LE="@firebase/installations-compat",NE="@firebase/messaging",ME="@firebase/messaging-compat",RE="@firebase/performance",OE="@firebase/performance-compat",AE="@firebase/remote-config",DE="@firebase/remote-config-compat",bE="@firebase/storage",zE="@firebase/storage-compat",FE="@firebase/firestore",BE="@firebase/vertexai",WE="@firebase/firestore-compat",UE="firebase",HE="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic="[DEFAULT]",ZE={[kc]:"fire-core",[mE]:"fire-core-compat",[vE]:"fire-analytics",[gE]:"fire-analytics-compat",[wE]:"fire-app-check",[yE]:"fire-app-check-compat",[CE]:"fire-auth",[EE]:"fire-auth-compat",[SE]:"fire-rtdb",[xE]:"fire-data-connect",[TE]:"fire-rtdb-compat",[PE]:"fire-fn",[kE]:"fire-fn-compat",[IE]:"fire-iid",[LE]:"fire-iid-compat",[NE]:"fire-fcm",[ME]:"fire-fcm-compat",[RE]:"fire-perf",[OE]:"fire-perf-compat",[AE]:"fire-rc",[DE]:"fire-rc-compat",[bE]:"fire-gcs",[zE]:"fire-gcs-compat",[FE]:"fire-fst",[WE]:"fire-fst-compat",[BE]:"fire-vertex","fire-js":"fire-js",[UE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=new Map,jE=new Map,Lc=new Map;function Vp(t,e){try{t.container.addComponent(e)}catch(n){yn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function La(t){const e=t.name;if(Lc.has(e))return yn.debug(`There were multiple attempts to register component ${e}.`),!1;Lc.set(e,t);for(const n of Ia.values())Vp(n,t);for(const n of jE.values())Vp(n,t);return!0}function VE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zn=new Xg("app","Firebase",$E);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=HE;function Wh(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ic,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Zn.create("bad-app-name",{appName:String(o)});if(n||(n=Yg()),!n)throw Zn.create("no-options");const a=Ia.get(o);if(a){if(xc(n,a.options)&&xc(r,a.config))return a;throw Zn.create("duplicate-app",{appName:o})}const u=new XC(o);for(const d of Lc.values())u.addComponent(d);const h=new GE(n,r,u);return Ia.set(o,h),h}function YE(t=Ic){const e=Ia.get(t);if(!e&&t===Ic&&Yg())return Wh();if(!e)throw Zn.create("no-app",{appName:t});return e}function or(t,e,n){var r;let o=(r=ZE[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yn.warn(h.join(" "));return}La(new Ao(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="firebase-heartbeat-database",QE=1,Do="firebase-heartbeat-store";let Eu=null;function rv(){return Eu||(Eu=hE(qE,QE,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Do)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zn.create("idb-open",{originalErrorMessage:t.message})})),Eu}async function XE(t){try{const n=(await rv()).transaction(Do),r=await n.objectStore(Do).get(ov(t));return await n.done,r}catch(e){if(e instanceof Yo)yn.warn(e.message);else{const n=Zn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yn.warn(n.message)}}}async function $p(t,e){try{const r=(await rv()).transaction(Do,"readwrite");await r.objectStore(Do).put(e,ov(t)),await r.done}catch(n){if(n instanceof Yo)yn.warn(n.message);else{const r=Zn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yn.warn(r.message)}}}function ov(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=1024,eS=30*24*60*60*1e3;class tS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iS(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Gp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const h=new Date(u.date).valueOf();return Date.now()-h<=eS}),this._storage.overwrite(this._heartbeatsCache))}catch(r){yn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Gp(),{heartbeatsToSend:r,unsentEntries:o}=nS(this._heartbeatsCache.heartbeats),a=Pa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return yn.warn(n),""}}}function Gp(){return new Date().toISOString().substring(0,10)}function nS(t,e=JE){const n=[];let r=t.slice();for(const o of t){const a=n.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),Kp(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Kp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class iS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BC()?WC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return $p(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return $p(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Kp(t){return Pa(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(t){La(new Ao("platform-logger",e=>new pE(e),"PRIVATE")),La(new Ao("heartbeat",e=>new tS(e),"PRIVATE")),or(kc,jp,t),or(kc,jp,"esm2017"),or("fire-js","")}rS("");var oS="firebase",sS="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */or(oS,sS,"app");var Yp={};const qp="@firebase/database",Qp="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sv="";function aS(t){sv=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),be(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Oo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return En(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new lS(e)}}catch{}return new uS},pi=av("localStorage"),cS=av("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new tv("@firebase/database"),hS=function(){let t=1;return function(){return t++}}(),lv=function(t){const e=KC(t),n=new GC;n.update(e);const r=n.digest();return zh.encodeByteArray(r)},Qo=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Qo.apply(null,r):typeof r=="object"?e+=be(r):e+=r,e+=" "}return e};let co=null,Xp=!0;const dS=function(t,e){O(!e,"Can't turn on custom loggers persistently."),sr.logLevel=pe.VERBOSE,co=sr.log.bind(sr)},et=function(...t){if(Xp===!0&&(Xp=!1,co===null&&cS.get("logging_enabled")===!0&&dS()),co){const e=Qo.apply(null,t);co(e)}},Xo=function(t){return function(...e){et(t,...e)}},Nc=function(...t){const e="FIREBASE INTERNAL ERROR: "+Qo(...t);sr.error(e)},wn=function(...t){const e=`FIREBASE FATAL ERROR: ${Qo(...t)}`;throw sr.error(e),new Error(e)},wt=function(...t){const e="FIREBASE WARNING: "+Qo(...t);sr.warn(e)},fS=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&wt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},uv=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},pS=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},mr="[MIN_NAME]",Ei="[MAX_NAME]",Sr=function(t,e){if(t===e)return 0;if(t===mr||e===Ei)return-1;if(e===mr||t===Ei)return 1;{const n=Jp(t),r=Jp(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},_S=function(t,e){return t===e?0:t<e?-1:1},Gr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+be(e))},Uh=function(t){if(typeof t!="object"||t===null)return be(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=be(e[r]),n+=":",n+=Uh(t[e[r]]);return n+="}",n},cv=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let o=0;o<n;o+=e)o+e>n?r.push(t.substring(o,n)):r.push(t.substring(o,o+e));return r};function mt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const hv=function(t){O(!uv(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let o,a,u,h,d;t===0?(a=0,u=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(t)/Math.LN2),r),a=h+r,u=Math.round(t*Math.pow(2,n-h)-Math.pow(2,n))):(a=0,u=Math.round(t/Math.pow(2,1-r-n))));const p=[];for(d=n;d;d-=1)p.push(u%2?1:0),u=Math.floor(u/2);for(d=e;d;d-=1)p.push(a%2?1:0),a=Math.floor(a/2);p.push(o?1:0),p.reverse();const v=p.join("");let m="";for(d=0;d<64;d+=8){let g=parseInt(v.substr(d,8),2).toString(16);g.length===1&&(g="0"+g),m=m+g}return m.toLowerCase()},mS=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},gS=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function vS(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const yS=new RegExp("^-?(0*)\\d{1,10}$"),wS=-2147483648,CS=2147483647,Jp=function(t){if(yS.test(t)){const e=Number(t);if(e>=wS&&e<=CS)return e}return null},Jo=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw wt("Exception was thrown by user callback.",n),e},Math.floor(0))}},ES=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ho=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){wt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(et("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wt(e)}}class ta{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ta.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh="5",dv="v",fv="s",pv="r",_v="f",mv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gv="ls",vv="p",Mc="ac",yv="websocket",wv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n,r,o,a=!1,u="",h=!1,d=!1){this.secure=n,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=a,this.persistenceKey=u,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=pi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&pi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function TS(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Ev(t,e,n){O(typeof e=="string","typeof type must == string"),O(typeof n=="object","typeof params must == object");let r;if(e===yv)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===wv)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);TS(t)&&(n.ns=t.namespace);const o=[];return mt(n,(a,u)=>{o.push(a+"="+u)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(){this.counters_={}}incrementCounter(e,n=1){En(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return IC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su={},xu={};function Zh(t){const e=t.toString();return Su[e]||(Su[e]=new PS),Su[e]}function kS(t,e){const n=t.toString();return xu[n]||(xu[n]=e()),xu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&Jo(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="start",LS="close",NS="pLPCommand",MS="pRTLPCB",Sv="id",xv="pw",Tv="ser",RS="cb",OS="seg",AS="ts",DS="d",bS="dframe",Pv=1870,kv=30,zS=Pv-kv,FS=25e3,BS=3e4;class Qi{constructor(e,n,r,o,a,u,h){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=o,this.authToken=a,this.transportSessionId=u,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Xo(e),this.stats_=Zh(n),this.urlFn=d=>(this.appCheckToken&&(d[Mc]=this.appCheckToken),Ev(n,wv,d))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new IS(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(BS)),pS(()=>{if(this.isClosed_)return;this.scriptTagHolder=new jh((...a)=>{const[u,h,d,p,v]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===e_)this.id=h,this.password=d;else if(u===LS)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...a)=>{const[u,h]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(u,h)},()=>{this.onClosed_()},this.urlFn);const r={};r[e_]="t",r[Tv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[RS]=this.scriptTagHolder.uniqueCallbackIdentifier),r[dv]=Hh,this.transportSessionId&&(r[fv]=this.transportSessionId),this.lastSessionId&&(r[gv]=this.lastSessionId),this.applicationId&&(r[vv]=this.applicationId),this.appCheckToken&&(r[Mc]=this.appCheckToken),typeof location<"u"&&location.hostname&&mv.test(location.hostname)&&(r[pv]=_v);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Qi.forceAllow_=!0}static forceDisallow(){Qi.forceDisallow_=!0}static isAvailable(){return Qi.forceAllow_?!0:!Qi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!mS()&&!gS()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=be(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=$g(n),o=cv(r,zS);for(let a=0;a<o.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[a]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[bS]="t",r[Sv]=e,r[xv]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=be(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class jh{constructor(e,n,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=hS(),window[NS+this.uniqueCallbackIdentifier]=e,window[MS+this.uniqueCallbackIdentifier]=n,this.myIFrame=jh.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(h){et("frame writing exception"),h.stack&&et(h.stack),et(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||et("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Sv]=this.myID,e[xv]=this.myPW,e[Tv]=this.currentSerial;let n=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+kv+r.length<=Pv;){const u=this.pendingSegs.shift();r=r+"&"+OS+o+"="+u.seg+"&"+AS+o+"="+u.ts+"&"+DS+o+"="+u.d,o++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(r,Math.floor(FS)),a=()=>{clearTimeout(o),r()};this.addTag(e,a)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{et("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=16384,US=45e3;let Na=null;typeof MozWebSocket<"u"?Na=MozWebSocket:typeof WebSocket<"u"&&(Na=WebSocket);class Wt{constructor(e,n,r,o,a,u,h){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Xo(this.connId),this.stats_=Zh(n),this.connURL=Wt.connectionURL_(n,u,h,o,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,o,a){const u={};return u[dv]=Hh,typeof location<"u"&&location.hostname&&mv.test(location.hostname)&&(u[pv]=_v),n&&(u[fv]=n),r&&(u[gv]=r),o&&(u[Mc]=o),a&&(u[vv]=a),Ev(e,yv,u)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,pi.set("previous_websocket_failure",!0);try{let r;Qg(),this.mySock=new Na(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Wt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Na!==null&&!Wt.forceDisallow_}static previouslyFailed(){return pi.isInMemoryStorage||pi.get("previous_websocket_failure")===!0}markConnectionHealthy(){pi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Oo(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(O(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=be(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=cv(n,WS);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(US))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Wt.responsesRequiredToBeHealthy=2;Wt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{static get ALL_TRANSPORTS(){return[Qi,Wt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Wt&&Wt.isAvailable();let r=n&&!Wt.previouslyFailed();if(e.webSocketOnly&&(n||wt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Wt];else{const o=this.transports_=[];for(const a of bo.ALL_TRANSPORTS)a&&a.isAvailable()&&o.push(a);bo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}bo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=6e4,ZS=5e3,jS=10*1024,VS=100*1024,Tu="t",t_="d",$S="s",n_="r",GS="e",i_="o",r_="a",o_="n",s_="p",KS="h";class YS{constructor(e,n,r,o,a,u,h,d,p,v){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=a,this.onMessage_=u,this.onReady_=h,this.onDisconnect_=d,this.onKill_=p,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Xo("c:"+this.id+":"),this.transportManager_=new bo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=ho(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>VS?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>jS?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Tu in e){const n=e[Tu];n===r_?this.upgradeIfSecondaryHealthy_():n===n_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===i_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Gr("t",e),r=Gr("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:s_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:r_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:o_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Gr("t",e),r=Gr("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Gr(Tu,e);if(t_ in e){const r=e[t_];if(n===KS){const o=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===o_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===$S?this.onConnectionShutdown_(r):n===n_?this.onReset_(r):n===GS?Nc("Server Error: "+r):n===i_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Nc("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Hh!==r&&wt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ho(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(HS))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ho(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(ZS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:s_,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(pi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{put(e,n,r,o){}merge(e,n,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e){this.allowedEvents_=e,this.listeners_={},O(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const o=this.getInitialEvent(e);o&&n.apply(r,o)}off(e,n,r){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let a=0;a<o.length;a++)if(o[a].callback===n&&(!r||r===o[a].context)){o.splice(a,1);return}}validateEventType_(e){O(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends Lv{static getInstance(){return new Ma}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!qg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return O(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=32,l_=768;class he{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function le(){return new he("")}function te(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Kn(t){return t.pieces_.length-t.pieceNum_}function _e(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new he(t.pieces_,e)}function Nv(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function qS(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Mv(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Rv(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new he(e,0)}function ze(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof he)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&n.push(r[o])}return new he(n,0)}function J(t){return t.pieceNum_>=t.pieces_.length}function rt(t,e){const n=te(t),r=te(e);if(n===null)return e;if(n===r)return rt(_e(t),_e(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Ov(t,e){if(Kn(t)!==Kn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ut(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Kn(t)>Kn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class QS{constructor(e,n){this.errorPrefix_=n,this.parts_=Mv(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=rl(this.parts_[r]);Av(this)}}function XS(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=rl(e),Av(t)}function JS(t){const e=t.parts_.pop();t.byteLength_-=rl(e),t.parts_.length>0&&(t.byteLength_-=1)}function Av(t){if(t.byteLength_>l_)throw new Error(t.errorPrefix_+"has a key path longer than "+l_+" bytes ("+t.byteLength_+").");if(t.parts_.length>a_)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+a_+") or object contains a cycle "+ci(t))}function ci(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends Lv{static getInstance(){return new Vh}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return O(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=1e3,ex=60*5*1e3,u_=30*1e3,tx=1.3,nx=3e4,ix="server_kill",c_=3;class pn extends Iv{constructor(e,n,r,o,a,u,h,d){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=a,this.authTokenProvider_=u,this.appCheckTokenProvider_=h,this.authOverride_=d,this.id=pn.nextPersistentConnectionId_++,this.log_=Xo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Kr,this.maxReconnectDelay_=ex,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d&&!Qg())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Vh.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ma.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const o=++this.requestNumber_,a={r:o,a:e,b:n};this.log_(be(a)),O(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const n=new Fh,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const h=u.d;u.s==="ok"?n.resolve(h):n.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(e,n,r,o){this.initConnection_();const a=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+a),this.listens.has(u)||this.listens.set(u,new Map),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),O(!this.listens.get(u).has(a),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:n,query:e,tag:r};this.listens.get(u).set(a,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+r+" for "+o);const a={p:r},u="q";e.tag&&(a.q=n._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(u,a,h=>{const d=h.d,p=h.s;pn.warnOnListenWarnings_(d,n),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",h),p!=="ok"&&this.removeListen_(r,o),e.onComplete&&e.onComplete(p,d))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&En(e,"w")){const r=_r(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();wt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||VC(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=u_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=jC(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,o=>{const a=o.s,u=o.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,n)}sendUnlisten_(e,n,r,o){this.log_("Unlisten on "+e+" for "+n);const a={p:e},u="n";o&&(a.q=r,a.t=o),this.sendRequest(u,a)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,o){const a={p:n,d:r};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,u=>{o&&setTimeout(()=>{o(u.s,u.d)},Math.floor(0))})}put(e,n,r,o){this.putInternal("p",e,n,r,o)}merge(e,n,r,o){this.putInternal("m",e,n,r,o)}putInternal(e,n,r,o,a){this.initConnection_();const u={p:n,d:r};a!==void 0&&(u.h=a),this.outstandingPuts_.push({action:e,request:u,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(a.s,a.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const a=r.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+be(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Nc("Unrecognized action received from server: "+be(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){O(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Kr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Kr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>nx&&(this.reconnectDelay_=Kr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*tx)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+pn.nextConnectionId_++,a=this.lastSessionId;let u=!1,h=null;const d=function(){h?h.close():(u=!0,r())},p=function(m){O(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(m)};this.realtime_={close:d,sendRequest:p};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[m,g]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);u?et("getToken() completed but was canceled"):(et("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=g&&g.token,h=new YS(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,x=>{wt(x+" ("+this.repoInfo_.toString()+")"),this.interrupt(ix)},a))}catch(m){this.log_("Failed to get token: "+m),u||(this.repoInfo_.nodeAdmin&&wt(m),d())}}}interrupt(e){et("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){et("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Bp(this.interruptReasons_)&&(this.reconnectDelay_=Kr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(a=>Uh(a)).join("$"):r="default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const r=new he(e).toString();let o;if(this.listens.has(r)){const a=this.listens.get(r);o=a.get(n),a.delete(n),a.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,n){et("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=c_&&(this.reconnectDelay_=u_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){et("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=c_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+sv.replace(/\./g,"-")]=1,qg()?e["framework.cordova"]=1:FC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ma.getInstance().currentlyOnline();return Bp(this.interruptReasons_)&&e}}pn.nextPersistentConnectionId_=0;pn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new X(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new X(mr,e),o=new X(mr,n);return this.compare(r,o)!==0}minPost(){return X.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Us;class Dv extends ol{static get __EMPTY_NODE(){return Us}static set __EMPTY_NODE(e){Us=e}compare(e,n){return Sr(e.name,n.name)}isDefinedOn(e){throw Er("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return X.MIN}maxPost(){return new X(Ei,Us)}makePost(e,n){return O(typeof e=="string","KeyIndex indexValue must always be a string."),new X(e,Us)}toString(){return".key"}}const ar=new Dv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n,r,o,a=null){this.isReverse_=o,this.resultGenerator_=a,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=n?r(e.key,n):1,o&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ze{constructor(e,n,r,o,a){this.key=e,this.value=n,this.color=r??Ze.RED,this.left=o??dt.EMPTY_NODE,this.right=a??dt.EMPTY_NODE}copy(e,n,r,o,a){return new Ze(e??this.key,n??this.value,r??this.color,o??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const a=r(e,o.key);return a<0?o=o.copy(null,null,null,o.left.insert(e,n,r),null):a===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return dt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,o;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return dt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ze.RED=!0;Ze.BLACK=!1;class rx{copy(e,n,r,o,a){return this}insert(e,n,r){return new Ze(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class dt{constructor(e,n=dt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new dt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ze.BLACK,null,null))}remove(e){return new dt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ze.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,o=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Hs(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Hs(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Hs(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Hs(this.root_,null,this.comparator_,!0,e)}}dt.EMPTY_NODE=new rx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(t,e){return Sr(t.name,e.name)}function $h(t,e){return Sr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc;function sx(t){Rc=t}const bv=function(t){return typeof t=="number"?"number:"+hv(t):"string:"+t},zv=function(t){if(t.isLeafNode()){const e=t.val();O(typeof e=="string"||typeof e=="number"||typeof e=="object"&&En(e,".sv"),"Priority must be a string or number.")}else O(t===Rc||t.isEmpty(),"priority of unexpected type.");O(t===Rc||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h_;class Ue{static set __childrenNodeConstructor(e){h_=e}static get __childrenNodeConstructor(){return h_}constructor(e,n=Ue.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,O(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),zv(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ue(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ue.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return J(e)?this:te(e)===".priority"?this.priorityNode_:Ue.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ue.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=te(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(O(r!==".priority"||Kn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ue.__childrenNodeConstructor.EMPTY_NODE.updateChild(_e(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+bv(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=hv(this.value_):e+=this.value_,this.lazyHash_=lv(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ue.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ue.__childrenNodeConstructor?-1:(O(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,o=Ue.VALUE_TYPE_ORDER.indexOf(n),a=Ue.VALUE_TYPE_ORDER.indexOf(r);return O(o>=0,"Unknown leaf type: "+n),O(a>=0,"Unknown leaf type: "+r),o===a?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ue.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fv,Bv;function ax(t){Fv=t}function lx(t){Bv=t}class ux extends ol{compare(e,n){const r=e.node.getPriority(),o=n.node.getPriority(),a=r.compareTo(o);return a===0?Sr(e.name,n.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return X.MIN}maxPost(){return new X(Ei,new Ue("[PRIORITY-POST]",Bv))}makePost(e,n){const r=Fv(e);return new X(n,new Ue("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ie=new ux;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=Math.log(2);class hx{constructor(e){const n=a=>parseInt(Math.log(a)/cx,10),r=a=>parseInt(Array(a+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=r(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ra=function(t,e,n,r){t.sort(e);const o=function(d,p){const v=p-d;let m,g;if(v===0)return null;if(v===1)return m=t[d],g=n?n(m):m,new Ze(g,m.node,Ze.BLACK,null,null);{const x=parseInt(v/2,10)+d,P=o(d,x),k=o(x+1,p);return m=t[x],g=n?n(m):m,new Ze(g,m.node,Ze.BLACK,P,k)}},a=function(d){let p=null,v=null,m=t.length;const g=function(P,k){const j=m-P,C=m;m-=P;const w=o(j+1,C),E=t[j],M=n?n(E):E;x(new Ze(M,E.node,k,null,w))},x=function(P){p?(p.left=P,p=P):(v=P,p=P)};for(let P=0;P<d.count;++P){const k=d.nextBitIsOne(),j=Math.pow(2,d.count-(P+1));k?g(j,Ze.BLACK):(g(j,Ze.BLACK),g(j,Ze.RED))}return v},u=new hx(t.length),h=a(u);return new dt(r||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pu;const Fi={};class dn{static get Default(){return O(Fi&&Ie,"ChildrenNode.ts has not been loaded"),Pu=Pu||new dn({".priority":Fi},{".priority":Ie}),Pu}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=_r(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof dt?n:null}hasIndex(e){return En(this.indexSet_,e.toString())}addIndex(e,n){O(e!==ar,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const a=n.getIterator(X.Wrap);let u=a.getNext();for(;u;)o=o||e.isDefinedOn(u.node),r.push(u),u=a.getNext();let h;o?h=Ra(r,e.getCompare()):h=Fi;const d=e.toString(),p=Object.assign({},this.indexSet_);p[d]=e;const v=Object.assign({},this.indexes_);return v[d]=h,new dn(v,p)}addToIndexes(e,n){const r=ka(this.indexes_,(o,a)=>{const u=_r(this.indexSet_,a);if(O(u,"Missing index implementation for "+a),o===Fi)if(u.isDefinedOn(e.node)){const h=[],d=n.getIterator(X.Wrap);let p=d.getNext();for(;p;)p.name!==e.name&&h.push(p),p=d.getNext();return h.push(e),Ra(h,u.getCompare())}else return Fi;else{const h=n.get(e.name);let d=o;return h&&(d=d.remove(new X(e.name,h))),d.insert(e,e.node)}});return new dn(r,this.indexSet_)}removeFromIndexes(e,n){const r=ka(this.indexes_,o=>{if(o===Fi)return o;{const a=n.get(e.name);return a?o.remove(new X(e.name,a)):o}});return new dn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yr;class Z{static get EMPTY_NODE(){return Yr||(Yr=new Z(new dt($h),null,dn.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&zv(this.priorityNode_),this.children_.isEmpty()&&O(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Yr}updatePriority(e){return this.children_.isEmpty()?this:new Z(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Yr:n}}getChild(e){const n=te(e);return n===null?this:this.getImmediateChild(n).getChild(_e(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(O(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new X(e,n);let o,a;n.isEmpty()?(o=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(r,this.children_));const u=o.isEmpty()?Yr:this.priorityNode_;return new Z(o,u,a)}}updateChild(e,n){const r=te(e);if(r===null)return n;{O(te(e)!==".priority"||Kn(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(_e(e),n);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,o=0,a=!0;if(this.forEachChild(Ie,(u,h)=>{n[u]=h.val(e),r++,a&&Z.INTEGER_REGEXP_.test(u)?o=Math.max(o,Number(u)):a=!1}),!e&&a&&o<2*r){const u=[];for(const h in n)u[h]=n[h];return u}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+bv(this.getPriority().val())+":"),this.forEachChild(Ie,(n,r)=>{const o=r.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":lv(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const o=this.resolveIndex_(r);if(o){const a=o.getPredecessorKey(new X(e,n));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new X(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new X(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,X.Wrap);let a=o.peek();for(;a!=null&&n.compare(a,e)<0;)o.getNext(),a=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,X.Wrap);let a=o.peek();for(;a!=null&&n.compare(a,e)>0;)o.getNext(),a=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===es?-1:0}withIndex(e){if(e===ar||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Z(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ar||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ie),o=n.getIterator(Ie);let a=r.getNext(),u=o.getNext();for(;a&&u;){if(a.name!==u.name||!a.node.equals(u.node))return!1;a=r.getNext(),u=o.getNext()}return a===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===ar?null:this.indexMap_.get(e.toString())}}Z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class dx extends Z{constructor(){super(new dt($h),Z.EMPTY_NODE,dn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Z.EMPTY_NODE}isEmpty(){return!1}}const es=new dx;Object.defineProperties(X,{MIN:{value:new X(mr,Z.EMPTY_NODE)},MAX:{value:new X(Ei,es)}});Dv.__EMPTY_NODE=Z.EMPTY_NODE;Ue.__childrenNodeConstructor=Z;sx(es);lx(es);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=!0;function Ke(t,e=null){if(t===null)return Z.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),O(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ue(n,Ke(e))}if(!(t instanceof Array)&&fx){const n=[];let r=!1;if(mt(t,(u,h)=>{if(u.substring(0,1)!=="."){const d=Ke(h);d.isEmpty()||(r=r||!d.getPriority().isEmpty(),n.push(new X(u,d)))}}),n.length===0)return Z.EMPTY_NODE;const a=Ra(n,ox,u=>u.name,$h);if(r){const u=Ra(n,Ie.getCompare());return new Z(a,Ke(e),new dn({".priority":u},{".priority":Ie}))}else return new Z(a,Ke(e),dn.Default)}else{let n=Z.EMPTY_NODE;return mt(t,(r,o)=>{if(En(t,r)&&r.substring(0,1)!=="."){const a=Ke(o);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(r,a))}}),n.updatePriority(Ke(e))}}ax(Ke);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px extends ol{constructor(e){super(),this.indexPath_=e,O(!J(e)&&te(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),o=this.extractChild(n.node),a=r.compareTo(o);return a===0?Sr(e.name,n.name):a}makePost(e,n){const r=Ke(e),o=Z.EMPTY_NODE.updateChild(this.indexPath_,r);return new X(n,o)}maxPost(){const e=Z.EMPTY_NODE.updateChild(this.indexPath_,es);return new X(Ei,e)}toString(){return Mv(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x extends ol{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Sr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return X.MIN}maxPost(){return X.MAX}makePost(e,n){const r=Ke(e);return new X(n,r)}toString(){return".value"}}const mx=new _x;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(t){return{type:"value",snapshotNode:t}}function gr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function zo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Fo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function gx(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this.index_=e}updateChild(e,n,r,o,a,u){O(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(n);return h.getChild(o).equals(r.getChild(o))&&h.isEmpty()===r.isEmpty()||(u!=null&&(r.isEmpty()?e.hasChild(n)?u.trackChildChange(zo(n,h)):O(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?u.trackChildChange(gr(n,r)):u.trackChildChange(Fo(n,r,h))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ie,(o,a)=>{n.hasChild(o)||r.trackChildChange(zo(o,a))}),n.isLeafNode()||n.forEachChild(Ie,(o,a)=>{if(e.hasChild(o)){const u=e.getImmediateChild(o);u.equals(a)||r.trackChildChange(Fo(o,a,u))}else r.trackChildChange(gr(o,a))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Z.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.indexedFilter_=new Gh(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Bo.getStartPost_(e),this.endPost_=Bo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,o,a,u){return this.matches(new X(n,r))||(r=Z.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,o,a,u)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Z.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(Z.EMPTY_NODE);const a=this;return n.forEachChild(Ie,(u,h)=>{a.matches(new X(u,h))||(o=o.updateImmediateChild(u,Z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Bo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,o,a,u){return this.rangedFilter_.matches(new X(n,r))||(r=Z.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,o,a,u):this.fullLimitUpdateChild_(e,n,r,a,u)}updateFullNode(e,n,r){let o;if(n.isLeafNode()||n.isEmpty())o=Z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=Z.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;a.hasNext()&&u<this.limit_;){const h=a.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))o=o.updateImmediateChild(h.name,h.node),u++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(Z.EMPTY_NODE);let a;this.reverse_?a=o.getReverseIterator(this.index_):a=o.getIterator(this.index_);let u=0;for(;a.hasNext();){const h=a.getNext();u<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?u++:o=o.updateImmediateChild(h.name,Z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,o,a){let u;if(this.reverse_){const m=this.index_.getCompare();u=(g,x)=>m(x,g)}else u=this.index_.getCompare();const h=e;O(h.numChildren()===this.limit_,"");const d=new X(n,r),p=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),v=this.rangedFilter_.matches(d);if(h.hasChild(n)){const m=h.getImmediateChild(n);let g=o.getChildAfterChild(this.index_,p,this.reverse_);for(;g!=null&&(g.name===n||h.hasChild(g.name));)g=o.getChildAfterChild(this.index_,g,this.reverse_);const x=g==null?1:u(g,d);if(v&&!r.isEmpty()&&x>=0)return a!=null&&a.trackChildChange(Fo(n,r,m)),h.updateImmediateChild(n,r);{a!=null&&a.trackChildChange(zo(n,m));const k=h.updateImmediateChild(n,Z.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(a!=null&&a.trackChildChange(gr(g.name,g.node)),k.updateImmediateChild(g.name,g.node)):k}}else return r.isEmpty()?e:v&&u(p,d)>=0?(a!=null&&(a.trackChildChange(zo(p.name,p.node)),a.trackChildChange(gr(n,r))),h.updateImmediateChild(n,r).updateImmediateChild(p.name,Z.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ie}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return O(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return O(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:mr}hasEnd(){return this.endSet_}getIndexEndValue(){return O(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return O(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ei}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return O(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ie}copy(){const e=new Kh;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function yx(t){return t.loadsAllData()?new Gh(t.getIndex()):t.hasLimit()?new vx(t):new Bo(t)}function d_(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ie?n="$priority":t.index_===mx?n="$value":t.index_===ar?n="$key":(O(t.index_ instanceof px,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=be(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=be(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+be(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=be(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+be(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function f_(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ie&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends Iv{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(O(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=Xo("p:rest:"),this.listens_={}}listen(e,n,r,o){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const u=Oa.getListenId_(e,r),h={};this.listens_[u]=h;const d=d_(e._queryParams);this.restRequest_(a+".json",d,(p,v)=>{let m=v;if(p===404&&(m=null,p=null),p===null&&this.onDataUpdate_(a,m,!1,r),_r(this.listens_,u)===h){let g;p?p===401?g="permission_denied":g="rest_error:"+p:g="ok",o(g,null)}})}unlisten(e,n){const r=Oa.getListenId_(e,n);delete this.listens_[r]}get(e){const n=d_(e._queryParams),r=e._path.toString(),o=new Fh;return this.restRequest_(r+".json",n,(a,u)=>{let h=u;a===404&&(h=null,a=null),a===null?(this.onDataUpdate_(r,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,a])=>{o&&o.accessToken&&(n.auth=o.accessToken),a&&a.token&&(n.ac=a.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+$C(n);this.log_("Sending REST request for "+u);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&h.readyState===4){this.log_("REST Response for "+u+" received. status:",h.status,"response:",h.responseText);let d=null;if(h.status>=200&&h.status<300){try{d=Oo(h.responseText)}catch{wt("Failed to parse JSON response for "+u+": "+h.responseText)}r(null,d)}else h.status!==401&&h.status!==404&&wt("Got unsuccessful REST response for "+u+" Status: "+h.status),r(h.status);r=null}},h.open("GET",u,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this.rootNode_=Z.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(){return{value:null,children:new Map}}function Uv(t,e,n){if(J(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=te(e);t.children.has(r)||t.children.set(r,Aa());const o=t.children.get(r);e=_e(e),Uv(o,e,n)}}function Oc(t,e,n){t.value!==null?n(e,t.value):Cx(t,(r,o)=>{const a=new he(e.toString()+"/"+r);Oc(o,a,n)})}function Cx(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&mt(this.last_,(r,o)=>{n[r]=n[r]-o}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=10*1e3,Sx=30*1e3,xx=5*60*1e3;class Tx{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Ex(e);const r=p_+(Sx-p_)*Math.random();ho(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;mt(e,(o,a)=>{a>0&&En(this.statsToReport_,o)&&(n[o]=a,r=!0)}),r&&this.server_.reportStats(n),ho(this.reportStats_.bind(this),Math.floor(Math.random()*2*xx))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ht||(Ht={}));function Hv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Yh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function qh(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ht.ACK_USER_WRITE,this.source=Hv()}operationForChild(e){if(J(this.path)){if(this.affectedTree.value!=null)return O(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new he(e));return new Da(le(),n,this.revert)}}else return O(te(this.path)===e,"operationForChild called for unrelated child."),new Da(_e(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n){this.source=e,this.path=n,this.type=Ht.LISTEN_COMPLETE}operationForChild(e){return J(this.path)?new Wo(this.source,le()):new Wo(this.source,_e(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ht.OVERWRITE}operationForChild(e){return J(this.path)?new Si(this.source,le(),this.snap.getImmediateChild(e)):new Si(this.source,_e(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ht.MERGE}operationForChild(e){if(J(this.path)){const n=this.children.subtree(new he(e));return n.isEmpty()?null:n.value?new Si(this.source,le(),n.value):new Uo(this.source,le(),n)}else return O(te(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Uo(this.source,_e(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(J(e))return this.isFullyInitialized()&&!this.filtered_;const n=te(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function kx(t,e,n,r){const o=[],a=[];return e.forEach(u=>{u.type==="child_changed"&&t.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&a.push(gx(u.childName,u.snapshotNode))}),qr(t,o,"child_removed",e,r,n),qr(t,o,"child_added",e,r,n),qr(t,o,"child_moved",a,r,n),qr(t,o,"child_changed",e,r,n),qr(t,o,"value",e,r,n),o}function qr(t,e,n,r,o,a){const u=r.filter(h=>h.type===n);u.sort((h,d)=>Lx(t,h,d)),u.forEach(h=>{const d=Ix(t,h,a);o.forEach(p=>{p.respondsTo(h.type)&&e.push(p.createEvent(d,t.query_))})})}function Ix(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Lx(t,e,n){if(e.childName==null||n.childName==null)throw Er("Should only compare child_ events.");const r=new X(e.childName,e.snapshotNode),o=new X(n.childName,n.snapshotNode);return t.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(t,e){return{eventCache:t,serverCache:e}}function fo(t,e,n,r){return sl(new Yn(e,n,r),t.serverCache)}function Zv(t,e,n,r){return sl(t.eventCache,new Yn(e,n,r))}function ba(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function xi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ku;const Nx=()=>(ku||(ku=new dt(_S)),ku);class ye{static fromObject(e){let n=new ye(null);return mt(e,(r,o)=>{n=n.set(new he(r),o)}),n}constructor(e,n=Nx()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:le(),value:this.value};if(J(e))return null;{const r=te(e),o=this.children.get(r);if(o!==null){const a=o.findRootMostMatchingPathAndValue(_e(e),n);return a!=null?{path:ze(new he(r),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(J(e))return this;{const n=te(e),r=this.children.get(n);return r!==null?r.subtree(_e(e)):new ye(null)}}set(e,n){if(J(e))return new ye(n,this.children);{const r=te(e),a=(this.children.get(r)||new ye(null)).set(_e(e),n),u=this.children.insert(r,a);return new ye(this.value,u)}}remove(e){if(J(e))return this.children.isEmpty()?new ye(null):new ye(null,this.children);{const n=te(e),r=this.children.get(n);if(r){const o=r.remove(_e(e));let a;return o.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,o),this.value===null&&a.isEmpty()?new ye(null):new ye(this.value,a)}else return this}}get(e){if(J(e))return this.value;{const n=te(e),r=this.children.get(n);return r?r.get(_e(e)):null}}setTree(e,n){if(J(e))return n;{const r=te(e),a=(this.children.get(r)||new ye(null)).setTree(_e(e),n);let u;return a.isEmpty()?u=this.children.remove(r):u=this.children.insert(r,a),new ye(this.value,u)}}fold(e){return this.fold_(le(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((o,a)=>{r[o]=a.fold_(ze(e,o),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,le(),n)}findOnPath_(e,n,r){const o=this.value?r(n,this.value):!1;if(o)return o;if(J(e))return null;{const a=te(e),u=this.children.get(a);return u?u.findOnPath_(_e(e),ze(n,a),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,le(),n)}foreachOnPath_(e,n,r){if(J(e))return this;{this.value&&r(n,this.value);const o=te(e),a=this.children.get(o);return a?a.foreachOnPath_(_e(e),ze(n,o),r):new ye(null)}}foreach(e){this.foreach_(le(),e)}foreach_(e,n){this.children.inorderTraversal((r,o)=>{o.foreach_(ze(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.writeTree_=e}static empty(){return new Vt(new ye(null))}}function po(t,e,n){if(J(e))return new Vt(new ye(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const o=r.path;let a=r.value;const u=rt(o,e);return a=a.updateChild(u,n),new Vt(t.writeTree_.set(o,a))}else{const o=new ye(n),a=t.writeTree_.setTree(e,o);return new Vt(a)}}}function __(t,e,n){let r=t;return mt(n,(o,a)=>{r=po(r,ze(e,o),a)}),r}function m_(t,e){if(J(e))return Vt.empty();{const n=t.writeTree_.setTree(e,new ye(null));return new Vt(n)}}function Ac(t,e){return ki(t,e)!=null}function ki(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(rt(n.path,e)):null}function g_(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ie,(r,o)=>{e.push(new X(r,o))}):t.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&e.push(new X(r,o.value))}),e}function jn(t,e){if(J(e))return t;{const n=ki(t,e);return n!=null?new Vt(new ye(n)):new Vt(t.writeTree_.subtree(e))}}function Dc(t){return t.writeTree_.isEmpty()}function vr(t,e){return jv(le(),t.writeTree_,e)}function jv(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((o,a)=>{o===".priority"?(O(a.value!==null,"Priority writes must always be leaf nodes"),r=a.value):n=jv(ze(t,o),a,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ze(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(t,e){return Kv(e,t)}function Mx(t,e,n,r,o){O(r>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:o}),o&&(t.visibleWrites=po(t.visibleWrites,e,n)),t.lastWriteId=r}function Rx(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Ox(t,e){const n=t.allWrites.findIndex(h=>h.writeId===e);O(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let o=r.visible,a=!1,u=t.allWrites.length-1;for(;o&&u>=0;){const h=t.allWrites[u];h.visible&&(u>=n&&Ax(h,r.path)?o=!1:Ut(r.path,h.path)&&(a=!0)),u--}if(o){if(a)return Dx(t),!0;if(r.snap)t.visibleWrites=m_(t.visibleWrites,r.path);else{const h=r.children;mt(h,d=>{t.visibleWrites=m_(t.visibleWrites,ze(r.path,d))})}return!0}else return!1}function Ax(t,e){if(t.snap)return Ut(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ut(ze(t.path,n),e))return!0;return!1}function Dx(t){t.visibleWrites=Vv(t.allWrites,bx,le()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function bx(t){return t.visible}function Vv(t,e,n){let r=Vt.empty();for(let o=0;o<t.length;++o){const a=t[o];if(e(a)){const u=a.path;let h;if(a.snap)Ut(n,u)?(h=rt(n,u),r=po(r,h,a.snap)):Ut(u,n)&&(h=rt(u,n),r=po(r,le(),a.snap.getChild(h)));else if(a.children){if(Ut(n,u))h=rt(n,u),r=__(r,h,a.children);else if(Ut(u,n))if(h=rt(u,n),J(h))r=__(r,le(),a.children);else{const d=_r(a.children,te(h));if(d){const p=d.getChild(_e(h));r=po(r,le(),p)}}}else throw Er("WriteRecord should have .snap or .children")}}return r}function $v(t,e,n,r,o){if(!r&&!o){const a=ki(t.visibleWrites,e);if(a!=null)return a;{const u=jn(t.visibleWrites,e);if(Dc(u))return n;if(n==null&&!Ac(u,le()))return null;{const h=n||Z.EMPTY_NODE;return vr(u,h)}}}else{const a=jn(t.visibleWrites,e);if(!o&&Dc(a))return n;if(!o&&n==null&&!Ac(a,le()))return null;{const u=function(p){return(p.visible||o)&&(!r||!~r.indexOf(p.writeId))&&(Ut(p.path,e)||Ut(e,p.path))},h=Vv(t.allWrites,u,e),d=n||Z.EMPTY_NODE;return vr(h,d)}}}function zx(t,e,n){let r=Z.EMPTY_NODE;const o=ki(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Ie,(a,u)=>{r=r.updateImmediateChild(a,u)}),r;if(n){const a=jn(t.visibleWrites,e);return n.forEachChild(Ie,(u,h)=>{const d=vr(jn(a,new he(u)),h);r=r.updateImmediateChild(u,d)}),g_(a).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}else{const a=jn(t.visibleWrites,e);return g_(a).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}}function Fx(t,e,n,r,o){O(r||o,"Either existingEventSnap or existingServerSnap must exist");const a=ze(e,n);if(Ac(t.visibleWrites,a))return null;{const u=jn(t.visibleWrites,a);return Dc(u)?o.getChild(n):vr(u,o.getChild(n))}}function Bx(t,e,n,r){const o=ze(e,n),a=ki(t.visibleWrites,o);if(a!=null)return a;if(r.isCompleteForChild(n)){const u=jn(t.visibleWrites,o);return vr(u,r.getNode().getImmediateChild(n))}else return null}function Wx(t,e){return ki(t.visibleWrites,e)}function Ux(t,e,n,r,o,a,u){let h;const d=jn(t.visibleWrites,e),p=ki(d,le());if(p!=null)h=p;else if(n!=null)h=vr(d,n);else return[];if(h=h.withIndex(u),!h.isEmpty()&&!h.isLeafNode()){const v=[],m=u.getCompare(),g=a?h.getReverseIteratorFrom(r,u):h.getIteratorFrom(r,u);let x=g.getNext();for(;x&&v.length<o;)m(x,r)!==0&&v.push(x),x=g.getNext();return v}else return[]}function Hx(){return{visibleWrites:Vt.empty(),allWrites:[],lastWriteId:-1}}function za(t,e,n,r){return $v(t.writeTree,t.treePath,e,n,r)}function Qh(t,e){return zx(t.writeTree,t.treePath,e)}function v_(t,e,n,r){return Fx(t.writeTree,t.treePath,e,n,r)}function Fa(t,e){return Wx(t.writeTree,ze(t.treePath,e))}function Zx(t,e,n,r,o,a){return Ux(t.writeTree,t.treePath,e,n,r,o,a)}function Xh(t,e,n){return Bx(t.writeTree,t.treePath,e,n)}function Gv(t,e){return Kv(ze(t.treePath,e),t.writeTree)}function Kv(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;O(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),O(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const a=o.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(r,Fo(r,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(r,zo(r,o.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(r,gr(r,e.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(r,Fo(r,e.snapshotNode,o.oldSnap));else throw Er("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Yv=new Vx;class Jh{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Yn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Xh(this.writes_,e,r)}}getChildAfterChild(e,n,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:xi(this.viewCache_),a=Zx(this.writes_,o,n,1,r,e);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(t){return{filter:t}}function Gx(t,e){O(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),O(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Kx(t,e,n,r,o){const a=new jx;let u,h;if(n.type===Ht.OVERWRITE){const p=n;p.source.fromUser?u=bc(t,e,p.path,p.snap,r,o,a):(O(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered()&&!J(p.path),u=Ba(t,e,p.path,p.snap,r,o,h,a))}else if(n.type===Ht.MERGE){const p=n;p.source.fromUser?u=qx(t,e,p.path,p.children,r,o,a):(O(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered(),u=zc(t,e,p.path,p.children,r,o,h,a))}else if(n.type===Ht.ACK_USER_WRITE){const p=n;p.revert?u=Jx(t,e,p.path,r,o,a):u=Qx(t,e,p.path,p.affectedTree,r,o,a)}else if(n.type===Ht.LISTEN_COMPLETE)u=Xx(t,e,n.path,r,a);else throw Er("Unknown operation type: "+n.type);const d=a.getChanges();return Yx(e,u,d),{viewCache:u,changes:d}}function Yx(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=ba(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(Wv(ba(e)))}}function qv(t,e,n,r,o,a){const u=e.eventCache;if(Fa(r,n)!=null)return e;{let h,d;if(J(n))if(O(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=xi(e),v=p instanceof Z?p:Z.EMPTY_NODE,m=Qh(r,v);h=t.filter.updateFullNode(e.eventCache.getNode(),m,a)}else{const p=za(r,xi(e));h=t.filter.updateFullNode(e.eventCache.getNode(),p,a)}else{const p=te(n);if(p===".priority"){O(Kn(n)===1,"Can't have a priority with additional path components");const v=u.getNode();d=e.serverCache.getNode();const m=v_(r,n,v,d);m!=null?h=t.filter.updatePriority(v,m):h=u.getNode()}else{const v=_e(n);let m;if(u.isCompleteForChild(p)){d=e.serverCache.getNode();const g=v_(r,n,u.getNode(),d);g!=null?m=u.getNode().getImmediateChild(p).updateChild(v,g):m=u.getNode().getImmediateChild(p)}else m=Xh(r,p,e.serverCache);m!=null?h=t.filter.updateChild(u.getNode(),p,m,v,o,a):h=u.getNode()}}return fo(e,h,u.isFullyInitialized()||J(n),t.filter.filtersNodes())}}function Ba(t,e,n,r,o,a,u,h){const d=e.serverCache;let p;const v=u?t.filter:t.filter.getIndexedFilter();if(J(n))p=v.updateFullNode(d.getNode(),r,null);else if(v.filtersNodes()&&!d.isFiltered()){const x=d.getNode().updateChild(n,r);p=v.updateFullNode(d.getNode(),x,null)}else{const x=te(n);if(!d.isCompleteForPath(n)&&Kn(n)>1)return e;const P=_e(n),j=d.getNode().getImmediateChild(x).updateChild(P,r);x===".priority"?p=v.updatePriority(d.getNode(),j):p=v.updateChild(d.getNode(),x,j,P,Yv,null)}const m=Zv(e,p,d.isFullyInitialized()||J(n),v.filtersNodes()),g=new Jh(o,m,a);return qv(t,m,n,o,g,h)}function bc(t,e,n,r,o,a,u){const h=e.eventCache;let d,p;const v=new Jh(o,e,a);if(J(n))p=t.filter.updateFullNode(e.eventCache.getNode(),r,u),d=fo(e,p,!0,t.filter.filtersNodes());else{const m=te(n);if(m===".priority")p=t.filter.updatePriority(e.eventCache.getNode(),r),d=fo(e,p,h.isFullyInitialized(),h.isFiltered());else{const g=_e(n),x=h.getNode().getImmediateChild(m);let P;if(J(g))P=r;else{const k=v.getCompleteChild(m);k!=null?Nv(g)===".priority"&&k.getChild(Rv(g)).isEmpty()?P=k:P=k.updateChild(g,r):P=Z.EMPTY_NODE}if(x.equals(P))d=e;else{const k=t.filter.updateChild(h.getNode(),m,P,g,v,u);d=fo(e,k,h.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function y_(t,e){return t.eventCache.isCompleteForChild(e)}function qx(t,e,n,r,o,a,u){let h=e;return r.foreach((d,p)=>{const v=ze(n,d);y_(e,te(v))&&(h=bc(t,h,v,p,o,a,u))}),r.foreach((d,p)=>{const v=ze(n,d);y_(e,te(v))||(h=bc(t,h,v,p,o,a,u))}),h}function w_(t,e,n){return n.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function zc(t,e,n,r,o,a,u,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,p;J(n)?p=r:p=new ye(null).setTree(n,r);const v=e.serverCache.getNode();return p.children.inorderTraversal((m,g)=>{if(v.hasChild(m)){const x=e.serverCache.getNode().getImmediateChild(m),P=w_(t,x,g);d=Ba(t,d,new he(m),P,o,a,u,h)}}),p.children.inorderTraversal((m,g)=>{const x=!e.serverCache.isCompleteForChild(m)&&g.value===null;if(!v.hasChild(m)&&!x){const P=e.serverCache.getNode().getImmediateChild(m),k=w_(t,P,g);d=Ba(t,d,new he(m),k,o,a,u,h)}}),d}function Qx(t,e,n,r,o,a,u){if(Fa(o,n)!=null)return e;const h=e.serverCache.isFiltered(),d=e.serverCache;if(r.value!=null){if(J(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return Ba(t,e,n,d.getNode().getChild(n),o,a,h,u);if(J(n)){let p=new ye(null);return d.getNode().forEachChild(ar,(v,m)=>{p=p.set(new he(v),m)}),zc(t,e,n,p,o,a,h,u)}else return e}else{let p=new ye(null);return r.foreach((v,m)=>{const g=ze(n,v);d.isCompleteForPath(g)&&(p=p.set(v,d.getNode().getChild(g)))}),zc(t,e,n,p,o,a,h,u)}}function Xx(t,e,n,r,o){const a=e.serverCache,u=Zv(e,a.getNode(),a.isFullyInitialized()||J(n),a.isFiltered());return qv(t,u,n,r,Yv,o)}function Jx(t,e,n,r,o,a){let u;if(Fa(r,n)!=null)return e;{const h=new Jh(r,e,o),d=e.eventCache.getNode();let p;if(J(n)||te(n)===".priority"){let v;if(e.serverCache.isFullyInitialized())v=za(r,xi(e));else{const m=e.serverCache.getNode();O(m instanceof Z,"serverChildren would be complete if leaf node"),v=Qh(r,m)}v=v,p=t.filter.updateFullNode(d,v,a)}else{const v=te(n);let m=Xh(r,v,e.serverCache);m==null&&e.serverCache.isCompleteForChild(v)&&(m=d.getImmediateChild(v)),m!=null?p=t.filter.updateChild(d,v,m,_e(n),h,a):e.eventCache.getNode().hasChild(v)?p=t.filter.updateChild(d,v,Z.EMPTY_NODE,_e(n),h,a):p=d,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=za(r,xi(e)),u.isLeafNode()&&(p=t.filter.updateFullNode(p,u,a)))}return u=e.serverCache.isFullyInitialized()||Fa(r,le())!=null,fo(e,p,u,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Gh(r.getIndex()),a=yx(r);this.processor_=$x(a);const u=n.serverCache,h=n.eventCache,d=o.updateFullNode(Z.EMPTY_NODE,u.getNode(),null),p=a.updateFullNode(Z.EMPTY_NODE,h.getNode(),null),v=new Yn(d,u.isFullyInitialized(),o.filtersNodes()),m=new Yn(p,h.isFullyInitialized(),a.filtersNodes());this.viewCache_=sl(m,v),this.eventGenerator_=new Px(this.query_)}get query(){return this.query_}}function tT(t){return t.viewCache_.serverCache.getNode()}function nT(t){return ba(t.viewCache_)}function iT(t,e){const n=xi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!J(e)&&!n.getImmediateChild(te(e)).isEmpty())?n.getChild(e):null}function C_(t){return t.eventRegistrations_.length===0}function rT(t,e){t.eventRegistrations_.push(e)}function E_(t,e,n){const r=[];if(n){O(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(a=>{const u=a.createCancelEvent(n,o);u&&r.push(u)})}if(e){let o=[];for(let a=0;a<t.eventRegistrations_.length;++a){const u=t.eventRegistrations_[a];if(!u.matches(e))o.push(u);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function S_(t,e,n,r){e.type===Ht.MERGE&&e.source.queryId!==null&&(O(xi(t.viewCache_),"We should always have a full cache before handling merges"),O(ba(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,a=Kx(t.processor_,o,e,n,r);return Gx(t.processor_,a.viewCache),O(a.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,Qv(t,a.changes,a.viewCache.eventCache.getNode(),null)}function oT(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ie,(a,u)=>{r.push(gr(a,u))}),n.isFullyInitialized()&&r.push(Wv(n.getNode())),Qv(t,r,n.getNode(),e)}function Qv(t,e,n,r){const o=r?[r]:t.eventRegistrations_;return kx(t.eventGenerator_,e,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wa;class Xv{constructor(){this.views=new Map}}function sT(t){O(!Wa,"__referenceConstructor has already been defined"),Wa=t}function aT(){return O(Wa,"Reference.ts has not been loaded"),Wa}function lT(t){return t.views.size===0}function ed(t,e,n,r){const o=e.source.queryId;if(o!==null){const a=t.views.get(o);return O(a!=null,"SyncTree gave us an op for an invalid query."),S_(a,e,n,r)}else{let a=[];for(const u of t.views.values())a=a.concat(S_(u,e,n,r));return a}}function Jv(t,e,n,r,o){const a=e._queryIdentifier,u=t.views.get(a);if(!u){let h=za(n,o?r:null),d=!1;h?d=!0:r instanceof Z?(h=Qh(n,r),d=!1):(h=Z.EMPTY_NODE,d=!1);const p=sl(new Yn(h,d,!1),new Yn(r,o,!1));return new eT(e,p)}return u}function uT(t,e,n,r,o,a){const u=Jv(t,e,r,o,a);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,u),rT(u,n),oT(u,n)}function cT(t,e,n,r){const o=e._queryIdentifier,a=[];let u=[];const h=qn(t);if(o==="default")for(const[d,p]of t.views.entries())u=u.concat(E_(p,n,r)),C_(p)&&(t.views.delete(d),p.query._queryParams.loadsAllData()||a.push(p.query));else{const d=t.views.get(o);d&&(u=u.concat(E_(d,n,r)),C_(d)&&(t.views.delete(o),d.query._queryParams.loadsAllData()||a.push(d.query)))}return h&&!qn(t)&&a.push(new(aT())(e._repo,e._path)),{removed:a,events:u}}function ey(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Vn(t,e){let n=null;for(const r of t.views.values())n=n||iT(r,e);return n}function ty(t,e){if(e._queryParams.loadsAllData())return ll(t);{const r=e._queryIdentifier;return t.views.get(r)}}function ny(t,e){return ty(t,e)!=null}function qn(t){return ll(t)!=null}function ll(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ua;function hT(t){O(!Ua,"__referenceConstructor has already been defined"),Ua=t}function dT(){return O(Ua,"Reference.ts has not been loaded"),Ua}let fT=1;class x_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ye(null),this.pendingWriteTree_=Hx(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function pT(t,e,n,r,o){return Mx(t.pendingWriteTree_,e,n,r,o),o?ns(t,new Si(Hv(),e,n)):[]}function Xi(t,e,n=!1){const r=Rx(t.pendingWriteTree_,e);if(Ox(t.pendingWriteTree_,e)){let a=new ye(null);return r.snap!=null?a=a.set(le(),!0):mt(r.children,u=>{a=a.set(new he(u),!0)}),ns(t,new Da(r.path,a,n))}else return[]}function ts(t,e,n){return ns(t,new Si(Yh(),e,n))}function _T(t,e,n){const r=ye.fromObject(n);return ns(t,new Uo(Yh(),e,r))}function mT(t,e){return ns(t,new Wo(Yh(),e))}function gT(t,e,n){const r=td(t,n);if(r){const o=nd(r),a=o.path,u=o.queryId,h=rt(a,e),d=new Wo(qh(u),h);return id(t,a,d)}else return[]}function iy(t,e,n,r,o=!1){const a=e._path,u=t.syncPointTree_.get(a);let h=[];if(u&&(e._queryIdentifier==="default"||ny(u,e))){const d=cT(u,e,n,r);lT(u)&&(t.syncPointTree_=t.syncPointTree_.remove(a));const p=d.removed;if(h=d.events,!o){const v=p.findIndex(g=>g._queryParams.loadsAllData())!==-1,m=t.syncPointTree_.findOnPath(a,(g,x)=>qn(x));if(v&&!m){const g=t.syncPointTree_.subtree(a);if(!g.isEmpty()){const x=CT(g);for(let P=0;P<x.length;++P){const k=x[P],j=k.query,C=ly(t,k);t.listenProvider_.startListening(_o(j),Ho(t,j),C.hashFn,C.onComplete)}}}!m&&p.length>0&&!r&&(v?t.listenProvider_.stopListening(_o(e),null):p.forEach(g=>{const x=t.queryToTagMap.get(ul(g));t.listenProvider_.stopListening(_o(g),x)}))}ET(t,p)}return h}function ry(t,e,n,r){const o=td(t,r);if(o!=null){const a=nd(o),u=a.path,h=a.queryId,d=rt(u,e),p=new Si(qh(h),d,n);return id(t,u,p)}else return[]}function vT(t,e,n,r){const o=td(t,r);if(o){const a=nd(o),u=a.path,h=a.queryId,d=rt(u,e),p=ye.fromObject(n),v=new Uo(qh(h),d,p);return id(t,u,v)}else return[]}function yT(t,e,n,r=!1){const o=e._path;let a=null,u=!1;t.syncPointTree_.foreachOnPath(o,(g,x)=>{const P=rt(g,o);a=a||Vn(x,P),u=u||qn(x)});let h=t.syncPointTree_.get(o);h?(u=u||qn(h),a=a||Vn(h,le())):(h=new Xv,t.syncPointTree_=t.syncPointTree_.set(o,h));let d;a!=null?d=!0:(d=!1,a=Z.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((x,P)=>{const k=Vn(P,le());k&&(a=a.updateImmediateChild(x,k))}));const p=ny(h,e);if(!p&&!e._queryParams.loadsAllData()){const g=ul(e);O(!t.queryToTagMap.has(g),"View does not exist, but we have a tag");const x=ST();t.queryToTagMap.set(g,x),t.tagToQueryMap.set(x,g)}const v=al(t.pendingWriteTree_,o);let m=uT(h,e,n,v,a,d);if(!p&&!u&&!r){const g=ty(h,e);m=m.concat(xT(t,e,g))}return m}function oy(t,e,n){const o=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(e,(u,h)=>{const d=rt(u,e),p=Vn(h,d);if(p)return p});return $v(o,e,a,n,!0)}function wT(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(p,v)=>{const m=rt(p,n);r=r||Vn(v,m)});let o=t.syncPointTree_.get(n);o?r=r||Vn(o,le()):(o=new Xv,t.syncPointTree_=t.syncPointTree_.set(n,o));const a=r!=null,u=a?new Yn(r,!0,!1):null,h=al(t.pendingWriteTree_,e._path),d=Jv(o,e,h,a?u.getNode():Z.EMPTY_NODE,a);return nT(d)}function ns(t,e){return sy(e,t.syncPointTree_,null,al(t.pendingWriteTree_,le()))}function sy(t,e,n,r){if(J(t.path))return ay(t,e,n,r);{const o=e.get(le());n==null&&o!=null&&(n=Vn(o,le()));let a=[];const u=te(t.path),h=t.operationForChild(u),d=e.children.get(u);if(d&&h){const p=n?n.getImmediateChild(u):null,v=Gv(r,u);a=a.concat(sy(h,d,p,v))}return o&&(a=a.concat(ed(o,t,r,n))),a}}function ay(t,e,n,r){const o=e.get(le());n==null&&o!=null&&(n=Vn(o,le()));let a=[];return e.children.inorderTraversal((u,h)=>{const d=n?n.getImmediateChild(u):null,p=Gv(r,u),v=t.operationForChild(u);v&&(a=a.concat(ay(v,h,d,p)))}),o&&(a=a.concat(ed(o,t,r,n))),a}function ly(t,e){const n=e.query,r=Ho(t,n);return{hashFn:()=>(tT(e)||Z.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?gT(t,n._path,r):mT(t,n._path);{const a=vS(o,n);return iy(t,n,null,a)}}}}function Ho(t,e){const n=ul(e);return t.queryToTagMap.get(n)}function ul(t){return t._path.toString()+"$"+t._queryIdentifier}function td(t,e){return t.tagToQueryMap.get(e)}function nd(t){const e=t.indexOf("$");return O(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new he(t.substr(0,e))}}function id(t,e,n){const r=t.syncPointTree_.get(e);O(r,"Missing sync point for query tag that we're tracking");const o=al(t.pendingWriteTree_,e);return ed(r,n,o,null)}function CT(t){return t.fold((e,n,r)=>{if(n&&qn(n))return[ll(n)];{let o=[];return n&&(o=ey(n)),mt(r,(a,u)=>{o=o.concat(u)}),o}})}function _o(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(dT())(t._repo,t._path):t}function ET(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const o=ul(r),a=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(a)}}}function ST(){return fT++}function xT(t,e,n){const r=e._path,o=Ho(t,e),a=ly(t,n),u=t.listenProvider_.startListening(_o(e),o,a.hashFn,a.onComplete),h=t.syncPointTree_.subtree(r);if(o)O(!qn(h.value),"If we're adding a query, it shouldn't be shadowed");else{const d=h.fold((p,v,m)=>{if(!J(p)&&v&&qn(v))return[ll(v).query];{let g=[];return v&&(g=g.concat(ey(v).map(x=>x.query))),mt(m,(x,P)=>{g=g.concat(P)}),g}});for(let p=0;p<d.length;++p){const v=d[p];t.listenProvider_.stopListening(_o(v),Ho(t,v))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new rd(n)}node(){return this.node_}}class od{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ze(this.path_,e);return new od(this.syncTree_,n)}node(){return oy(this.syncTree_,this.path_)}}const TT=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},T_=function(t,e,n){if(!t||typeof t!="object")return t;if(O(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return PT(t[".sv"],e,n);if(typeof t[".sv"]=="object")return kT(t[".sv"],e);O(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},PT=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:O(!1,"Unexpected server value: "+t)}},kT=function(t,e,n){t.hasOwnProperty("increment")||O(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&O(!1,"Unexpected increment value: "+r);const o=e.node();if(O(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const u=o.getValue();return typeof u!="number"?r:u+r},IT=function(t,e,n,r){return sd(e,new od(n,t),r)},LT=function(t,e,n){return sd(t,new rd(e),n)};function sd(t,e,n){const r=t.getPriority().val(),o=T_(r,e.getImmediateChild(".priority"),n);let a;if(t.isLeafNode()){const u=t,h=T_(u.getValue(),e,n);return h!==u.getValue()||o!==u.getPriority().val()?new Ue(h,Ke(o)):t}else{const u=t;return a=u,o!==u.getPriority().val()&&(a=a.updatePriority(new Ue(o))),u.forEachChild(Ie,(h,d)=>{const p=sd(d,e.getImmediateChild(h),n);p!==d&&(a=a.updateImmediateChild(h,p))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function ld(t,e){let n=e instanceof he?e:new he(e),r=t,o=te(n);for(;o!==null;){const a=_r(r.node.children,o)||{children:{},childCount:0};r=new ad(o,r,a),n=_e(n),o=te(n)}return r}function xr(t){return t.node.value}function uy(t,e){t.node.value=e,Fc(t)}function cy(t){return t.node.childCount>0}function NT(t){return xr(t)===void 0&&!cy(t)}function cl(t,e){mt(t.node.children,(n,r)=>{e(new ad(n,t,r))})}function hy(t,e,n,r){n&&!r&&e(t),cl(t,o=>{hy(o,e,!0,r)}),n&&r&&e(t)}function MT(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function is(t){return new he(t.parent===null?t.name:is(t.parent)+"/"+t.name)}function Fc(t){t.parent!==null&&RT(t.parent,t.name,t)}function RT(t,e,n){const r=NT(n),o=En(t.node.children,e);r&&o?(delete t.node.children[e],t.node.childCount--,Fc(t)):!r&&!o&&(t.node.children[e]=n.node,t.node.childCount++,Fc(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=/[\[\].#$\/\u0000-\u001F\u007F]/,AT=/[\[\].#$\u0000-\u001F\u007F]/,Iu=10*1024*1024,dy=function(t){return typeof t=="string"&&t.length!==0&&!OT.test(t)},fy=function(t){return typeof t=="string"&&t.length!==0&&!AT.test(t)},DT=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),fy(t)},py=function(t,e,n){const r=n instanceof he?new QS(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ci(r));if(typeof e=="function")throw new Error(t+"contains a function "+ci(r)+" with contents = "+e.toString());if(uv(e))throw new Error(t+"contains "+e.toString()+" "+ci(r));if(typeof e=="string"&&e.length>Iu/3&&rl(e)>Iu)throw new Error(t+"contains a string greater than "+Iu+" utf8 bytes "+ci(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,a=!1;if(mt(e,(u,h)=>{if(u===".value")o=!0;else if(u!==".priority"&&u!==".sv"&&(a=!0,!dy(u)))throw new Error(t+" contains an invalid key ("+u+") "+ci(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);XS(r,u),py(t,h,r),JS(r)}),o&&a)throw new Error(t+' contains ".value" child '+ci(r)+" in addition to actual children.")}},_y=function(t,e,n,r){if(!fy(n))throw new Error(ev(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},bT=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),_y(t,e,n)},zT=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!dy(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!DT(n))throw new Error(ev(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function BT(t,e){let n=null;for(let r=0;r<e.length;r++){const o=e[r],a=o.getPath();n!==null&&!Ov(a,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(o)}n&&t.eventLists_.push(n)}function ei(t,e,n){BT(t,n),WT(t,r=>Ut(r,e)||Ut(e,r))}function WT(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const o=t.eventLists_[r];if(o){const a=o.path;e(a)?(UT(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function UT(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();co&&et("event: "+n.toString()),Jo(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="repo_interrupt",ZT=25;class jT{constructor(e,n,r,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new FT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Aa(),this.transactionQueueTree_=new ad,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function VT(t,e,n){if(t.stats_=Zh(t.repoInfo_),t.forceRestClient_||ES())t.server_=new Oa(t.repoInfo_,(r,o,a,u)=>{P_(t,r,o,a,u)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>k_(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{be(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new pn(t.repoInfo_,e,(r,o,a,u)=>{P_(t,r,o,a,u)},r=>{k_(t,r)},r=>{GT(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=kS(t.repoInfo_,()=>new Tx(t.stats_,t.server_)),t.infoData_=new wx,t.infoSyncTree_=new x_({startListening:(r,o,a,u)=>{let h=[];const d=t.infoData_.getNode(r._path);return d.isEmpty()||(h=ts(t.infoSyncTree_,r._path,d),setTimeout(()=>{u("ok")},0)),h},stopListening:()=>{}}),ud(t,"connected",!1),t.serverSyncTree_=new x_({startListening:(r,o,a,u)=>(t.server_.listen(r,a,o,(h,d)=>{const p=u(h,d);ei(t.eventQueue_,r._path,p)}),[]),stopListening:(r,o)=>{t.server_.unlisten(r,o)}})}function $T(t){const n=t.infoData_.getNode(new he(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function my(t){return TT({timestamp:$T(t)})}function P_(t,e,n,r,o){t.dataUpdateCount++;const a=new he(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let u=[];if(o)if(r){const d=ka(n,p=>Ke(p));u=vT(t.serverSyncTree_,a,d,o)}else{const d=Ke(n);u=ry(t.serverSyncTree_,a,d,o)}else if(r){const d=ka(n,p=>Ke(p));u=_T(t.serverSyncTree_,a,d)}else{const d=Ke(n);u=ts(t.serverSyncTree_,a,d)}let h=a;u.length>0&&(h=dd(t,a)),ei(t.eventQueue_,h,u)}function k_(t,e){ud(t,"connected",e),e===!1&&qT(t)}function GT(t,e){mt(e,(n,r)=>{ud(t,n,r)})}function ud(t,e,n){const r=new he("/.info/"+e),o=Ke(n);t.infoData_.updateSnapshot(r,o);const a=ts(t.infoSyncTree_,r,o);ei(t.eventQueue_,r,a)}function KT(t){return t.nextWriteId_++}function YT(t,e,n){const r=wT(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(o=>{const a=Ke(o).withIndex(e._queryParams.getIndex());yT(t.serverSyncTree_,e,n,!0);let u;if(e._queryParams.loadsAllData())u=ts(t.serverSyncTree_,e._path,a);else{const h=Ho(t.serverSyncTree_,e);u=ry(t.serverSyncTree_,e._path,a,h)}return ei(t.eventQueue_,e._path,u),iy(t.serverSyncTree_,e,n,null,!0),a},o=>(cd(t,"get for query "+be(e)+" failed: "+o),Promise.reject(new Error(o))))}function qT(t){cd(t,"onDisconnectEvents");const e=my(t),n=Aa();Oc(t.onDisconnect_,le(),(o,a)=>{const u=IT(o,a,t.serverSyncTree_,e);Uv(n,o,u)});let r=[];Oc(n,le(),(o,a)=>{r=r.concat(ts(t.serverSyncTree_,o,a));const u=eP(t,o);dd(t,u)}),t.onDisconnect_=Aa(),ei(t.eventQueue_,le(),r)}function QT(t){t.persistentConnection_&&t.persistentConnection_.interrupt(HT)}function cd(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),et(n,...e)}function gy(t,e,n){return oy(t.serverSyncTree_,e,n)||Z.EMPTY_NODE}function hd(t,e=t.transactionQueueTree_){if(e||hl(t,e),xr(e)){const n=yy(t,e);O(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&XT(t,is(e),n)}else cy(e)&&cl(e,n=>{hd(t,n)})}function XT(t,e,n){const r=n.map(p=>p.currentWriteId),o=gy(t,e,r);let a=o;const u=o.hash();for(let p=0;p<n.length;p++){const v=n[p];O(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const m=rt(e,v.path);a=a.updateChild(m,v.currentOutputSnapshotRaw)}const h=a.val(!0),d=e;t.server_.put(d.toString(),h,p=>{cd(t,"transaction put response",{path:d.toString(),status:p});let v=[];if(p==="ok"){const m=[];for(let g=0;g<n.length;g++)n[g].status=2,v=v.concat(Xi(t.serverSyncTree_,n[g].currentWriteId)),n[g].onComplete&&m.push(()=>n[g].onComplete(null,!0,n[g].currentOutputSnapshotResolved)),n[g].unwatcher();hl(t,ld(t.transactionQueueTree_,e)),hd(t,t.transactionQueueTree_),ei(t.eventQueue_,e,v);for(let g=0;g<m.length;g++)Jo(m[g])}else{if(p==="datastale")for(let m=0;m<n.length;m++)n[m].status===3?n[m].status=4:n[m].status=0;else{wt("transaction at "+d.toString()+" failed: "+p);for(let m=0;m<n.length;m++)n[m].status=4,n[m].abortReason=p}dd(t,e)}},u)}function dd(t,e){const n=vy(t,e),r=is(n),o=yy(t,n);return JT(t,o,r),r}function JT(t,e,n){if(e.length===0)return;const r=[];let o=[];const u=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const d=e[h],p=rt(n,d.path);let v=!1,m;if(O(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)v=!0,m=d.abortReason,o=o.concat(Xi(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=ZT)v=!0,m="maxretry",o=o.concat(Xi(t.serverSyncTree_,d.currentWriteId,!0));else{const g=gy(t,d.path,u);d.currentInputSnapshot=g;const x=e[h].update(g.val());if(x!==void 0){py("transaction failed: Data returned ",x,d.path);let P=Ke(x);typeof x=="object"&&x!=null&&En(x,".priority")||(P=P.updatePriority(g.getPriority()));const j=d.currentWriteId,C=my(t),w=LT(P,g,C);d.currentOutputSnapshotRaw=P,d.currentOutputSnapshotResolved=w,d.currentWriteId=KT(t),u.splice(u.indexOf(j),1),o=o.concat(pT(t.serverSyncTree_,d.path,w,d.currentWriteId,d.applyLocally)),o=o.concat(Xi(t.serverSyncTree_,j,!0))}else v=!0,m="nodata",o=o.concat(Xi(t.serverSyncTree_,d.currentWriteId,!0))}ei(t.eventQueue_,n,o),o=[],v&&(e[h].status=2,function(g){setTimeout(g,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(m==="nodata"?r.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):r.push(()=>e[h].onComplete(new Error(m),!1,null))))}hl(t,t.transactionQueueTree_);for(let h=0;h<r.length;h++)Jo(r[h]);hd(t,t.transactionQueueTree_)}function vy(t,e){let n,r=t.transactionQueueTree_;for(n=te(e);n!==null&&xr(r)===void 0;)r=ld(r,n),e=_e(e),n=te(e);return r}function yy(t,e){const n=[];return wy(t,e,n),n.sort((r,o)=>r.order-o.order),n}function wy(t,e,n){const r=xr(e);if(r)for(let o=0;o<r.length;o++)n.push(r[o]);cl(e,o=>{wy(t,o,n)})}function hl(t,e){const n=xr(e);if(n){let r=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[r]=n[o],r++);n.length=r,uy(e,n.length>0?n:void 0)}cl(e,r=>{hl(t,r)})}function eP(t,e){const n=is(vy(t,e)),r=ld(t.transactionQueueTree_,e);return MT(r,o=>{Lu(t,o)}),Lu(t,r),hy(r,o=>{Lu(t,o)}),n}function Lu(t,e){const n=xr(e);if(n){const r=[];let o=[],a=-1;for(let u=0;u<n.length;u++)n[u].status===3||(n[u].status===1?(O(a===u-1,"All SENT items should be at beginning of queue."),a=u,n[u].status=3,n[u].abortReason="set"):(O(n[u].status===0,"Unexpected transaction status in abort"),n[u].unwatcher(),o=o.concat(Xi(t.serverSyncTree_,n[u].currentWriteId,!0)),n[u].onComplete&&r.push(n[u].onComplete.bind(null,new Error("set"),!1,null))));a===-1?uy(e,void 0):n.length=a+1,ei(t.eventQueue_,is(e),o);for(let u=0;u<r.length;u++)Jo(r[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let o=n[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function nP(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):wt(`Invalid query segment '${n}' in query '${t}'`)}return e}const I_=function(t,e){const n=iP(t),r=n.namespace;n.domain==="firebase.com"&&wn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&wn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||fS();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Cv(n.host,n.secure,r,o,e,"",r!==n.subdomain),path:new he(n.pathString)}},iP=function(t){let e="",n="",r="",o="",a="",u=!0,h="https",d=443;if(typeof t=="string"){let p=t.indexOf("//");p>=0&&(h=t.substring(0,p-1),t=t.substring(p+2));let v=t.indexOf("/");v===-1&&(v=t.length);let m=t.indexOf("?");m===-1&&(m=t.length),e=t.substring(0,Math.min(v,m)),v<m&&(o=tP(t.substring(v,m)));const g=nP(t.substring(Math.min(t.length,m)));p=e.indexOf(":"),p>=0?(u=h==="https"||h==="wss",d=parseInt(e.substring(p+1),10)):p=e.length;const x=e.slice(0,p);if(x.toLowerCase()==="localhost")n="localhost";else if(x.split(".").length<=2)n=x;else{const P=e.indexOf(".");r=e.substring(0,P).toLowerCase(),n=e.substring(P+1),a=r}"ns"in g&&(a=g.ns)}return{host:e,port:d,domain:n,subdomain:r,secure:u,scheme:h,pathString:o,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,n,r,o){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+be(this.snapshot.exportVal())}}class oP{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return O(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n,r,o){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=o}get key(){return J(this._path)?null:Nv(this._path)}get ref(){return new Sn(this._repo,this._path)}get _queryIdentifier(){const e=f_(this._queryParams),n=Uh(e);return n==="{}"?"default":n}get _queryObject(){return f_(this._queryParams)}isEqual(e){if(e=qo(e),!(e instanceof fd))return!1;const n=this._repo===e._repo,r=Ov(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+qS(this._path)}}class Sn extends fd{constructor(e,n){super(e,n,new Kh,!1)}get parent(){const e=Rv(this._path);return e===null?null:new Sn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Zo{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new he(e),r=Bc(this.ref,e);return new Zo(this._node.getChild(n),r,Ie)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>e(new Zo(o,Bc(this.ref,r),Ie)))}hasChild(e){const n=new he(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Cy(t,e){return t=qo(t),t._checkNotDeleted("ref"),Bc(t._root,e)}function Bc(t,e){return t=qo(t),te(t._path)===null?bT("child","path",e):_y("child","path",e),new Sn(t._repo,ze(t._path,e))}function Ey(t){t=qo(t);const e=new sP(()=>{}),n=new pd(e);return YT(t._repo,t,n).then(r=>new Zo(r,new Sn(t._repo,t._path),t._queryParams.getIndex()))}class pd{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new rP("value",this,new Zo(e.snapshotNode,new Sn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new oP(this,e,n):null}matches(e){return e instanceof pd?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}sT(Sn);hT(Sn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP="FIREBASE_DATABASE_EMULATOR_HOST",Wc={};let lP=!1;function uP(t,e,n,r){t.repoInfo_=new Cv(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function cP(t,e,n,r,o){let a=r||t.options.databaseURL;a===void 0&&(t.options.projectId||wn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),et("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u=I_(a,o),h=u.repoInfo,d;typeof process<"u"&&Yp&&(d=Yp[aP]),d?(a=`http://${d}?ns=${h.namespace}`,u=I_(a,o),h=u.repoInfo):u.repoInfo.secure;const p=new xS(t.name,t.options,e);zT("Invalid Firebase Database URL",u),J(u.path)||wn("Database URL must point to the root of a Firebase Database (not including a child path).");const v=dP(h,t,p,new SS(t.name,n));return new fP(v,t)}function hP(t,e){const n=Wc[e];(!n||n[t.key]!==t)&&wn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),QT(t),delete n[t.key]}function dP(t,e,n,r){let o=Wc[e.name];o||(o={},Wc[e.name]=o);let a=o[t.toURLString()];return a&&wn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new jT(t,lP,n,r),o[t.toURLString()]=a,a}class fP{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(VT(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Sn(this._repo,le())),this._rootInternal}_delete(){return this._rootInternal!==null&&(hP(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&wn("Cannot call "+e+" on a deleted database.")}}function Sy(t=YE(),e){const n=VE(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=DC("database");r&&pP(n,...r)}return n}function pP(t,e,n,r={}){t=qo(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&wn("Cannot call useEmulator() after instance has already been initialized.");const o=t._repoInternal;let a;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&wn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new ta(ta.OWNER);else if(r.mockUserToken){const u=typeof r.mockUserToken=="string"?r.mockUserToken:bC(r.mockUserToken,t.app.options.projectId);a=new ta(u)}uP(o,e,n,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(t){aS(KE),La(new Ao("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return cP(r,o,a,n)},"PUBLIC").setMultipleInstances(!0)),or(qp,Qp,t),or(qp,Qp,"esm2017")}pn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};pn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};_P();const mP={apiKey:"AIzaSyB0xVPcTwZb5vYCZZKYPr8uimM8nKxM900",authDomain:"mapa-fe85d.firebaseapp.com",databaseURL:"https://mapa-fe85d-default-rtdb.europe-west1.firebasedatabase.app",projectId:"mapa-fe85d",storageBucket:"mapa-fe85d.firebasestorage.app",messagingSenderId:"1061731964525",appId:"1:1061731964525:web:7b1aecf2d5c3a04caad164",measurementId:"G-63RZV3H9KB"},gP=Wh(mP),vP=Sy(gP);async function yP(){const t=Cy(vP,"/");try{const e=await Ey(t);if(e.exists())return console.log(e.val()),e.val();console.log("No data available")}catch(e){console.error("Error reading data:",e)}}yP();function wP(){const[t,e]=ie.useState(!1),[n,r]=ie.useState([]),o=["Besplatne usluge","Usluge s naplatom","Domovi zdravlja","Bolnice","Ljekarne","Poliklinike","Psiholozi","Ljeenje ovisnosti i prevencija"],a=u=>{r(h=>h.includes(u)?h.filter(d=>d!==u):[...h,u])};return ke.jsxs("div",{className:"dropdown-container",children:[ke.jsxs("button",{className:"dropdown-button",onClick:()=>e(!t),children:[n.length>0?`Odabrano (${n.length})`:"Filtriraj",ke.jsx("span",{className:"dropdown-icon",children:""})]}),t&&ke.jsx("div",{className:"dropdown-menu",children:o.map(u=>ke.jsxs("div",{className:"dropdown-option",children:[ke.jsx("input",{type:"checkbox",id:u,checked:n.includes(u),onChange:()=>a(u),"aria-labelledby":u}),ke.jsx("label",{htmlFor:u,children:u})," "]},u))})]})}function xy(t,e){const n=ie.useRef(e);ie.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const CP=1;function EP(t){return Object.freeze({__version:CP,map:t})}function SP(t,e){return Object.freeze({...t,...e})}const Ty=ie.createContext(null),Py=Ty.Provider;function ky(){const t=ie.useContext(Ty);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function xP(t){function e(n,r){const{instance:o,context:a}=t(n).current;return ie.useImperativeHandle(r,()=>o),n.children==null?null:Nu.createElement(Py,{value:a},n.children)}return ie.forwardRef(e)}function TP(t){function e(n,r){const[o,a]=ie.useState(!1),{instance:u}=t(n,a).current;ie.useImperativeHandle(r,()=>u),ie.useEffect(function(){o&&u.update()},[u,o,n.children]);const h=u._contentNode;return h?Hg.createPortal(n.children,h):null}return ie.forwardRef(e)}function PP(t){function e(n,r){const{instance:o}=t(n).current;return ie.useImperativeHandle(r,()=>o),null}return ie.forwardRef(e)}function Iy(t,e){const n=ie.useRef();ie.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function _d(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function kP(t,e){return function(r,o){const a=ky(),u=t(_d(r,a),a);return xy(a.map,r.attribution),Iy(u.current,r.eventHandlers),e(u.current,a,r,o),u}}var Uc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(e0,function(n){var r="1.9.4";function o(i){var s,l,c,f;for(l=1,c=arguments.length;l<c;l++){f=arguments[l];for(s in f)i[s]=f[s]}return i}var a=Object.create||function(){function i(){}return function(s){return i.prototype=s,new i}}();function u(i,s){var l=Array.prototype.slice;if(i.bind)return i.bind.apply(i,l.call(arguments,1));var c=l.call(arguments,2);return function(){return i.apply(s,c.length?c.concat(l.call(arguments)):arguments)}}var h=0;function d(i){return"_leaflet_id"in i||(i._leaflet_id=++h),i._leaflet_id}function p(i,s,l){var c,f,_,y;return y=function(){c=!1,f&&(_.apply(l,f),f=!1)},_=function(){c?f=arguments:(i.apply(l,arguments),setTimeout(y,s),c=!0)},_}function v(i,s,l){var c=s[1],f=s[0],_=c-f;return i===c&&l?i:((i-f)%_+_)%_+f}function m(){return!1}function g(i,s){if(s===!1)return i;var l=Math.pow(10,s===void 0?6:s);return Math.round(i*l)/l}function x(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function P(i){return x(i).split(/\s+/)}function k(i,s){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?a(i.options):{});for(var l in s)i.options[l]=s[l];return i.options}function j(i,s,l){var c=[];for(var f in i)c.push(encodeURIComponent(l?f.toUpperCase():f)+"="+encodeURIComponent(i[f]));return(!s||s.indexOf("?")===-1?"?":"&")+c.join("&")}var C=/\{ *([\w_ -]+) *\}/g;function w(i,s){return i.replace(C,function(l,c){var f=s[c];if(f===void 0)throw new Error("No value provided for variable "+l);return typeof f=="function"&&(f=f(s)),f})}var E=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function M(i,s){for(var l=0;l<i.length;l++)if(i[l]===s)return l;return-1}var b="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function F(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var B=0;function W(i){var s=+new Date,l=Math.max(0,16-(s-B));return B=s+l,window.setTimeout(i,l)}var ge=window.requestAnimationFrame||F("RequestAnimationFrame")||W,q=window.cancelAnimationFrame||F("CancelAnimationFrame")||F("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function de(i,s,l){if(l&&ge===W)i.call(s);else return ge.call(window,u(i,s))}function Be(i){i&&q.call(window,i)}var ti={__proto__:null,extend:o,create:a,bind:u,get lastId(){return h},stamp:d,throttle:p,wrapNum:v,falseFn:m,formatNum:g,trim:x,splitWords:P,setOptions:k,getParamString:j,template:w,isArray:E,indexOf:M,emptyImageUrl:b,requestFn:ge,cancelFn:q,requestAnimFrame:de,cancelAnimFrame:Be};function xt(){}xt.extend=function(i){var s=function(){k(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},l=s.__super__=this.prototype,c=a(l);c.constructor=s,s.prototype=c;for(var f in this)Object.prototype.hasOwnProperty.call(this,f)&&f!=="prototype"&&f!=="__super__"&&(s[f]=this[f]);return i.statics&&o(s,i.statics),i.includes&&(dl(i.includes),o.apply(null,[c].concat(i.includes))),o(c,i),delete c.statics,delete c.includes,c.options&&(c.options=l.options?a(l.options):{},o(c.options,i.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){l.callInitHooks&&l.callInitHooks.call(this),this._initHooksCalled=!0;for(var _=0,y=c._initHooks.length;_<y;_++)c._initHooks[_].call(this)}},s},xt.include=function(i){var s=this.prototype.options;return o(this.prototype,i),i.options&&(this.prototype.options=s,this.mergeOptions(i.options)),this},xt.mergeOptions=function(i){return o(this.prototype.options,i),this},xt.addInitHook=function(i){var s=Array.prototype.slice.call(arguments,1),l=typeof i=="function"?i:function(){this[i].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(l),this};function dl(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=E(i)?i:[i];for(var s=0;s<i.length;s++)i[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ve={on:function(i,s,l){if(typeof i=="object")for(var c in i)this._on(c,i[c],s);else{i=P(i);for(var f=0,_=i.length;f<_;f++)this._on(i[f],s,l)}return this},off:function(i,s,l){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var c in i)this._off(c,i[c],s);else{i=P(i);for(var f=arguments.length===1,_=0,y=i.length;_<y;_++)f?this._off(i[_]):this._off(i[_],s,l)}return this},_on:function(i,s,l,c){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(i,s,l)===!1){l===this&&(l=void 0);var f={fn:s,ctx:l};c&&(f.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(f)}},_off:function(i,s,l){var c,f,_;if(this._events&&(c=this._events[i],!!c)){if(arguments.length===1){if(this._firingCount)for(f=0,_=c.length;f<_;f++)c[f].fn=m;delete this._events[i];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var y=this._listens(i,s,l);if(y!==!1){var S=c[y];this._firingCount&&(S.fn=m,this._events[i]=c=c.slice()),c.splice(y,1)}}},fire:function(i,s,l){if(!this.listens(i,l))return this;var c=o({},s,{type:i,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var f=this._events[i];if(f){this._firingCount=this._firingCount+1||1;for(var _=0,y=f.length;_<y;_++){var S=f[_],T=S.fn;S.once&&this.off(i,T,S.ctx),T.call(S.ctx||this,c)}this._firingCount--}}return l&&this._propagateEvent(c),this},listens:function(i,s,l,c){typeof i!="string"&&console.warn('"string" type argument expected');var f=s;typeof s!="function"&&(c=!!s,f=void 0,l=void 0);var _=this._events&&this._events[i];if(_&&_.length&&this._listens(i,f,l)!==!1)return!0;if(c){for(var y in this._eventParents)if(this._eventParents[y].listens(i,s,l,c))return!0}return!1},_listens:function(i,s,l){if(!this._events)return!1;var c=this._events[i]||[];if(!s)return!!c.length;l===this&&(l=void 0);for(var f=0,_=c.length;f<_;f++)if(c[f].fn===s&&c[f].ctx===l)return f;return!1},once:function(i,s,l){if(typeof i=="object")for(var c in i)this._on(c,i[c],s,!0);else{i=P(i);for(var f=0,_=i.length;f<_;f++)this._on(i[f],s,l,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[d(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[d(i)],this},_propagateEvent:function(i){for(var s in this._eventParents)this._eventParents[s].fire(i.type,o({layer:i.target,propagatedFrom:i.target},i),!0)}};Ve.addEventListener=Ve.on,Ve.removeEventListener=Ve.clearAllEventListeners=Ve.off,Ve.addOneTimeEventListener=Ve.once,Ve.fireEvent=Ve.fire,Ve.hasEventListeners=Ve.listens;var nn=xt.extend(Ve);function I(i,s,l){this.x=l?Math.round(i):i,this.y=l?Math.round(s):s}var $=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};I.prototype={clone:function(){return new I(this.x,this.y)},add:function(i){return this.clone()._add(A(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(A(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new I(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new I(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=$(this.x),this.y=$(this.y),this},distanceTo:function(i){i=A(i);var s=i.x-this.x,l=i.y-this.y;return Math.sqrt(s*s+l*l)},equals:function(i){return i=A(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=A(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function A(i,s,l){return i instanceof I?i:E(i)?new I(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new I(i.x,i.y):new I(i,s,l)}function V(i,s){if(i)for(var l=s?[i,s]:i,c=0,f=l.length;c<f;c++)this.extend(l[c])}V.prototype={extend:function(i){var s,l;if(!i)return this;if(i instanceof I||typeof i[0]=="number"||"x"in i)s=l=A(i);else if(i=re(i),s=i.min,l=i.max,!s||!l)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=l.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(l.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(l.y,this.max.y)),this},getCenter:function(i){return A((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return A(this.min.x,this.max.y)},getTopRight:function(){return A(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var s,l;return typeof i[0]=="number"||i instanceof I?i=A(i):i=re(i),i instanceof V?(s=i.min,l=i.max):s=l=i,s.x>=this.min.x&&l.x<=this.max.x&&s.y>=this.min.y&&l.y<=this.max.y},intersects:function(i){i=re(i);var s=this.min,l=this.max,c=i.min,f=i.max,_=f.x>=s.x&&c.x<=l.x,y=f.y>=s.y&&c.y<=l.y;return _&&y},overlaps:function(i){i=re(i);var s=this.min,l=this.max,c=i.min,f=i.max,_=f.x>s.x&&c.x<l.x,y=f.y>s.y&&c.y<l.y;return _&&y},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var s=this.min,l=this.max,c=Math.abs(s.x-l.x)*i,f=Math.abs(s.y-l.y)*i;return re(A(s.x-c,s.y-f),A(l.x+c,l.y+f))},equals:function(i){return i?(i=re(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function re(i,s){return!i||i instanceof V?i:new V(i,s)}function Ae(i,s){if(i)for(var l=s?[i,s]:i,c=0,f=l.length;c<f;c++)this.extend(l[c])}Ae.prototype={extend:function(i){var s=this._southWest,l=this._northEast,c,f;if(i instanceof se)c=i,f=i;else if(i instanceof Ae){if(c=i._southWest,f=i._northEast,!c||!f)return this}else return i?this.extend(G(i)||ce(i)):this;return!s&&!l?(this._southWest=new se(c.lat,c.lng),this._northEast=new se(f.lat,f.lng)):(s.lat=Math.min(c.lat,s.lat),s.lng=Math.min(c.lng,s.lng),l.lat=Math.max(f.lat,l.lat),l.lng=Math.max(f.lng,l.lng)),this},pad:function(i){var s=this._southWest,l=this._northEast,c=Math.abs(s.lat-l.lat)*i,f=Math.abs(s.lng-l.lng)*i;return new Ae(new se(s.lat-c,s.lng-f),new se(l.lat+c,l.lng+f))},getCenter:function(){return new se((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new se(this.getNorth(),this.getWest())},getSouthEast:function(){return new se(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof se||"lat"in i?i=G(i):i=ce(i);var s=this._southWest,l=this._northEast,c,f;return i instanceof Ae?(c=i.getSouthWest(),f=i.getNorthEast()):c=f=i,c.lat>=s.lat&&f.lat<=l.lat&&c.lng>=s.lng&&f.lng<=l.lng},intersects:function(i){i=ce(i);var s=this._southWest,l=this._northEast,c=i.getSouthWest(),f=i.getNorthEast(),_=f.lat>=s.lat&&c.lat<=l.lat,y=f.lng>=s.lng&&c.lng<=l.lng;return _&&y},overlaps:function(i){i=ce(i);var s=this._southWest,l=this._northEast,c=i.getSouthWest(),f=i.getNorthEast(),_=f.lat>s.lat&&c.lat<l.lat,y=f.lng>s.lng&&c.lng<l.lng;return _&&y},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,s){return i?(i=ce(i),this._southWest.equals(i.getSouthWest(),s)&&this._northEast.equals(i.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ce(i,s){return i instanceof Ae?i:new Ae(i,s)}function se(i,s,l){if(isNaN(i)||isNaN(s))throw new Error("Invalid LatLng object: ("+i+", "+s+")");this.lat=+i,this.lng=+s,l!==void 0&&(this.alt=+l)}se.prototype={equals:function(i,s){if(!i)return!1;i=G(i);var l=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return l<=(s===void 0?1e-9:s)},toString:function(i){return"LatLng("+g(this.lat,i)+", "+g(this.lng,i)+")"},distanceTo:function(i){return xn.distance(this,G(i))},wrap:function(){return xn.wrapLatLng(this)},toBounds:function(i){var s=180*i/40075017,l=s/Math.cos(Math.PI/180*this.lat);return ce([this.lat-s,this.lng-l],[this.lat+s,this.lng+l])},clone:function(){return new se(this.lat,this.lng,this.alt)}};function G(i,s,l){return i instanceof se?i:E(i)&&typeof i[0]!="object"?i.length===3?new se(i[0],i[1],i[2]):i.length===2?new se(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new se(i.lat,"lng"in i?i.lng:i.lon,i.alt):s===void 0?null:new se(i,s,l)}var lt={latLngToPoint:function(i,s){var l=this.projection.project(i),c=this.scale(s);return this.transformation._transform(l,c)},pointToLatLng:function(i,s){var l=this.scale(s),c=this.transformation.untransform(i,l);return this.projection.unproject(c)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var s=this.projection.bounds,l=this.scale(i),c=this.transformation.transform(s.min,l),f=this.transformation.transform(s.max,l);return new V(c,f)},infinite:!1,wrapLatLng:function(i){var s=this.wrapLng?v(i.lng,this.wrapLng,!0):i.lng,l=this.wrapLat?v(i.lat,this.wrapLat,!0):i.lat,c=i.alt;return new se(l,s,c)},wrapLatLngBounds:function(i){var s=i.getCenter(),l=this.wrapLatLng(s),c=s.lat-l.lat,f=s.lng-l.lng;if(c===0&&f===0)return i;var _=i.getSouthWest(),y=i.getNorthEast(),S=new se(_.lat-c,_.lng-f),T=new se(y.lat-c,y.lng-f);return new Ae(S,T)}},xn=o({},lt,{wrapLng:[-180,180],R:6371e3,distance:function(i,s){var l=Math.PI/180,c=i.lat*l,f=s.lat*l,_=Math.sin((s.lat-i.lat)*l/2),y=Math.sin((s.lng-i.lng)*l/2),S=_*_+Math.cos(c)*Math.cos(f)*y*y,T=2*Math.atan2(Math.sqrt(S),Math.sqrt(1-S));return this.R*T}}),vd=6378137,fl={R:vd,MAX_LATITUDE:85.0511287798,project:function(i){var s=Math.PI/180,l=this.MAX_LATITUDE,c=Math.max(Math.min(l,i.lat),-l),f=Math.sin(c*s);return new I(this.R*i.lng*s,this.R*Math.log((1+f)/(1-f))/2)},unproject:function(i){var s=180/Math.PI;return new se((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*s,i.x*s/this.R)},bounds:function(){var i=vd*Math.PI;return new V([-i,-i],[i,i])}()};function pl(i,s,l,c){if(E(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=s,this._c=l,this._d=c}pl.prototype={transform:function(i,s){return this._transform(i.clone(),s)},_transform:function(i,s){return s=s||1,i.x=s*(this._a*i.x+this._b),i.y=s*(this._c*i.y+this._d),i},untransform:function(i,s){return s=s||1,new I((i.x/s-this._b)/this._a,(i.y/s-this._d)/this._c)}};function Tr(i,s,l,c){return new pl(i,s,l,c)}var _l=o({},xn,{code:"EPSG:3857",projection:fl,transformation:function(){var i=.5/(Math.PI*fl.R);return Tr(i,.5,-i,.5)}()}),Ny=o({},_l,{code:"EPSG:900913"});function yd(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function wd(i,s){var l="",c,f,_,y,S,T;for(c=0,_=i.length;c<_;c++){for(S=i[c],f=0,y=S.length;f<y;f++)T=S[f],l+=(f?"L":"M")+T.x+" "+T.y;l+=s?U.svg?"z":"x":""}return l||"M0 0"}var ml=document.documentElement.style,os="ActiveXObject"in window,My=os&&!document.addEventListener,Cd="msLaunchUri"in navigator&&!("documentMode"in document),gl=Gt("webkit"),Ed=Gt("android"),Sd=Gt("android 2")||Gt("android 3"),Ry=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Oy=Ed&&Gt("Google")&&Ry<537&&!("AudioNode"in window),vl=!!window.opera,xd=!Cd&&Gt("chrome"),Td=Gt("gecko")&&!gl&&!vl&&!os,Ay=!xd&&Gt("safari"),Pd=Gt("phantom"),kd="OTransition"in ml,Dy=navigator.platform.indexOf("Win")===0,Id=os&&"transition"in ml,yl="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Sd,Ld="MozPerspective"in ml,by=!window.L_DISABLE_3D&&(Id||yl||Ld)&&!kd&&!Pd,Pr=typeof orientation<"u"||Gt("mobile"),zy=Pr&&gl,Fy=Pr&&yl,Nd=!window.PointerEvent&&window.MSPointerEvent,Md=!!(window.PointerEvent||Nd),Rd="ontouchstart"in window||!!window.TouchEvent,By=!window.L_NO_TOUCH&&(Rd||Md),Wy=Pr&&vl,Uy=Pr&&Td,Hy=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Zy=function(){var i=!1;try{var s=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",m,s),window.removeEventListener("testPassiveEventSupport",m,s)}catch{}return i}(),jy=function(){return!!document.createElement("canvas").getContext}(),wl=!!(document.createElementNS&&yd("svg").createSVGRect),Vy=!!wl&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),$y=!wl&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var s=i.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),Gy=navigator.platform.indexOf("Mac")===0,Ky=navigator.platform.indexOf("Linux")===0;function Gt(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var U={ie:os,ielt9:My,edge:Cd,webkit:gl,android:Ed,android23:Sd,androidStock:Oy,opera:vl,chrome:xd,gecko:Td,safari:Ay,phantom:Pd,opera12:kd,win:Dy,ie3d:Id,webkit3d:yl,gecko3d:Ld,any3d:by,mobile:Pr,mobileWebkit:zy,mobileWebkit3d:Fy,msPointer:Nd,pointer:Md,touch:By,touchNative:Rd,mobileOpera:Wy,mobileGecko:Uy,retina:Hy,passiveEvents:Zy,canvas:jy,svg:wl,vml:$y,inlineSvg:Vy,mac:Gy,linux:Ky},Od=U.msPointer?"MSPointerDown":"pointerdown",Ad=U.msPointer?"MSPointerMove":"pointermove",Dd=U.msPointer?"MSPointerUp":"pointerup",bd=U.msPointer?"MSPointerCancel":"pointercancel",Cl={touchstart:Od,touchmove:Ad,touchend:Dd,touchcancel:bd},zd={touchstart:ew,touchmove:ss,touchend:ss,touchcancel:ss},Ii={},Fd=!1;function Yy(i,s,l){return s==="touchstart"&&Jy(),zd[s]?(l=zd[s].bind(this,l),i.addEventListener(Cl[s],l,!1),l):(console.warn("wrong event specified:",s),m)}function qy(i,s,l){if(!Cl[s]){console.warn("wrong event specified:",s);return}i.removeEventListener(Cl[s],l,!1)}function Qy(i){Ii[i.pointerId]=i}function Xy(i){Ii[i.pointerId]&&(Ii[i.pointerId]=i)}function Bd(i){delete Ii[i.pointerId]}function Jy(){Fd||(document.addEventListener(Od,Qy,!0),document.addEventListener(Ad,Xy,!0),document.addEventListener(Dd,Bd,!0),document.addEventListener(bd,Bd,!0),Fd=!0)}function ss(i,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var l in Ii)s.touches.push(Ii[l]);s.changedTouches=[s],i(s)}}function ew(i,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&$e(s),ss(i,s)}function tw(i){var s={},l,c;for(c in i)l=i[c],s[c]=l&&l.bind?l.bind(i):l;return i=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var nw=200;function iw(i,s){i.addEventListener("dblclick",s);var l=0,c;function f(_){if(_.detail!==1){c=_.detail;return}if(!(_.pointerType==="mouse"||_.sourceCapabilities&&!_.sourceCapabilities.firesTouchEvents)){var y=jd(_);if(!(y.some(function(T){return T instanceof HTMLLabelElement&&T.attributes.for})&&!y.some(function(T){return T instanceof HTMLInputElement||T instanceof HTMLSelectElement}))){var S=Date.now();S-l<=nw?(c++,c===2&&s(tw(_))):c=1,l=S}}}return i.addEventListener("click",f),{dblclick:s,simDblclick:f}}function rw(i,s){i.removeEventListener("dblclick",s.dblclick),i.removeEventListener("click",s.simDblclick)}var El=us(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),kr=us(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Wd=kr==="webkitTransition"||kr==="OTransition"?kr+"End":"transitionend";function Ud(i){return typeof i=="string"?document.getElementById(i):i}function Ir(i,s){var l=i.style[s]||i.currentStyle&&i.currentStyle[s];if((!l||l==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(i,null);l=c?c[s]:null}return l==="auto"?null:l}function ae(i,s,l){var c=document.createElement(i);return c.className=s||"",l&&l.appendChild(c),c}function Ee(i){var s=i.parentNode;s&&s.removeChild(i)}function as(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Li(i){var s=i.parentNode;s&&s.lastChild!==i&&s.appendChild(i)}function Ni(i){var s=i.parentNode;s&&s.firstChild!==i&&s.insertBefore(i,s.firstChild)}function Sl(i,s){if(i.classList!==void 0)return i.classList.contains(s);var l=ls(i);return l.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(l)}function Y(i,s){if(i.classList!==void 0)for(var l=P(s),c=0,f=l.length;c<f;c++)i.classList.add(l[c]);else if(!Sl(i,s)){var _=ls(i);xl(i,(_?_+" ":"")+s)}}function Le(i,s){i.classList!==void 0?i.classList.remove(s):xl(i,x((" "+ls(i)+" ").replace(" "+s+" "," ")))}function xl(i,s){i.className.baseVal===void 0?i.className=s:i.className.baseVal=s}function ls(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function Tt(i,s){"opacity"in i.style?i.style.opacity=s:"filter"in i.style&&ow(i,s)}function ow(i,s){var l=!1,c="DXImageTransform.Microsoft.Alpha";try{l=i.filters.item(c)}catch{if(s===1)return}s=Math.round(s*100),l?(l.Enabled=s!==100,l.Opacity=s):i.style.filter+=" progid:"+c+"(opacity="+s+")"}function us(i){for(var s=document.documentElement.style,l=0;l<i.length;l++)if(i[l]in s)return i[l];return!1}function ni(i,s,l){var c=s||new I(0,0);i.style[El]=(U.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(l?" scale("+l+")":"")}function Me(i,s){i._leaflet_pos=s,U.any3d?ni(i,s):(i.style.left=s.x+"px",i.style.top=s.y+"px")}function ii(i){return i._leaflet_pos||new I(0,0)}var Lr,Nr,Tl;if("onselectstart"in document)Lr=function(){K(window,"selectstart",$e)},Nr=function(){fe(window,"selectstart",$e)};else{var Mr=us(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Lr=function(){if(Mr){var i=document.documentElement.style;Tl=i[Mr],i[Mr]="none"}},Nr=function(){Mr&&(document.documentElement.style[Mr]=Tl,Tl=void 0)}}function Pl(){K(window,"dragstart",$e)}function kl(){fe(window,"dragstart",$e)}var cs,Il;function Ll(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(hs(),cs=i,Il=i.style.outlineStyle,i.style.outlineStyle="none",K(window,"keydown",hs))}function hs(){cs&&(cs.style.outlineStyle=Il,cs=void 0,Il=void 0,fe(window,"keydown",hs))}function Hd(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Nl(i){var s=i.getBoundingClientRect();return{x:s.width/i.offsetWidth||1,y:s.height/i.offsetHeight||1,boundingClientRect:s}}var sw={__proto__:null,TRANSFORM:El,TRANSITION:kr,TRANSITION_END:Wd,get:Ud,getStyle:Ir,create:ae,remove:Ee,empty:as,toFront:Li,toBack:Ni,hasClass:Sl,addClass:Y,removeClass:Le,setClass:xl,getClass:ls,setOpacity:Tt,testProp:us,setTransform:ni,setPosition:Me,getPosition:ii,get disableTextSelection(){return Lr},get enableTextSelection(){return Nr},disableImageDrag:Pl,enableImageDrag:kl,preventOutline:Ll,restoreOutline:hs,getSizedParentNode:Hd,getScale:Nl};function K(i,s,l,c){if(s&&typeof s=="object")for(var f in s)Rl(i,f,s[f],l);else{s=P(s);for(var _=0,y=s.length;_<y;_++)Rl(i,s[_],l,c)}return this}var Kt="_leaflet_events";function fe(i,s,l,c){if(arguments.length===1)Zd(i),delete i[Kt];else if(s&&typeof s=="object")for(var f in s)Ol(i,f,s[f],l);else if(s=P(s),arguments.length===2)Zd(i,function(S){return M(s,S)!==-1});else for(var _=0,y=s.length;_<y;_++)Ol(i,s[_],l,c);return this}function Zd(i,s){for(var l in i[Kt]){var c=l.split(/\d/)[0];(!s||s(c))&&Ol(i,c,null,null,l)}}var Ml={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Rl(i,s,l,c){var f=s+d(l)+(c?"_"+d(c):"");if(i[Kt]&&i[Kt][f])return this;var _=function(S){return l.call(c||i,S||window.event)},y=_;!U.touchNative&&U.pointer&&s.indexOf("touch")===0?_=Yy(i,s,_):U.touch&&s==="dblclick"?_=iw(i,_):"addEventListener"in i?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?i.addEventListener(Ml[s]||s,_,U.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(_=function(S){S=S||window.event,Dl(i,S)&&y(S)},i.addEventListener(Ml[s],_,!1)):i.addEventListener(s,y,!1):i.attachEvent("on"+s,_),i[Kt]=i[Kt]||{},i[Kt][f]=_}function Ol(i,s,l,c,f){f=f||s+d(l)+(c?"_"+d(c):"");var _=i[Kt]&&i[Kt][f];if(!_)return this;!U.touchNative&&U.pointer&&s.indexOf("touch")===0?qy(i,s,_):U.touch&&s==="dblclick"?rw(i,_):"removeEventListener"in i?i.removeEventListener(Ml[s]||s,_,!1):i.detachEvent("on"+s,_),i[Kt][f]=null}function ri(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function Al(i){return Rl(i,"wheel",ri),this}function Rr(i){return K(i,"mousedown touchstart dblclick contextmenu",ri),i._leaflet_disable_click=!0,this}function $e(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function oi(i){return $e(i),ri(i),this}function jd(i){if(i.composedPath)return i.composedPath();for(var s=[],l=i.target;l;)s.push(l),l=l.parentNode;return s}function Vd(i,s){if(!s)return new I(i.clientX,i.clientY);var l=Nl(s),c=l.boundingClientRect;return new I((i.clientX-c.left)/l.x-s.clientLeft,(i.clientY-c.top)/l.y-s.clientTop)}var aw=U.linux&&U.chrome?window.devicePixelRatio:U.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function $d(i){return U.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/aw:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function Dl(i,s){var l=s.relatedTarget;if(!l)return!0;try{for(;l&&l!==i;)l=l.parentNode}catch{return!1}return l!==i}var lw={__proto__:null,on:K,off:fe,stopPropagation:ri,disableScrollPropagation:Al,disableClickPropagation:Rr,preventDefault:$e,stop:oi,getPropagationPath:jd,getMousePosition:Vd,getWheelDelta:$d,isExternalTarget:Dl,addListener:K,removeListener:fe},Gd=nn.extend({run:function(i,s,l,c){this.stop(),this._el=i,this._inProgress=!0,this._duration=l||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=ii(i),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=de(this._animate,this),this._step()},_step:function(i){var s=+new Date-this._startTime,l=this._duration*1e3;s<l?this._runFrame(this._easeOut(s/l),i):(this._runFrame(1),this._complete())},_runFrame:function(i,s){var l=this._startPos.add(this._offset.multiplyBy(i));s&&l._round(),Me(this._el,l),this.fire("step")},_complete:function(){Be(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),ne=nn.extend({options:{crs:_l,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,s){s=k(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(G(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=kr&&U.any3d&&!U.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),K(this._proxy,Wd,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,s,l){if(s=s===void 0?this._zoom:this._limitZoom(s),i=this._limitCenter(G(i),s,this.options.maxBounds),l=l||{},this._stop(),this._loaded&&!l.reset&&l!==!0){l.animate!==void 0&&(l.zoom=o({animate:l.animate},l.zoom),l.pan=o({animate:l.animate,duration:l.duration},l.pan));var c=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,s,l.zoom):this._tryAnimatedPan(i,l.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(i,s,l.pan&&l.pan.noMoveStart),this},setZoom:function(i,s){return this._loaded?this.setView(this.getCenter(),i,{zoom:s}):(this._zoom=i,this)},zoomIn:function(i,s){return i=i||(U.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,s)},zoomOut:function(i,s){return i=i||(U.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,s)},setZoomAround:function(i,s,l){var c=this.getZoomScale(s),f=this.getSize().divideBy(2),_=i instanceof I?i:this.latLngToContainerPoint(i),y=_.subtract(f).multiplyBy(1-1/c),S=this.containerPointToLatLng(f.add(y));return this.setView(S,s,{zoom:l})},_getBoundsCenterZoom:function(i,s){s=s||{},i=i.getBounds?i.getBounds():ce(i);var l=A(s.paddingTopLeft||s.padding||[0,0]),c=A(s.paddingBottomRight||s.padding||[0,0]),f=this.getBoundsZoom(i,!1,l.add(c));if(f=typeof s.maxZoom=="number"?Math.min(s.maxZoom,f):f,f===1/0)return{center:i.getCenter(),zoom:f};var _=c.subtract(l).divideBy(2),y=this.project(i.getSouthWest(),f),S=this.project(i.getNorthEast(),f),T=this.unproject(y.add(S).divideBy(2).add(_),f);return{center:T,zoom:f}},fitBounds:function(i,s){if(i=ce(i),!i.isValid())throw new Error("Bounds are not valid.");var l=this._getBoundsCenterZoom(i,s);return this.setView(l.center,l.zoom,s)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,s){return this.setView(i,this._zoom,{pan:s})},panBy:function(i,s){if(i=A(i).round(),s=s||{},!i.x&&!i.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Gd,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){Y(this._mapPane,"leaflet-pan-anim");var l=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,l,s.duration||.25,s.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,s,l){if(l=l||{},l.animate===!1||!U.any3d)return this.setView(i,s,l);this._stop();var c=this.project(this.getCenter()),f=this.project(i),_=this.getSize(),y=this._zoom;i=G(i),s=s===void 0?y:s;var S=Math.max(_.x,_.y),T=S*this.getZoomScale(y,s),N=f.distanceTo(c)||1,D=1.42,H=D*D;function Q(Re){var Ss=Re?-1:1,qw=Re?T:S,Qw=T*T-S*S+Ss*H*H*N*N,Xw=2*qw*H*N,$l=Qw/Xw,If=Math.sqrt($l*$l+1)-$l,Jw=If<1e-9?-18:Math.log(If);return Jw}function nt(Re){return(Math.exp(Re)-Math.exp(-Re))/2}function We(Re){return(Math.exp(Re)+Math.exp(-Re))/2}function kt(Re){return nt(Re)/We(Re)}var ut=Q(0);function bi(Re){return S*(We(ut)/We(ut+D*Re))}function $w(Re){return S*(We(ut)*kt(ut+D*Re)-nt(ut))/H}function Gw(Re){return 1-Math.pow(1-Re,1.5)}var Kw=Date.now(),Pf=(Q(1)-ut)/D,Yw=l.duration?1e3*l.duration:1e3*Pf*.8;function kf(){var Re=(Date.now()-Kw)/Yw,Ss=Gw(Re)*Pf;Re<=1?(this._flyToFrame=de(kf,this),this._move(this.unproject(c.add(f.subtract(c).multiplyBy($w(Ss)/N)),y),this.getScaleZoom(S/bi(Ss),y),{flyTo:!0})):this._move(i,s)._moveEnd(!0)}return this._moveStart(!0,l.noMoveStart),kf.call(this),this},flyToBounds:function(i,s){var l=this._getBoundsCenterZoom(i,s);return this.flyTo(l.center,l.zoom,s)},setMaxBounds:function(i){return i=ce(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var s=this.options.minZoom;return this.options.minZoom=i,this._loaded&&s!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var s=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&s!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,s){this._enforcingBounds=!0;var l=this.getCenter(),c=this._limitCenter(l,this._zoom,ce(i));return l.equals(c)||this.panTo(c,s),this._enforcingBounds=!1,this},panInside:function(i,s){s=s||{};var l=A(s.paddingTopLeft||s.padding||[0,0]),c=A(s.paddingBottomRight||s.padding||[0,0]),f=this.project(this.getCenter()),_=this.project(i),y=this.getPixelBounds(),S=re([y.min.add(l),y.max.subtract(c)]),T=S.getSize();if(!S.contains(_)){this._enforcingBounds=!0;var N=_.subtract(S.getCenter()),D=S.extend(_).getSize().subtract(T);f.x+=N.x<0?-D.x:D.x,f.y+=N.y<0?-D.y:D.y,this.panTo(this.unproject(f),s),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=o({animate:!1,pan:!0},i===!0?{animate:!0}:i);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var l=this.getSize(),c=s.divideBy(2).round(),f=l.divideBy(2).round(),_=c.subtract(f);return!_.x&&!_.y?this:(i.animate&&i.pan?this.panBy(_):(i.pan&&this._rawPanBy(_),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:l}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=o({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=u(this._handleGeolocationResponse,this),l=u(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,l,i):navigator.geolocation.getCurrentPosition(s,l,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var s=i.code,l=i.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+l+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var s=i.coords.latitude,l=i.coords.longitude,c=new se(s,l),f=c.toBounds(i.coords.accuracy*2),_=this._locateOptions;if(_.setView){var y=this.getBoundsZoom(f);this.setView(c,_.maxZoom?Math.min(y,_.maxZoom):y)}var S={latlng:c,bounds:f,timestamp:i.timestamp};for(var T in i.coords)typeof i.coords[T]=="number"&&(S[T]=i.coords[T]);this.fire("locationfound",S)}},addHandler:function(i,s){if(!s)return this;var l=this[i]=new s(this);return this._handlers.push(l),this.options[i]&&l.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ee(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Be(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Ee(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,s){var l="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),c=ae("div",l,s||this._mapPane);return i&&(this._panes[i]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),s=this.unproject(i.getBottomLeft()),l=this.unproject(i.getTopRight());return new Ae(s,l)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,s,l){i=ce(i),l=A(l||[0,0]);var c=this.getZoom()||0,f=this.getMinZoom(),_=this.getMaxZoom(),y=i.getNorthWest(),S=i.getSouthEast(),T=this.getSize().subtract(l),N=re(this.project(S,c),this.project(y,c)).getSize(),D=U.any3d?this.options.zoomSnap:1,H=T.x/N.x,Q=T.y/N.y,nt=s?Math.max(H,Q):Math.min(H,Q);return c=this.getScaleZoom(nt,c),D&&(c=Math.round(c/(D/100))*(D/100),c=s?Math.ceil(c/D)*D:Math.floor(c/D)*D),Math.max(f,Math.min(_,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new I(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,s){var l=this._getTopLeftPoint(i,s);return new V(l,l.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,s){var l=this.options.crs;return s=s===void 0?this._zoom:s,l.scale(i)/l.scale(s)},getScaleZoom:function(i,s){var l=this.options.crs;s=s===void 0?this._zoom:s;var c=l.zoom(i*l.scale(s));return isNaN(c)?1/0:c},project:function(i,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(G(i),s)},unproject:function(i,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(A(i),s)},layerPointToLatLng:function(i){var s=A(i).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(i){var s=this.project(G(i))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(G(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(ce(i))},distance:function(i,s){return this.options.crs.distance(G(i),G(s))},containerPointToLayerPoint:function(i){return A(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return A(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var s=this.containerPointToLayerPoint(A(i));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(G(i)))},mouseEventToContainerPoint:function(i){return Vd(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var s=this._container=Ud(i);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");K(s,"scroll",this._onScroll,this),this._containerId=d(s)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&U.any3d,Y(i,"leaflet-container"+(U.touch?" leaflet-touch":"")+(U.retina?" leaflet-retina":"")+(U.ielt9?" leaflet-oldie":"")+(U.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=Ir(i,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Me(this._mapPane,new I(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Y(i.markerPane,"leaflet-zoom-hide"),Y(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,s,l){Me(this._mapPane,new I(0,0));var c=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var f=this._zoom!==s;this._moveStart(f,l)._move(i,s)._moveEnd(f),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(i,s){return i&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(i,s,l,c){s===void 0&&(s=this._zoom);var f=this._zoom!==s;return this._zoom=s,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),c?l&&l.pinch&&this.fire("zoom",l):((f||l&&l.pinch)&&this.fire("zoom",l),this.fire("move",l)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Be(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){Me(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[d(this._container)]=this;var s=i?fe:K;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),U.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Be(this._resizeRequest),this._resizeRequest=de(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,s){for(var l=[],c,f=s==="mouseout"||s==="mouseover",_=i.target||i.srcElement,y=!1;_;){if(c=this._targets[d(_)],c&&(s==="click"||s==="preclick")&&this._draggableMoved(c)){y=!0;break}if(c&&c.listens(s,!0)&&(f&&!Dl(_,i)||(l.push(c),f))||_===this._container)break;_=_.parentNode}return!l.length&&!y&&!f&&this.listens(s,!0)&&(l=[this]),l},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var s=i.target||i.srcElement;if(!(!this._loaded||s._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(s))){var l=i.type;l==="mousedown"&&Ll(s),this._fireDOMEvent(i,l)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,s,l){if(i.type==="click"){var c=o({},i);c.type="preclick",this._fireDOMEvent(c,c.type,l)}var f=this._findEventTargets(i,s);if(l){for(var _=[],y=0;y<l.length;y++)l[y].listens(s,!0)&&_.push(l[y]);f=_.concat(f)}if(f.length){s==="contextmenu"&&$e(i);var S=f[0],T={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var N=S.getLatLng&&(!S._radius||S._radius<=10);T.containerPoint=N?this.latLngToContainerPoint(S.getLatLng()):this.mouseEventToContainerPoint(i),T.layerPoint=this.containerPointToLayerPoint(T.containerPoint),T.latlng=N?S.getLatLng():this.layerPointToLatLng(T.layerPoint)}for(y=0;y<f.length;y++)if(f[y].fire(s,T,!0),T.originalEvent._stopped||f[y].options.bubblingMouseEvents===!1&&M(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,s=this._handlers.length;i<s;i++)this._handlers[i].disable()},whenReady:function(i,s){return this._loaded?i.call(s||this,{target:this}):this.on("load",i,s),this},_getMapPanePos:function(){return ii(this._mapPane)||new I(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,s){var l=i&&s!==void 0?this._getNewPixelOrigin(i,s):this.getPixelOrigin();return l.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,s){var l=this.getSize()._divideBy(2);return this.project(i,s)._subtract(l)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,s,l){var c=this._getNewPixelOrigin(l,s);return this.project(i,s)._subtract(c)},_latLngBoundsToNewLayerBounds:function(i,s,l){var c=this._getNewPixelOrigin(l,s);return re([this.project(i.getSouthWest(),s)._subtract(c),this.project(i.getNorthWest(),s)._subtract(c),this.project(i.getSouthEast(),s)._subtract(c),this.project(i.getNorthEast(),s)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,s,l){if(!l)return i;var c=this.project(i,s),f=this.getSize().divideBy(2),_=new V(c.subtract(f),c.add(f)),y=this._getBoundsOffset(_,l,s);return Math.abs(y.x)<=1&&Math.abs(y.y)<=1?i:this.unproject(c.add(y),s)},_limitOffset:function(i,s){if(!s)return i;var l=this.getPixelBounds(),c=new V(l.min.add(i),l.max.add(i));return i.add(this._getBoundsOffset(c,s))},_getBoundsOffset:function(i,s,l){var c=re(this.project(s.getNorthEast(),l),this.project(s.getSouthWest(),l)),f=c.min.subtract(i.min),_=c.max.subtract(i.max),y=this._rebound(f.x,-_.x),S=this._rebound(f.y,-_.y);return new I(y,S)},_rebound:function(i,s){return i+s>0?Math.round(i-s)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(s))},_limitZoom:function(i){var s=this.getMinZoom(),l=this.getMaxZoom(),c=U.any3d?this.options.zoomSnap:1;return c&&(i=Math.round(i/c)*c),Math.max(s,Math.min(l,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Le(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,s){var l=this._getCenterOffset(i)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(l)?!1:(this.panBy(l,s),!0)},_createAnimProxy:function(){var i=this._proxy=ae("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(s){var l=El,c=this._proxy.style[l];ni(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),c===this._proxy.style[l]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ee(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),s=this.getZoom();ni(this._proxy,this.project(i,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,s,l){if(this._animatingZoom)return!0;if(l=l||{},!this._zoomAnimated||l.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(s),f=this._getCenterOffset(i)._divideBy(1-1/c);return l.animate!==!0&&!this.getSize().contains(f)?!1:(de(function(){this._moveStart(!0,l.noMoveStart||!1)._animateZoom(i,s,!0)},this),!0)},_animateZoom:function(i,s,l,c){this._mapPane&&(l&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=s,Y(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:s,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Le(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function uw(i,s){return new ne(i,s)}var At=xt.extend({options:{position:"topright"},initialize:function(i){k(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var s=this._map;return s&&s.removeControl(this),this.options.position=i,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var s=this._container=this.onAdd(i),l=this.getPosition(),c=i._controlCorners[l];return Y(s,"leaflet-control"),l.indexOf("bottom")!==-1?c.insertBefore(s,c.firstChild):c.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ee(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),Or=function(i){return new At(i)};ne.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},s="leaflet-",l=this._controlContainer=ae("div",s+"control-container",this._container);function c(f,_){var y=s+f+" "+s+_;i[f+_]=ae("div",y,l)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Ee(this._controlCorners[i]);Ee(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Kd=At.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,s,l,c){return l<c?-1:c<l?1:0}},initialize:function(i,s,l){k(this,l),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var c in i)this._addLayer(i[c],c);for(c in s)this._addLayer(s[c],c,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return At.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,s){return this._addLayer(i,s),this._map?this._update():this},addOverlay:function(i,s){return this._addLayer(i,s,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var s=this._getLayer(d(i));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){Y(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(Y(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):Le(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Le(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",s=this._container=ae("div",i),l=this.options.collapsed;s.setAttribute("aria-haspopup",!0),Rr(s),Al(s);var c=this._section=ae("section",i+"-list");l&&(this._map.on("click",this.collapse,this),K(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var f=this._layersLink=ae("a",i+"-toggle",s);f.href="#",f.title="Layers",f.setAttribute("role","button"),K(f,{keydown:function(_){_.keyCode===13&&this._expandSafely()},click:function(_){$e(_),this._expandSafely()}},this),l||this.expand(),this._baseLayersList=ae("div",i+"-base",c),this._separator=ae("div",i+"-separator",c),this._overlaysList=ae("div",i+"-overlays",c),s.appendChild(c)},_getLayer:function(i){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&d(this._layers[s].layer)===i)return this._layers[s]},_addLayer:function(i,s,l){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:s,overlay:l}),this.options.sortLayers&&this._layers.sort(u(function(c,f){return this.options.sortFunction(c.layer,f.layer,c.name,f.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;as(this._baseLayersList),as(this._overlaysList),this._layerControlInputs=[];var i,s,l,c,f=0;for(l=0;l<this._layers.length;l++)c=this._layers[l],this._addItem(c),s=s||c.overlay,i=i||!c.overlay,f+=c.overlay?0:1;return this.options.hideSingleBase&&(i=i&&f>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=s&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var s=this._getLayer(d(i.target)),l=s.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;l&&this._map.fire(l,s)},_createRadioElement:function(i,s){var l='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(s?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=l,c.firstChild},_addItem:function(i){var s=document.createElement("label"),l=this._map.hasLayer(i.layer),c;i.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=l):c=this._createRadioElement("leaflet-base-layers_"+d(this),l),this._layerControlInputs.push(c),c.layerId=d(i.layer),K(c,"click",this._onInputClick,this);var f=document.createElement("span");f.innerHTML=" "+i.name;var _=document.createElement("span");s.appendChild(_),_.appendChild(c),_.appendChild(f);var y=i.overlay?this._overlaysList:this._baseLayersList;return y.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,s,l,c=[],f=[];this._handlingClick=!0;for(var _=i.length-1;_>=0;_--)s=i[_],l=this._getLayer(s.layerId).layer,s.checked?c.push(l):s.checked||f.push(l);for(_=0;_<f.length;_++)this._map.hasLayer(f[_])&&this._map.removeLayer(f[_]);for(_=0;_<c.length;_++)this._map.hasLayer(c[_])||this._map.addLayer(c[_]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,s,l,c=this._map.getZoom(),f=i.length-1;f>=0;f--)s=i[f],l=this._getLayer(s.layerId).layer,s.disabled=l.options.minZoom!==void 0&&c<l.options.minZoom||l.options.maxZoom!==void 0&&c>l.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,K(i,"click",$e),this.expand();var s=this;setTimeout(function(){fe(i,"click",$e),s._preventClick=!1})}}),cw=function(i,s,l){return new Kd(i,s,l)},bl=At.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var s="leaflet-control-zoom",l=ae("div",s+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,s+"-in",l,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,s+"-out",l,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),l},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,s,l,c,f){var _=ae("a",l,c);return _.innerHTML=i,_.href="#",_.title=s,_.setAttribute("role","button"),_.setAttribute("aria-label",s),Rr(_),K(_,"click",oi),K(_,"click",f,this),K(_,"click",this._refocusOnMap,this),_},_updateDisabled:function(){var i=this._map,s="leaflet-disabled";Le(this._zoomInButton,s),Le(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(Y(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(Y(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});ne.mergeOptions({zoomControl:!0}),ne.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new bl,this.addControl(this.zoomControl))});var hw=function(i){return new bl(i)},Yd=At.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var s="leaflet-control-scale",l=ae("div",s),c=this.options;return this._addScales(c,s+"-line",l),i.on(c.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),l},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,s,l){i.metric&&(this._mScale=ae("div",s,l)),i.imperial&&(this._iScale=ae("div",s,l))},_update:function(){var i=this._map,s=i.getSize().y/2,l=i.distance(i.containerPointToLatLng([0,s]),i.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(l)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var s=this._getRoundNum(i),l=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,l,s/i)},_updateImperial:function(i){var s=i*3.2808399,l,c,f;s>5280?(l=s/5280,c=this._getRoundNum(l),this._updateScale(this._iScale,c+" mi",c/l)):(f=this._getRoundNum(s),this._updateScale(this._iScale,f+" ft",f/s))},_updateScale:function(i,s,l){i.style.width=Math.round(this.options.maxWidth*l)+"px",i.innerHTML=s},_getRoundNum:function(i){var s=Math.pow(10,(Math.floor(i)+"").length-1),l=i/s;return l=l>=10?10:l>=5?5:l>=3?3:l>=2?2:1,s*l}}),dw=function(i){return new Yd(i)},fw='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',zl=At.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(U.inlineSvg?fw+" ":"")+"Leaflet</a>"},initialize:function(i){k(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=ae("div","leaflet-control-attribution"),Rr(this._container);for(var s in i._layers)i._layers[s].getAttribution&&this.addAttribution(i._layers[s].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var s in this._attributions)this._attributions[s]&&i.push(s);var l=[];this.options.prefix&&l.push(this.options.prefix),i.length&&l.push(i.join(", ")),this._container.innerHTML=l.join(' <span aria-hidden="true">|</span> ')}}});ne.mergeOptions({attributionControl:!0}),ne.addInitHook(function(){this.options.attributionControl&&new zl().addTo(this)});var pw=function(i){return new zl(i)};At.Layers=Kd,At.Zoom=bl,At.Scale=Yd,At.Attribution=zl,Or.layers=cw,Or.zoom=hw,Or.scale=dw,Or.attribution=pw;var Yt=xt.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Yt.addTo=function(i,s){return i.addHandler(s,this),this};var _w={Events:Ve},qd=U.touch?"touchstart mousedown":"mousedown",Tn=nn.extend({options:{clickTolerance:3},initialize:function(i,s,l,c){k(this,c),this._element=i,this._dragStartTarget=s||i,this._preventOutline=l},enable:function(){this._enabled||(K(this._dragStartTarget,qd,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Tn._dragging===this&&this.finishDrag(!0),fe(this._dragStartTarget,qd,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Sl(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){Tn._dragging===this&&this.finishDrag();return}if(!(Tn._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(Tn._dragging=this,this._preventOutline&&Ll(this._element),Pl(),Lr(),!this._moving)){this.fire("down");var s=i.touches?i.touches[0]:i,l=Hd(this._element);this._startPoint=new I(s.clientX,s.clientY),this._startPos=ii(this._element),this._parentScale=Nl(l);var c=i.type==="mousedown";K(document,c?"mousemove":"touchmove",this._onMove,this),K(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var s=i.touches&&i.touches.length===1?i.touches[0]:i,l=new I(s.clientX,s.clientY)._subtract(this._startPoint);!l.x&&!l.y||Math.abs(l.x)+Math.abs(l.y)<this.options.clickTolerance||(l.x/=this._parentScale.x,l.y/=this._parentScale.y,$e(i),this._moved||(this.fire("dragstart"),this._moved=!0,Y(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Y(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(l),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),Me(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){Le(document.body,"leaflet-dragging"),this._lastTarget&&(Le(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),fe(document,"mousemove touchmove",this._onMove,this),fe(document,"mouseup touchend touchcancel",this._onUp,this),kl(),Nr();var s=this._moved&&this._moving;this._moving=!1,Tn._dragging=!1,s&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function Qd(i,s,l){var c,f=[1,4,2,8],_,y,S,T,N,D,H,Q;for(_=0,D=i.length;_<D;_++)i[_]._code=si(i[_],s);for(S=0;S<4;S++){for(H=f[S],c=[],_=0,D=i.length,y=D-1;_<D;y=_++)T=i[_],N=i[y],T._code&H?N._code&H||(Q=ds(N,T,H,s,l),Q._code=si(Q,s),c.push(Q)):(N._code&H&&(Q=ds(N,T,H,s,l),Q._code=si(Q,s),c.push(Q)),c.push(T));i=c}return i}function Xd(i,s){var l,c,f,_,y,S,T,N,D;if(!i||i.length===0)throw new Error("latlngs not passed");Pt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var H=G([0,0]),Q=ce(i),nt=Q.getNorthWest().distanceTo(Q.getSouthWest())*Q.getNorthEast().distanceTo(Q.getNorthWest());nt<1700&&(H=Fl(i));var We=i.length,kt=[];for(l=0;l<We;l++){var ut=G(i[l]);kt.push(s.project(G([ut.lat-H.lat,ut.lng-H.lng])))}for(S=T=N=0,l=0,c=We-1;l<We;c=l++)f=kt[l],_=kt[c],y=f.y*_.x-_.y*f.x,T+=(f.x+_.x)*y,N+=(f.y+_.y)*y,S+=y*3;S===0?D=kt[0]:D=[T/S,N/S];var bi=s.unproject(A(D));return G([bi.lat+H.lat,bi.lng+H.lng])}function Fl(i){for(var s=0,l=0,c=0,f=0;f<i.length;f++){var _=G(i[f]);s+=_.lat,l+=_.lng,c++}return G([s/c,l/c])}var mw={__proto__:null,clipPolygon:Qd,polygonCenter:Xd,centroid:Fl};function Jd(i,s){if(!s||!i.length)return i.slice();var l=s*s;return i=yw(i,l),i=vw(i,l),i}function ef(i,s,l){return Math.sqrt(Ar(i,s,l,!0))}function gw(i,s,l){return Ar(i,s,l)}function vw(i,s){var l=i.length,c=typeof Uint8Array<"u"?Uint8Array:Array,f=new c(l);f[0]=f[l-1]=1,Bl(i,f,s,0,l-1);var _,y=[];for(_=0;_<l;_++)f[_]&&y.push(i[_]);return y}function Bl(i,s,l,c,f){var _=0,y,S,T;for(S=c+1;S<=f-1;S++)T=Ar(i[S],i[c],i[f],!0),T>_&&(y=S,_=T);_>l&&(s[y]=1,Bl(i,s,l,c,y),Bl(i,s,l,y,f))}function yw(i,s){for(var l=[i[0]],c=1,f=0,_=i.length;c<_;c++)ww(i[c],i[f])>s&&(l.push(i[c]),f=c);return f<_-1&&l.push(i[_-1]),l}var tf;function nf(i,s,l,c,f){var _=c?tf:si(i,l),y=si(s,l),S,T,N;for(tf=y;;){if(!(_|y))return[i,s];if(_&y)return!1;S=_||y,T=ds(i,s,S,l,f),N=si(T,l),S===_?(i=T,_=N):(s=T,y=N)}}function ds(i,s,l,c,f){var _=s.x-i.x,y=s.y-i.y,S=c.min,T=c.max,N,D;return l&8?(N=i.x+_*(T.y-i.y)/y,D=T.y):l&4?(N=i.x+_*(S.y-i.y)/y,D=S.y):l&2?(N=T.x,D=i.y+y*(T.x-i.x)/_):l&1&&(N=S.x,D=i.y+y*(S.x-i.x)/_),new I(N,D,f)}function si(i,s){var l=0;return i.x<s.min.x?l|=1:i.x>s.max.x&&(l|=2),i.y<s.min.y?l|=4:i.y>s.max.y&&(l|=8),l}function ww(i,s){var l=s.x-i.x,c=s.y-i.y;return l*l+c*c}function Ar(i,s,l,c){var f=s.x,_=s.y,y=l.x-f,S=l.y-_,T=y*y+S*S,N;return T>0&&(N=((i.x-f)*y+(i.y-_)*S)/T,N>1?(f=l.x,_=l.y):N>0&&(f+=y*N,_+=S*N)),y=i.x-f,S=i.y-_,c?y*y+S*S:new I(f,_)}function Pt(i){return!E(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function rf(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Pt(i)}function of(i,s){var l,c,f,_,y,S,T,N;if(!i||i.length===0)throw new Error("latlngs not passed");Pt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var D=G([0,0]),H=ce(i),Q=H.getNorthWest().distanceTo(H.getSouthWest())*H.getNorthEast().distanceTo(H.getNorthWest());Q<1700&&(D=Fl(i));var nt=i.length,We=[];for(l=0;l<nt;l++){var kt=G(i[l]);We.push(s.project(G([kt.lat-D.lat,kt.lng-D.lng])))}for(l=0,c=0;l<nt-1;l++)c+=We[l].distanceTo(We[l+1])/2;if(c===0)N=We[0];else for(l=0,_=0;l<nt-1;l++)if(y=We[l],S=We[l+1],f=y.distanceTo(S),_+=f,_>c){T=(_-c)/f,N=[S.x-T*(S.x-y.x),S.y-T*(S.y-y.y)];break}var ut=s.unproject(A(N));return G([ut.lat+D.lat,ut.lng+D.lng])}var Cw={__proto__:null,simplify:Jd,pointToSegmentDistance:ef,closestPointOnSegment:gw,clipSegment:nf,_getEdgeIntersection:ds,_getBitCode:si,_sqClosestPointOnSegment:Ar,isFlat:Pt,_flat:rf,polylineCenter:of},Wl={project:function(i){return new I(i.lng,i.lat)},unproject:function(i){return new se(i.y,i.x)},bounds:new V([-180,-90],[180,90])},Ul={R:6378137,R_MINOR:6356752314245179e-9,bounds:new V([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var s=Math.PI/180,l=this.R,c=i.lat*s,f=this.R_MINOR/l,_=Math.sqrt(1-f*f),y=_*Math.sin(c),S=Math.tan(Math.PI/4-c/2)/Math.pow((1-y)/(1+y),_/2);return c=-l*Math.log(Math.max(S,1e-10)),new I(i.lng*s*l,c)},unproject:function(i){for(var s=180/Math.PI,l=this.R,c=this.R_MINOR/l,f=Math.sqrt(1-c*c),_=Math.exp(-i.y/l),y=Math.PI/2-2*Math.atan(_),S=0,T=.1,N;S<15&&Math.abs(T)>1e-7;S++)N=f*Math.sin(y),N=Math.pow((1-N)/(1+N),f/2),T=Math.PI/2-2*Math.atan(_*N)-y,y+=T;return new se(y*s,i.x*s/l)}},Ew={__proto__:null,LonLat:Wl,Mercator:Ul,SphericalMercator:fl},Sw=o({},xn,{code:"EPSG:3395",projection:Ul,transformation:function(){var i=.5/(Math.PI*Ul.R);return Tr(i,.5,-i,.5)}()}),sf=o({},xn,{code:"EPSG:4326",projection:Wl,transformation:Tr(1/180,1,-1/180,.5)}),xw=o({},lt,{projection:Wl,transformation:Tr(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,s){var l=s.lng-i.lng,c=s.lat-i.lat;return Math.sqrt(l*l+c*c)},infinite:!0});lt.Earth=xn,lt.EPSG3395=Sw,lt.EPSG3857=_l,lt.EPSG900913=Ny,lt.EPSG4326=sf,lt.Simple=xw;var Dt=nn.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[d(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[d(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var s=i.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var l=this.getEvents();s.on(l,this),this.once("remove",function(){s.off(l,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});ne.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var s=d(i);return this._layers[s]?this:(this._layers[s]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var s=d(i);return this._layers[s]?(this._loaded&&i.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return d(i)in this._layers},eachLayer:function(i,s){for(var l in this._layers)i.call(s,this._layers[l]);return this},_addLayers:function(i){i=i?E(i)?i:[i]:[];for(var s=0,l=i.length;s<l;s++)this.addLayer(i[s])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[d(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var s=d(i);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,s=-1/0,l=this._getZoomSpan();for(var c in this._zoomBoundLayers){var f=this._zoomBoundLayers[c].options;i=f.minZoom===void 0?i:Math.min(i,f.minZoom),s=f.maxZoom===void 0?s:Math.max(s,f.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=i===1/0?void 0:i,l!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Mi=Dt.extend({initialize:function(i,s){k(this,s),this._layers={};var l,c;if(i)for(l=0,c=i.length;l<c;l++)this.addLayer(i[l])},addLayer:function(i){var s=this.getLayerId(i);return this._layers[s]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var s=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(i){var s=typeof i=="number"?i:this.getLayerId(i);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var s=Array.prototype.slice.call(arguments,1),l,c;for(l in this._layers)c=this._layers[l],c[i]&&c[i].apply(c,s);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,s){for(var l in this._layers)i.call(s,this._layers[l]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return d(i)}}),Tw=function(i,s){return new Mi(i,s)},rn=Mi.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Mi.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Mi.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new Ae;for(var s in this._layers){var l=this._layers[s];i.extend(l.getBounds?l.getBounds():l.getLatLng())}return i}}),Pw=function(i,s){return new rn(i,s)},Ri=xt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){k(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,s){var l=this._getIconUrl(i);if(!l){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(l,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(c,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(i,s){var l=this.options,c=l[s+"Size"];typeof c=="number"&&(c=[c,c]);var f=A(c),_=A(s==="shadow"&&l.shadowAnchor||l.iconAnchor||f&&f.divideBy(2,!0));i.className="leaflet-marker-"+s+" "+(l.className||""),_&&(i.style.marginLeft=-_.x+"px",i.style.marginTop=-_.y+"px"),f&&(i.style.width=f.x+"px",i.style.height=f.y+"px")},_createImg:function(i,s){return s=s||document.createElement("img"),s.src=i,s},_getIconUrl:function(i){return U.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function kw(i){return new Ri(i)}var Dr=Ri.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof Dr.imagePath!="string"&&(Dr.imagePath=this._detectIconPath()),(this.options.imagePath||Dr.imagePath)+Ri.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var s=function(l,c,f){var _=c.exec(l);return _&&_[f]};return i=s(i,/^url\((['"])?(.+)\1\)$/,2),i&&s(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=ae("div","leaflet-default-icon-path",document.body),s=Ir(i,"background-image")||Ir(i,"backgroundImage");if(document.body.removeChild(i),s=this._stripUrl(s),s)return s;var l=document.querySelector('link[href$="leaflet.css"]');return l?l.href.substring(0,l.href.length-11-1):""}}),af=Yt.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new Tn(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Y(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Le(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var s=this._marker,l=s._map,c=this._marker.options.autoPanSpeed,f=this._marker.options.autoPanPadding,_=ii(s._icon),y=l.getPixelBounds(),S=l.getPixelOrigin(),T=re(y.min._subtract(S).add(f),y.max._subtract(S).subtract(f));if(!T.contains(_)){var N=A((Math.max(T.max.x,_.x)-T.max.x)/(y.max.x-T.max.x)-(Math.min(T.min.x,_.x)-T.min.x)/(y.min.x-T.min.x),(Math.max(T.max.y,_.y)-T.max.y)/(y.max.y-T.max.y)-(Math.min(T.min.y,_.y)-T.min.y)/(y.min.y-T.min.y)).multiplyBy(c);l.panBy(N,{animate:!1}),this._draggable._newPos._add(N),this._draggable._startPos._add(N),Me(s._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=de(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(Be(this._panRequest),this._panRequest=de(this._adjustPan.bind(this,i)))},_onDrag:function(i){var s=this._marker,l=s._shadow,c=ii(s._icon),f=s._map.layerPointToLatLng(c);l&&Me(l,c),s._latlng=f,i.latlng=f,i.oldLatLng=this._oldLatLng,s.fire("move",i).fire("drag",i)},_onDragEnd:function(i){Be(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),fs=Dt.extend({options:{icon:new Dr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,s){k(this,s),this._latlng=G(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var s=this._latlng;return this._latlng=G(i),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),l=i.icon.createIcon(this._icon),c=!1;l!==this._icon&&(this._icon&&this._removeIcon(),c=!0,i.title&&(l.title=i.title),l.tagName==="IMG"&&(l.alt=i.alt||"")),Y(l,s),i.keyboard&&(l.tabIndex="0",l.setAttribute("role","button")),this._icon=l,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&K(l,"focus",this._panOnFocus,this);var f=i.icon.createShadow(this._shadow),_=!1;f!==this._shadow&&(this._removeShadow(),_=!0),f&&(Y(f,s),f.alt=""),this._shadow=f,i.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),f&&_&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&fe(this._icon,"focus",this._panOnFocus,this),Ee(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ee(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&Me(this._icon,i),this._shadow&&Me(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(Y(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),af)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new af(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&Tt(this._icon,i),this._shadow&&Tt(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var s=this.options.icon.options,l=s.iconSize?A(s.iconSize):A(0,0),c=s.iconAnchor?A(s.iconAnchor):A(0,0);i.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:l.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Iw(i,s){return new fs(i,s)}var Pn=Dt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return k(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ps=Pn.extend({options:{fill:!0,radius:10},initialize:function(i,s){k(this,s),this._latlng=G(i),this._radius=this.options.radius},setLatLng:function(i){var s=this._latlng;return this._latlng=G(i),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var s=i&&i.radius||this._radius;return Pn.prototype.setStyle.call(this,i),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,s=this._radiusY||i,l=this._clickTolerance(),c=[i+l,s+l];this._pxBounds=new V(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Lw(i,s){return new ps(i,s)}var Hl=ps.extend({initialize:function(i,s,l){if(typeof s=="number"&&(s=o({},l,{radius:s})),k(this,s),this._latlng=G(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new Ae(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:Pn.prototype.setStyle,_project:function(){var i=this._latlng.lng,s=this._latlng.lat,l=this._map,c=l.options.crs;if(c.distance===xn.distance){var f=Math.PI/180,_=this._mRadius/xn.R/f,y=l.project([s+_,i]),S=l.project([s-_,i]),T=y.add(S).divideBy(2),N=l.unproject(T).lat,D=Math.acos((Math.cos(_*f)-Math.sin(s*f)*Math.sin(N*f))/(Math.cos(s*f)*Math.cos(N*f)))/f;(isNaN(D)||D===0)&&(D=_/Math.cos(Math.PI/180*s)),this._point=T.subtract(l.getPixelOrigin()),this._radius=isNaN(D)?0:T.x-l.project([N,i-D]).x,this._radiusY=T.y-y.y}else{var H=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=l.latLngToLayerPoint(this._latlng),this._radius=this._point.x-l.latLngToLayerPoint(H).x}this._updateBounds()}});function Nw(i,s,l){return new Hl(i,s,l)}var on=Pn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,s){k(this,s),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var s=1/0,l=null,c=Ar,f,_,y=0,S=this._parts.length;y<S;y++)for(var T=this._parts[y],N=1,D=T.length;N<D;N++){f=T[N-1],_=T[N];var H=c(i,f,_,!0);H<s&&(s=H,l=c(i,f,_))}return l&&(l.distance=Math.sqrt(s)),l},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return of(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,s){return s=s||this._defaultShape(),i=G(i),s.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new Ae,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return Pt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var s=[],l=Pt(i),c=0,f=i.length;c<f;c++)l?(s[c]=G(i[c]),this._bounds.extend(s[c])):s[c]=this._convertLatLngs(i[c]);return s},_project:function(){var i=new V;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),s=new I(i,i);this._rawPxBounds&&(this._pxBounds=new V([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(i,s,l){var c=i[0]instanceof se,f=i.length,_,y;if(c){for(y=[],_=0;_<f;_++)y[_]=this._map.latLngToLayerPoint(i[_]),l.extend(y[_]);s.push(y)}else for(_=0;_<f;_++)this._projectLatlngs(i[_],s,l)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,l,c,f,_,y,S,T;for(l=0,f=0,_=this._rings.length;l<_;l++)for(T=this._rings[l],c=0,y=T.length;c<y-1;c++)S=nf(T[c],T[c+1],i,c,!0),S&&(s[f]=s[f]||[],s[f].push(S[0]),(S[1]!==T[c+1]||c===y-2)&&(s[f].push(S[1]),f++))}},_simplifyPoints:function(){for(var i=this._parts,s=this.options.smoothFactor,l=0,c=i.length;l<c;l++)i[l]=Jd(i[l],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,s){var l,c,f,_,y,S,T=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(l=0,_=this._parts.length;l<_;l++)for(S=this._parts[l],c=0,y=S.length,f=y-1;c<y;f=c++)if(!(!s&&c===0)&&ef(i,S[f],S[c])<=T)return!0;return!1}});function Mw(i,s){return new on(i,s)}on._flat=rf;var Oi=on.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Xd(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var s=on.prototype._convertLatLngs.call(this,i),l=s.length;return l>=2&&s[0]instanceof se&&s[0].equals(s[l-1])&&s.pop(),s},_setLatLngs:function(i){on.prototype._setLatLngs.call(this,i),Pt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Pt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,s=this.options.weight,l=new I(s,s);if(i=new V(i.min.subtract(l),i.max.add(l)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,f=this._rings.length,_;c<f;c++)_=Qd(this._rings[c],i,!0),_.length&&this._parts.push(_)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var s=!1,l,c,f,_,y,S,T,N;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(_=0,T=this._parts.length;_<T;_++)for(l=this._parts[_],y=0,N=l.length,S=N-1;y<N;S=y++)c=l[y],f=l[S],c.y>i.y!=f.y>i.y&&i.x<(f.x-c.x)*(i.y-c.y)/(f.y-c.y)+c.x&&(s=!s);return s||on.prototype._containsPoint.call(this,i,!0)}});function Rw(i,s){return new Oi(i,s)}var sn=rn.extend({initialize:function(i,s){k(this,s),this._layers={},i&&this.addData(i)},addData:function(i){var s=E(i)?i:i.features,l,c,f;if(s){for(l=0,c=s.length;l<c;l++)f=s[l],(f.geometries||f.geometry||f.features||f.coordinates)&&this.addData(f);return this}var _=this.options;if(_.filter&&!_.filter(i))return this;var y=_s(i,_);return y?(y.feature=vs(i),y.defaultOptions=y.options,this.resetStyle(y),_.onEachFeature&&_.onEachFeature(i,y),this.addLayer(y)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=o({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(s){this._setLayerStyle(s,i)},this)},_setLayerStyle:function(i,s){i.setStyle&&(typeof s=="function"&&(s=s(i.feature)),i.setStyle(s))}});function _s(i,s){var l=i.type==="Feature"?i.geometry:i,c=l?l.coordinates:null,f=[],_=s&&s.pointToLayer,y=s&&s.coordsToLatLng||Zl,S,T,N,D;if(!c&&!l)return null;switch(l.type){case"Point":return S=y(c),lf(_,i,S,s);case"MultiPoint":for(N=0,D=c.length;N<D;N++)S=y(c[N]),f.push(lf(_,i,S,s));return new rn(f);case"LineString":case"MultiLineString":return T=ms(c,l.type==="LineString"?0:1,y),new on(T,s);case"Polygon":case"MultiPolygon":return T=ms(c,l.type==="Polygon"?1:2,y),new Oi(T,s);case"GeometryCollection":for(N=0,D=l.geometries.length;N<D;N++){var H=_s({geometry:l.geometries[N],type:"Feature",properties:i.properties},s);H&&f.push(H)}return new rn(f);case"FeatureCollection":for(N=0,D=l.features.length;N<D;N++){var Q=_s(l.features[N],s);Q&&f.push(Q)}return new rn(f);default:throw new Error("Invalid GeoJSON object.")}}function lf(i,s,l,c){return i?i(s,l):new fs(l,c&&c.markersInheritOptions&&c)}function Zl(i){return new se(i[1],i[0],i[2])}function ms(i,s,l){for(var c=[],f=0,_=i.length,y;f<_;f++)y=s?ms(i[f],s-1,l):(l||Zl)(i[f]),c.push(y);return c}function jl(i,s){return i=G(i),i.alt!==void 0?[g(i.lng,s),g(i.lat,s),g(i.alt,s)]:[g(i.lng,s),g(i.lat,s)]}function gs(i,s,l,c){for(var f=[],_=0,y=i.length;_<y;_++)f.push(s?gs(i[_],Pt(i[_])?0:s-1,l,c):jl(i[_],c));return!s&&l&&f.length>0&&f.push(f[0].slice()),f}function Ai(i,s){return i.feature?o({},i.feature,{geometry:s}):vs(s)}function vs(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var Vl={toGeoJSON:function(i){return Ai(this,{type:"Point",coordinates:jl(this.getLatLng(),i)})}};fs.include(Vl),Hl.include(Vl),ps.include(Vl),on.include({toGeoJSON:function(i){var s=!Pt(this._latlngs),l=gs(this._latlngs,s?1:0,!1,i);return Ai(this,{type:(s?"Multi":"")+"LineString",coordinates:l})}}),Oi.include({toGeoJSON:function(i){var s=!Pt(this._latlngs),l=s&&!Pt(this._latlngs[0]),c=gs(this._latlngs,l?2:s?1:0,!0,i);return s||(c=[c]),Ai(this,{type:(l?"Multi":"")+"Polygon",coordinates:c})}}),Mi.include({toMultiPoint:function(i){var s=[];return this.eachLayer(function(l){s.push(l.toGeoJSON(i).geometry.coordinates)}),Ai(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(i){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(i);var l=s==="GeometryCollection",c=[];return this.eachLayer(function(f){if(f.toGeoJSON){var _=f.toGeoJSON(i);if(l)c.push(_.geometry);else{var y=vs(_);y.type==="FeatureCollection"?c.push.apply(c,y.features):c.push(y)}}}),l?Ai(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function uf(i,s){return new sn(i,s)}var Ow=uf,ys=Dt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,s,l){this._url=i,this._bounds=ce(s),k(this,l)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Y(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ee(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Li(this._image),this},bringToBack:function(){return this._map&&Ni(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=ce(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",s=this._image=i?this._url:ae("img");if(Y(s,"leaflet-image-layer"),this._zoomAnimated&&Y(s,"leaflet-zoom-animated"),this.options.className&&Y(s,this.options.className),s.onselectstart=m,s.onmousemove=m,s.onload=u(this.fire,this,"load"),s.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(i){var s=this._map.getZoomScale(i.zoom),l=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;ni(this._image,l,s)},_reset:function(){var i=this._image,s=new V(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),l=s.getSize();Me(i,s.min),i.style.width=l.x+"px",i.style.height=l.y+"px"},_updateOpacity:function(){Tt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),Aw=function(i,s,l){return new ys(i,s,l)},cf=ys.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",s=this._image=i?this._url:ae("video");if(Y(s,"leaflet-image-layer"),this._zoomAnimated&&Y(s,"leaflet-zoom-animated"),this.options.className&&Y(s,this.options.className),s.onselectstart=m,s.onmousemove=m,s.onloadeddata=u(this.fire,this,"load"),i){for(var l=s.getElementsByTagName("source"),c=[],f=0;f<l.length;f++)c.push(l[f].src);this._url=l.length>0?c:[s.src];return}E(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var _=0;_<this._url.length;_++){var y=ae("source");y.src=this._url[_],s.appendChild(y)}}});function Dw(i,s,l){return new cf(i,s,l)}var hf=ys.extend({_initImage:function(){var i=this._image=this._url;Y(i,"leaflet-image-layer"),this._zoomAnimated&&Y(i,"leaflet-zoom-animated"),this.options.className&&Y(i,this.options.className),i.onselectstart=m,i.onmousemove=m}});function bw(i,s,l){return new hf(i,s,l)}var qt=Dt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,s){i&&(i instanceof se||E(i))?(this._latlng=G(i),k(this,s)):(k(this,i),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&Tt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&Tt(this._container,1),this.bringToFront(),this.options.interactive&&(Y(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(Tt(this._container,0),this._removeTimeout=setTimeout(u(Ee,void 0,this._container),200)):Ee(this._container),this.options.interactive&&(Le(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=G(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Li(this._container),this},bringToBack:function(){return this._map&&Ni(this._container),this},_prepareOpen:function(i){var s=this._source;if(!s._map)return!1;if(s instanceof rn){s=null;var l=this._source._layers;for(var c in l)if(l[c]._map){s=l[c];break}if(!s)return!1;this._source=s}if(!i)if(s.getCenter)i=s.getCenter();else if(s.getLatLng)i=s.getLatLng();else if(s.getBounds)i=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")i.innerHTML=s;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),s=A(this.options.offset),l=this._getAnchor();this._zoomAnimated?Me(this._container,i.add(l)):s=s.add(i).add(l);var c=this._containerBottom=-s.y,f=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=c+"px",this._container.style.left=f+"px"}},_getAnchor:function(){return[0,0]}});ne.include({_initOverlay:function(i,s,l,c){var f=s;return f instanceof i||(f=new i(c).setContent(s)),l&&f.setLatLng(l),f}}),Dt.include({_initOverlay:function(i,s,l,c){var f=l;return f instanceof i?(k(f,c),f._source=this):(f=s&&!c?s:new i(c,this),f.setContent(l)),f}});var ws=qt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,qt.prototype.openOn.call(this,i)},onAdd:function(i){qt.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Pn||this._source.on("preclick",ri))},onRemove:function(i){qt.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Pn||this._source.off("preclick",ri))},getEvents:function(){var i=qt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",s=this._container=ae("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),l=this._wrapper=ae("div",i+"-content-wrapper",s);if(this._contentNode=ae("div",i+"-content",l),Rr(s),Al(this._contentNode),K(s,"contextmenu",ri),this._tipContainer=ae("div",i+"-tip-container",s),this._tip=ae("div",i+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=ae("a",i+"-close-button",s);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',K(c,"click",function(f){$e(f),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,s=i.style;s.width="",s.whiteSpace="nowrap";var l=i.offsetWidth;l=Math.min(l,this.options.maxWidth),l=Math.max(l,this.options.minWidth),s.width=l+1+"px",s.whiteSpace="",s.height="";var c=i.offsetHeight,f=this.options.maxHeight,_="leaflet-popup-scrolled";f&&c>f?(s.height=f+"px",Y(i,_)):Le(i,_),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),l=this._getAnchor();Me(this._container,s.add(l))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,s=parseInt(Ir(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+s,c=this._containerWidth,f=new I(this._containerLeft,-l-this._containerBottom);f._add(ii(this._container));var _=i.layerPointToContainerPoint(f),y=A(this.options.autoPanPadding),S=A(this.options.autoPanPaddingTopLeft||y),T=A(this.options.autoPanPaddingBottomRight||y),N=i.getSize(),D=0,H=0;_.x+c+T.x>N.x&&(D=_.x+c-N.x+T.x),_.x-D-S.x<0&&(D=_.x-S.x),_.y+l+T.y>N.y&&(H=_.y+l-N.y+T.y),_.y-H-S.y<0&&(H=_.y-S.y),(D||H)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([D,H]))}},_getAnchor:function(){return A(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),zw=function(i,s){return new ws(i,s)};ne.mergeOptions({closePopupOnClick:!0}),ne.include({openPopup:function(i,s,l){return this._initOverlay(ws,i,s,l).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),Dt.include({bindPopup:function(i,s){return this._popup=this._initOverlay(ws,this._popup,i,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof rn||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){oi(i);var s=i.layer||i.target;if(this._popup._source===s&&!(s instanceof Pn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=s,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var Cs=qt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){qt.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){qt.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=qt.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",s=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ae("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var s,l,c=this._map,f=this._container,_=c.latLngToContainerPoint(c.getCenter()),y=c.layerPointToContainerPoint(i),S=this.options.direction,T=f.offsetWidth,N=f.offsetHeight,D=A(this.options.offset),H=this._getAnchor();S==="top"?(s=T/2,l=N):S==="bottom"?(s=T/2,l=0):S==="center"?(s=T/2,l=N/2):S==="right"?(s=0,l=N/2):S==="left"?(s=T,l=N/2):y.x<_.x?(S="right",s=0,l=N/2):(S="left",s=T+(D.x+H.x)*2,l=N/2),i=i.subtract(A(s,l,!0)).add(D).add(H),Le(f,"leaflet-tooltip-right"),Le(f,"leaflet-tooltip-left"),Le(f,"leaflet-tooltip-top"),Le(f,"leaflet-tooltip-bottom"),Y(f,"leaflet-tooltip-"+S),Me(f,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&Tt(this._container,i)},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(s)},_getAnchor:function(){return A(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Fw=function(i,s){return new Cs(i,s)};ne.include({openTooltip:function(i,s,l){return this._initOverlay(Cs,i,s,l).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),Dt.include({bindTooltip:function(i,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Cs,this._tooltip,i,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var s=i?"off":"on",l={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?l.add=this._openTooltip:(l.mouseover=this._openTooltip,l.mouseout=this.closeTooltip,l.click=this._openTooltip,this._map?this._addFocusListeners():l.add=this._addFocusListeners),this._tooltip.options.sticky&&(l.mousemove=this._moveTooltip),this[s](l),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof rn||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var s=typeof i.getElement=="function"&&i.getElement();s&&(K(s,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),K(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var s=typeof i.getElement=="function"&&i.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var s=i.latlng,l,c;this._tooltip.options.sticky&&i.originalEvent&&(l=this._map.mouseEventToContainerPoint(i.originalEvent),c=this._map.containerPointToLayerPoint(l),s=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(s)}});var df=Ri.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var s=i&&i.tagName==="DIV"?i:document.createElement("div"),l=this.options;if(l.html instanceof Element?(as(s),s.appendChild(l.html)):s.innerHTML=l.html!==!1?l.html:"",l.bgPos){var c=A(l.bgPos);s.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function Bw(i){return new df(i)}Ri.Default=Dr;var br=Dt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:U.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){k(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Ee(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Li(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ni(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof I?i:new I(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var s=this.getPane().children,l=-i(-1/0,1/0),c=0,f=s.length,_;c<f;c++)_=s[c].style.zIndex,s[c]!==this._container&&_&&(l=i(l,+_));isFinite(l)&&(this.options.zIndex=l+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!U.ielt9){Tt(this._container,this.options.opacity);var i=+new Date,s=!1,l=!1;for(var c in this._tiles){var f=this._tiles[c];if(!(!f.current||!f.loaded)){var _=Math.min(1,(i-f.loaded)/200);Tt(f.el,_),_<1?s=!0:(f.active?l=!0:this._onOpaqueTile(f),f.active=!0)}}l&&!this._noPrune&&this._pruneTiles(),s&&(Be(this._fadeFrame),this._fadeFrame=de(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=ae("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,s=this.options.maxZoom;if(i!==void 0){for(var l in this._levels)l=Number(l),this._levels[l].el.children.length||l===i?(this._levels[l].el.style.zIndex=s-Math.abs(i-l),this._onUpdateLevel(l)):(Ee(this._levels[l].el),this._removeTilesAtZoom(l),this._onRemoveLevel(l),delete this._levels[l]);var c=this._levels[i],f=this._map;return c||(c=this._levels[i]={},c.el=ae("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=s,c.origin=f.project(f.unproject(f.getPixelOrigin()),i).round(),c.zoom=i,this._setZoomTransform(c,f.getCenter(),f.getZoom()),m(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var i,s,l=this._map.getZoom();if(l>this.options.maxZoom||l<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)s=this._tiles[i],s.retain=s.current;for(i in this._tiles)if(s=this._tiles[i],s.current&&!s.active){var c=s.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var s in this._tiles)this._tiles[s].coords.z===i&&this._removeTile(s)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Ee(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,s,l,c){var f=Math.floor(i/2),_=Math.floor(s/2),y=l-1,S=new I(+f,+_);S.z=+y;var T=this._tileCoordsToKey(S),N=this._tiles[T];return N&&N.active?(N.retain=!0,!0):(N&&N.loaded&&(N.retain=!0),y>c?this._retainParent(f,_,y,c):!1)},_retainChildren:function(i,s,l,c){for(var f=2*i;f<2*i+2;f++)for(var _=2*s;_<2*s+2;_++){var y=new I(f,_);y.z=l+1;var S=this._tileCoordsToKey(y),T=this._tiles[S];if(T&&T.active){T.retain=!0;continue}else T&&T.loaded&&(T.retain=!0);l+1<c&&this._retainChildren(f,_,l+1,c)}},_resetView:function(i){var s=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var s=this.options;return s.minNativeZoom!==void 0&&i<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<i?s.maxNativeZoom:i},_setView:function(i,s,l,c){var f=Math.round(s);this.options.maxZoom!==void 0&&f>this.options.maxZoom||this.options.minZoom!==void 0&&f<this.options.minZoom?f=void 0:f=this._clampZoom(f);var _=this.options.updateWhenZooming&&f!==this._tileZoom;(!c||_)&&(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),f!==void 0&&this._update(i),l||this._pruneTiles(),this._noPrune=!!l),this._setZoomTransforms(i,s)},_setZoomTransforms:function(i,s){for(var l in this._levels)this._setZoomTransform(this._levels[l],i,s)},_setZoomTransform:function(i,s,l){var c=this._map.getZoomScale(l,i.zoom),f=i.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(s,l)).round();U.any3d?ni(i.el,f,c):Me(i.el,f)},_resetGrid:function(){var i=this._map,s=i.options.crs,l=this._tileSize=this.getTileSize(),c=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,s.wrapLng[0]],c).x/l.x),Math.ceil(i.project([0,s.wrapLng[1]],c).x/l.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([s.wrapLat[0],0],c).y/l.x),Math.ceil(i.project([s.wrapLat[1],0],c).y/l.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var s=this._map,l=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),c=s.getZoomScale(l,this._tileZoom),f=s.project(i,this._tileZoom).floor(),_=s.getSize().divideBy(c*2);return new V(f.subtract(_),f.add(_))},_update:function(i){var s=this._map;if(s){var l=this._clampZoom(s.getZoom());if(i===void 0&&(i=s.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(i),f=this._pxBoundsToTileRange(c),_=f.getCenter(),y=[],S=this.options.keepBuffer,T=new V(f.getBottomLeft().subtract([S,-S]),f.getTopRight().add([S,-S]));if(!(isFinite(f.min.x)&&isFinite(f.min.y)&&isFinite(f.max.x)&&isFinite(f.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var N in this._tiles){var D=this._tiles[N].coords;(D.z!==this._tileZoom||!T.contains(new I(D.x,D.y)))&&(this._tiles[N].current=!1)}if(Math.abs(l-this._tileZoom)>1){this._setView(i,l);return}for(var H=f.min.y;H<=f.max.y;H++)for(var Q=f.min.x;Q<=f.max.x;Q++){var nt=new I(Q,H);if(nt.z=this._tileZoom,!!this._isValidTile(nt)){var We=this._tiles[this._tileCoordsToKey(nt)];We?We.current=!0:y.push(nt)}}if(y.sort(function(ut,bi){return ut.distanceTo(_)-bi.distanceTo(_)}),y.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var kt=document.createDocumentFragment();for(Q=0;Q<y.length;Q++)this._addTile(y[Q],kt);this._level.el.appendChild(kt)}}}},_isValidTile:function(i){var s=this._map.options.crs;if(!s.infinite){var l=this._globalTileRange;if(!s.wrapLng&&(i.x<l.min.x||i.x>l.max.x)||!s.wrapLat&&(i.y<l.min.y||i.y>l.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(i);return ce(this.options.bounds).overlaps(c)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var s=this._map,l=this.getTileSize(),c=i.scaleBy(l),f=c.add(l),_=s.unproject(c,i.z),y=s.unproject(f,i.z);return[_,y]},_tileCoordsToBounds:function(i){var s=this._tileCoordsToNwSe(i),l=new Ae(s[0],s[1]);return this.options.noWrap||(l=this._map.wrapLatLngBounds(l)),l},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var s=i.split(":"),l=new I(+s[0],+s[1]);return l.z=+s[2],l},_removeTile:function(i){var s=this._tiles[i];s&&(Ee(s.el),delete this._tiles[i],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){Y(i,"leaflet-tile");var s=this.getTileSize();i.style.width=s.x+"px",i.style.height=s.y+"px",i.onselectstart=m,i.onmousemove=m,U.ielt9&&this.options.opacity<1&&Tt(i,this.options.opacity)},_addTile:function(i,s){var l=this._getTilePos(i),c=this._tileCoordsToKey(i),f=this.createTile(this._wrapCoords(i),u(this._tileReady,this,i));this._initTile(f),this.createTile.length<2&&de(u(this._tileReady,this,i,null,f)),Me(f,l),this._tiles[c]={el:f,coords:i,current:!0},s.appendChild(f),this.fire("tileloadstart",{tile:f,coords:i})},_tileReady:function(i,s,l){s&&this.fire("tileerror",{error:s,tile:l,coords:i});var c=this._tileCoordsToKey(i);l=this._tiles[c],l&&(l.loaded=+new Date,this._map._fadeAnimated?(Tt(l.el,0),Be(this._fadeFrame),this._fadeFrame=de(this._updateOpacity,this)):(l.active=!0,this._pruneTiles()),s||(Y(l.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:l.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),U.ielt9||!this._map._fadeAnimated?de(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var s=new I(this._wrapX?v(i.x,this._wrapX):i.x,this._wrapY?v(i.y,this._wrapY):i.y);return s.z=i.z,s},_pxBoundsToTileRange:function(i){var s=this.getTileSize();return new V(i.min.unscaleBy(s).floor(),i.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function Ww(i){return new br(i)}var Di=br.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,s){this._url=i,s=k(this,s),s.detectRetina&&U.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,s){return this._url===i&&s===void 0&&(s=!0),this._url=i,s||this.redraw(),this},createTile:function(i,s){var l=document.createElement("img");return K(l,"load",u(this._tileOnLoad,this,s,l)),K(l,"error",u(this._tileOnError,this,s,l)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(l.referrerPolicy=this.options.referrerPolicy),l.alt="",l.src=this.getTileUrl(i),l},getTileUrl:function(i){var s={r:U.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var l=this._globalTileRange.max.y-i.y;this.options.tms&&(s.y=l),s["-y"]=l}return w(this._url,o(s,this.options))},_tileOnLoad:function(i,s){U.ielt9?setTimeout(u(i,this,null,s),0):i(null,s)},_tileOnError:function(i,s,l){var c=this.options.errorTileUrl;c&&s.getAttribute("src")!==c&&(s.src=c),i(l,s)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,s=this.options.maxZoom,l=this.options.zoomReverse,c=this.options.zoomOffset;return l&&(i=s-i),i+c},_getSubdomain:function(i){var s=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var i,s;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(s=this._tiles[i].el,s.onload=m,s.onerror=m,!s.complete)){s.src=b;var l=this._tiles[i].coords;Ee(s),delete this._tiles[i],this.fire("tileabort",{tile:s,coords:l})}},_removeTile:function(i){var s=this._tiles[i];if(s)return s.el.setAttribute("src",b),br.prototype._removeTile.call(this,i)},_tileReady:function(i,s,l){if(!(!this._map||l&&l.getAttribute("src")===b))return br.prototype._tileReady.call(this,i,s,l)}});function ff(i,s){return new Di(i,s)}var pf=Di.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,s){this._url=i;var l=o({},this.defaultWmsParams);for(var c in s)c in this.options||(l[c]=s[c]);s=k(this,s);var f=s.detectRetina&&U.retina?2:1,_=this.getTileSize();l.width=_.x*f,l.height=_.y*f,this.wmsParams=l},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,Di.prototype.onAdd.call(this,i)},getTileUrl:function(i){var s=this._tileCoordsToNwSe(i),l=this._crs,c=re(l.project(s[0]),l.project(s[1])),f=c.min,_=c.max,y=(this._wmsVersion>=1.3&&this._crs===sf?[f.y,f.x,_.y,_.x]:[f.x,f.y,_.x,_.y]).join(","),S=Di.prototype.getTileUrl.call(this,i);return S+j(this.wmsParams,S,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+y},setParams:function(i,s){return o(this.wmsParams,i),s||this.redraw(),this}});function Uw(i,s){return new pf(i,s)}Di.WMS=pf,ff.wms=Uw;var an=Dt.extend({options:{padding:.1},initialize:function(i){k(this,i),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Y(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,s){var l=this._map.getZoomScale(s,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,s),_=c.multiplyBy(-l).add(f).subtract(this._map._getNewPixelOrigin(i,s));U.any3d?ni(this._container,_,l):Me(this._container,_)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,s=this._map.getSize(),l=this._map.containerPointToLayerPoint(s.multiplyBy(-i)).round();this._bounds=new V(l,l.add(s.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),_f=an.extend({options:{tolerance:0},getEvents:function(){var i=an.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){an.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");K(i,"mousemove",this._onMouseMove,this),K(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),K(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){Be(this._redrawRequest),delete this._ctx,Ee(this._container),fe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var s in this._layers)i=this._layers[s],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){an.prototype._update.call(this);var i=this._bounds,s=this._container,l=i.getSize(),c=U.retina?2:1;Me(s,i.min),s.width=c*l.x,s.height=c*l.y,s.style.width=l.x+"px",s.style.height=l.y+"px",U.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){an.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[d(i)]=i;var s=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var s=i._order,l=s.next,c=s.prev;l?l.prev=c:this._drawLast=c,c?c.next=l:this._drawFirst=l,delete i._order,delete this._layers[d(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var s=i.options.dashArray.split(/[, ]+/),l=[],c,f;for(f=0;f<s.length;f++){if(c=Number(s[f]),isNaN(c))return;l.push(c)}i.options._dashArray=l}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||de(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var s=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new V,this._redrawBounds.extend(i._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(i._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var s=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,s=this._redrawBounds;if(this._ctx.save(),s){var l=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,l.x,l.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)i=c.layer,(!s||i._pxBounds&&i._pxBounds.intersects(s))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,s){if(this._drawing){var l,c,f,_,y=i._parts,S=y.length,T=this._ctx;if(S){for(T.beginPath(),l=0;l<S;l++){for(c=0,f=y[l].length;c<f;c++)_=y[l][c],T[c?"lineTo":"moveTo"](_.x,_.y);s&&T.closePath()}this._fillStroke(T,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var s=i._point,l=this._ctx,c=Math.max(Math.round(i._radius),1),f=(Math.max(Math.round(i._radiusY),1)||c)/c;f!==1&&(l.save(),l.scale(1,f)),l.beginPath(),l.arc(s.x,s.y/f,c,0,Math.PI*2,!1),f!==1&&l.restore(),this._fillStroke(l,i)}},_fillStroke:function(i,s){var l=s.options;l.fill&&(i.globalAlpha=l.fillOpacity,i.fillStyle=l.fillColor||l.color,i.fill(l.fillRule||"evenodd")),l.stroke&&l.weight!==0&&(i.setLineDash&&i.setLineDash(s.options&&s.options._dashArray||[]),i.globalAlpha=l.opacity,i.lineWidth=l.weight,i.strokeStyle=l.color,i.lineCap=l.lineCap,i.lineJoin=l.lineJoin,i.stroke())},_onClick:function(i){for(var s=this._map.mouseEventToLayerPoint(i),l,c,f=this._drawFirst;f;f=f.next)l=f.layer,l.options.interactive&&l._containsPoint(s)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(l))&&(c=l);this._fireEvent(c?[c]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,s)}},_handleMouseOut:function(i){var s=this._hoveredLayer;s&&(Le(this._container,"leaflet-interactive"),this._fireEvent([s],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,s){if(!this._mouseHoverThrottled){for(var l,c,f=this._drawFirst;f;f=f.next)l=f.layer,l.options.interactive&&l._containsPoint(s)&&(c=l);c!==this._hoveredLayer&&(this._handleMouseOut(i),c&&(Y(this._container,"leaflet-interactive"),this._fireEvent([c],i,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,s,l){this._map._fireDOMEvent(s,l||s.type,i)},_bringToFront:function(i){var s=i._order;if(s){var l=s.next,c=s.prev;if(l)l.prev=c;else return;c?c.next=l:l&&(this._drawFirst=l),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(i)}},_bringToBack:function(i){var s=i._order;if(s){var l=s.next,c=s.prev;if(c)c.next=l;else return;l?l.prev=c:c&&(this._drawLast=c),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(i)}}});function mf(i){return U.canvas?new _f(i):null}var zr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Hw={_initContainer:function(){this._container=ae("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(an.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var s=i._container=zr("shape");Y(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",i._path=zr("path"),s.appendChild(i._path),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){var s=i._container;this._container.appendChild(s),i.options.interactive&&i.addInteractiveTarget(s)},_removePath:function(i){var s=i._container;Ee(s),i.removeInteractiveTarget(s),delete this._layers[d(i)]},_updateStyle:function(i){var s=i._stroke,l=i._fill,c=i.options,f=i._container;f.stroked=!!c.stroke,f.filled=!!c.fill,c.stroke?(s||(s=i._stroke=zr("stroke")),f.appendChild(s),s.weight=c.weight+"px",s.color=c.color,s.opacity=c.opacity,c.dashArray?s.dashStyle=E(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=c.lineCap.replace("butt","flat"),s.joinstyle=c.lineJoin):s&&(f.removeChild(s),i._stroke=null),c.fill?(l||(l=i._fill=zr("fill")),f.appendChild(l),l.color=c.fillColor||c.color,l.opacity=c.fillOpacity):l&&(f.removeChild(l),i._fill=null)},_updateCircle:function(i){var s=i._point.round(),l=Math.round(i._radius),c=Math.round(i._radiusY||l);this._setPath(i,i._empty()?"M0 0":"AL "+s.x+","+s.y+" "+l+","+c+" 0,"+65535*360)},_setPath:function(i,s){i._path.v=s},_bringToFront:function(i){Li(i._container)},_bringToBack:function(i){Ni(i._container)}},Es=U.vml?zr:yd,Fr=an.extend({_initContainer:function(){this._container=Es("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Es("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ee(this._container),fe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){an.prototype._update.call(this);var i=this._bounds,s=i.getSize(),l=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,l.setAttribute("width",s.x),l.setAttribute("height",s.y)),Me(l,i.min),l.setAttribute("viewBox",[i.min.x,i.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(i){var s=i._path=Es("path");i.options.className&&Y(s,i.options.className),i.options.interactive&&Y(s,"leaflet-interactive"),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Ee(i._path),i.removeInteractiveTarget(i._path),delete this._layers[d(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var s=i._path,l=i.options;s&&(l.stroke?(s.setAttribute("stroke",l.color),s.setAttribute("stroke-opacity",l.opacity),s.setAttribute("stroke-width",l.weight),s.setAttribute("stroke-linecap",l.lineCap),s.setAttribute("stroke-linejoin",l.lineJoin),l.dashArray?s.setAttribute("stroke-dasharray",l.dashArray):s.removeAttribute("stroke-dasharray"),l.dashOffset?s.setAttribute("stroke-dashoffset",l.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),l.fill?(s.setAttribute("fill",l.fillColor||l.color),s.setAttribute("fill-opacity",l.fillOpacity),s.setAttribute("fill-rule",l.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(i,s){this._setPath(i,wd(i._parts,s))},_updateCircle:function(i){var s=i._point,l=Math.max(Math.round(i._radius),1),c=Math.max(Math.round(i._radiusY),1)||l,f="a"+l+","+c+" 0 1,0 ",_=i._empty()?"M0 0":"M"+(s.x-l)+","+s.y+f+l*2+",0 "+f+-l*2+",0 ";this._setPath(i,_)},_setPath:function(i,s){i._path.setAttribute("d",s)},_bringToFront:function(i){Li(i._path)},_bringToBack:function(i){Ni(i._path)}});U.vml&&Fr.include(Hw);function gf(i){return U.svg||U.vml?new Fr(i):null}ne.include({getRenderer:function(i){var s=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var s=this._paneRenderers[i];return s===void 0&&(s=this._createRenderer({pane:i}),this._paneRenderers[i]=s),s},_createRenderer:function(i){return this.options.preferCanvas&&mf(i)||gf(i)}});var vf=Oi.extend({initialize:function(i,s){Oi.prototype.initialize.call(this,this._boundsToLatLngs(i),s)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=ce(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function Zw(i,s){return new vf(i,s)}Fr.create=Es,Fr.pointsToPath=wd,sn.geometryToLayer=_s,sn.coordsToLatLng=Zl,sn.coordsToLatLngs=ms,sn.latLngToCoords=jl,sn.latLngsToCoords=gs,sn.getFeature=Ai,sn.asFeature=vs,ne.mergeOptions({boxZoom:!0});var yf=Yt.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){K(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){fe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ee(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Lr(),Pl(),this._startPoint=this._map.mouseEventToContainerPoint(i),K(document,{contextmenu:oi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=ae("div","leaflet-zoom-box",this._container),Y(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var s=new V(this._point,this._startPoint),l=s.getSize();Me(this._box,s.min),this._box.style.width=l.x+"px",this._box.style.height=l.y+"px"},_finish:function(){this._moved&&(Ee(this._box),Le(this._container,"leaflet-crosshair")),Nr(),kl(),fe(document,{contextmenu:oi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var s=new Ae(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ne.addInitHook("addHandler","boxZoom",yf),ne.mergeOptions({doubleClickZoom:!0});var wf=Yt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var s=this._map,l=s.getZoom(),c=s.options.zoomDelta,f=i.originalEvent.shiftKey?l-c:l+c;s.options.doubleClickZoom==="center"?s.setZoom(f):s.setZoomAround(i.containerPoint,f)}});ne.addInitHook("addHandler","doubleClickZoom",wf),ne.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Cf=Yt.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new Tn(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}Y(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Le(this._map._container,"leaflet-grab"),Le(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=ce(this._map.options.maxBounds);this._offsetLimit=re(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var s=this._lastTime=+new Date,l=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(l),this._times.push(s),this._prunePositions(s)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,s){return i-(i-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;i.x<s.min.x&&(i.x=this._viscousLimit(i.x,s.min.x)),i.y<s.min.y&&(i.y=this._viscousLimit(i.y,s.min.y)),i.x>s.max.x&&(i.x=this._viscousLimit(i.x,s.max.x)),i.y>s.max.y&&(i.y=this._viscousLimit(i.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,s=Math.round(i/2),l=this._initialWorldOffset,c=this._draggable._newPos.x,f=(c-s+l)%i+s-l,_=(c+s+l)%i-s-l,y=Math.abs(f+l)<Math.abs(_+l)?f:_;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=y},_onDragEnd:function(i){var s=this._map,l=s.options,c=!l.inertia||i.noInertia||this._times.length<2;if(s.fire("dragend",i),c)s.fire("moveend");else{this._prunePositions(+new Date);var f=this._lastPos.subtract(this._positions[0]),_=(this._lastTime-this._times[0])/1e3,y=l.easeLinearity,S=f.multiplyBy(y/_),T=S.distanceTo([0,0]),N=Math.min(l.inertiaMaxSpeed,T),D=S.multiplyBy(N/T),H=N/(l.inertiaDeceleration*y),Q=D.multiplyBy(-H/2).round();!Q.x&&!Q.y?s.fire("moveend"):(Q=s._limitOffset(Q,s.options.maxBounds),de(function(){s.panBy(Q,{duration:H,easeLinearity:y,noMoveStart:!0,animate:!0})}))}}});ne.addInitHook("addHandler","dragging",Cf),ne.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ef=Yt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),K(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),fe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,s=document.documentElement,l=i.scrollTop||s.scrollTop,c=i.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(c,l)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var s=this._panKeys={},l=this.keyCodes,c,f;for(c=0,f=l.left.length;c<f;c++)s[l.left[c]]=[-1*i,0];for(c=0,f=l.right.length;c<f;c++)s[l.right[c]]=[i,0];for(c=0,f=l.down.length;c<f;c++)s[l.down[c]]=[0,i];for(c=0,f=l.up.length;c<f;c++)s[l.up[c]]=[0,-1*i]},_setZoomDelta:function(i){var s=this._zoomKeys={},l=this.keyCodes,c,f;for(c=0,f=l.zoomIn.length;c<f;c++)s[l.zoomIn[c]]=i;for(c=0,f=l.zoomOut.length;c<f;c++)s[l.zoomOut[c]]=-i},_addHooks:function(){K(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){fe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var s=i.keyCode,l=this._map,c;if(s in this._panKeys){if(!l._panAnim||!l._panAnim._inProgress)if(c=this._panKeys[s],i.shiftKey&&(c=A(c).multiplyBy(3)),l.options.maxBounds&&(c=l._limitOffset(A(c),l.options.maxBounds)),l.options.worldCopyJump){var f=l.wrapLatLng(l.unproject(l.project(l.getCenter()).add(c)));l.panTo(f)}else l.panBy(c)}else if(s in this._zoomKeys)l.setZoom(l.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&l._popup&&l._popup.options.closeOnEscapeKey)l.closePopup();else return;oi(i)}}});ne.addInitHook("addHandler","keyboard",Ef),ne.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Sf=Yt.extend({addHooks:function(){K(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){fe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var s=$d(i),l=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var c=Math.max(l-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),c),oi(i)},_performZoom:function(){var i=this._map,s=i.getZoom(),l=this._map.options.zoomSnap||0;i._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),f=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,_=l?Math.ceil(f/l)*l:f,y=i._limitZoom(s+(this._delta>0?_:-_))-s;this._delta=0,this._startTime=null,y&&(i.options.scrollWheelZoom==="center"?i.setZoom(s+y):i.setZoomAround(this._lastMousePos,s+y))}});ne.addInitHook("addHandler","scrollWheelZoom",Sf);var jw=600;ne.mergeOptions({tapHold:U.touchNative&&U.safari&&U.mobile,tapTolerance:15});var xf=Yt.extend({addHooks:function(){K(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){fe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var s=i.touches[0];this._startPos=this._newPos=new I(s.clientX,s.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(K(document,"touchend",$e),K(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),jw),K(document,"touchend touchcancel contextmenu",this._cancel,this),K(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){fe(document,"touchend",$e),fe(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),fe(document,"touchend touchcancel contextmenu",this._cancel,this),fe(document,"touchmove",this._onMove,this)},_onMove:function(i){var s=i.touches[0];this._newPos=new I(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,s){var l=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});l._simulated=!0,s.target.dispatchEvent(l)}});ne.addInitHook("addHandler","tapHold",xf),ne.mergeOptions({touchZoom:U.touch,bounceAtZoomLimits:!0});var Tf=Yt.extend({addHooks:function(){Y(this._map._container,"leaflet-touch-zoom"),K(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Le(this._map._container,"leaflet-touch-zoom"),fe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var s=this._map;if(!(!i.touches||i.touches.length!==2||s._animatingZoom||this._zooming)){var l=s.mouseEventToContainerPoint(i.touches[0]),c=s.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(l.add(c)._divideBy(2))),this._startDist=l.distanceTo(c),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),K(document,"touchmove",this._onTouchMove,this),K(document,"touchend touchcancel",this._onTouchEnd,this),$e(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var s=this._map,l=s.mouseEventToContainerPoint(i.touches[0]),c=s.mouseEventToContainerPoint(i.touches[1]),f=l.distanceTo(c)/this._startDist;if(this._zoom=s.getScaleZoom(f,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&f<1||this._zoom>s.getMaxZoom()&&f>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,f===1)return}else{var _=l._add(c)._divideBy(2)._subtract(this._centerPoint);if(f===1&&_.x===0&&_.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(_),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),Be(this._animRequest);var y=u(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=de(y,this,!0),$e(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Be(this._animRequest),fe(document,"touchmove",this._onTouchMove,this),fe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ne.addInitHook("addHandler","touchZoom",Tf),ne.BoxZoom=yf,ne.DoubleClickZoom=wf,ne.Drag=Cf,ne.Keyboard=Ef,ne.ScrollWheelZoom=Sf,ne.TapHold=xf,ne.TouchZoom=Tf,n.Bounds=V,n.Browser=U,n.CRS=lt,n.Canvas=_f,n.Circle=Hl,n.CircleMarker=ps,n.Class=xt,n.Control=At,n.DivIcon=df,n.DivOverlay=qt,n.DomEvent=lw,n.DomUtil=sw,n.Draggable=Tn,n.Evented=nn,n.FeatureGroup=rn,n.GeoJSON=sn,n.GridLayer=br,n.Handler=Yt,n.Icon=Ri,n.ImageOverlay=ys,n.LatLng=se,n.LatLngBounds=Ae,n.Layer=Dt,n.LayerGroup=Mi,n.LineUtil=Cw,n.Map=ne,n.Marker=fs,n.Mixin=_w,n.Path=Pn,n.Point=I,n.PolyUtil=mw,n.Polygon=Oi,n.Polyline=on,n.Popup=ws,n.PosAnimation=Gd,n.Projection=Ew,n.Rectangle=vf,n.Renderer=an,n.SVG=Fr,n.SVGOverlay=hf,n.TileLayer=Di,n.Tooltip=Cs,n.Transformation=pl,n.Util=ti,n.VideoOverlay=cf,n.bind=u,n.bounds=re,n.canvas=mf,n.circle=Nw,n.circleMarker=Lw,n.control=Or,n.divIcon=Bw,n.extend=o,n.featureGroup=Pw,n.geoJSON=uf,n.geoJson=Ow,n.gridLayer=Ww,n.icon=kw,n.imageOverlay=Aw,n.latLng=G,n.latLngBounds=ce,n.layerGroup=Tw,n.map=uw,n.marker=Iw,n.point=A,n.polygon=Rw,n.polyline=Mw,n.popup=zw,n.rectangle=Zw,n.setOptions=k,n.stamp=d,n.svg=gf,n.svgOverlay=bw,n.tileLayer=ff,n.tooltip=Fw,n.transformation=Tr,n.version=r,n.videoOverlay=Dw;var Vw=window.L;n.noConflict=function(){return window.L=Vw,this},window.L=n})})(Uc,Uc.exports);var rs=Uc.exports;const IP=L_(rs);function md(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function gd(t,e){return e==null?function(r,o){const a=ie.useRef();return a.current||(a.current=t(r,o)),a}:function(r,o){const a=ie.useRef();a.current||(a.current=t(r,o));const u=ie.useRef(r),{instance:h}=a.current;return ie.useEffect(function(){u.current!==r&&(e(h,r,u.current),u.current=r)},[h,r,o]),a}}function LP(t,e){ie.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var a;(a=e.layerContainer)==null||a.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function Ly(t){return function(n){const r=ky(),o=t(_d(n,r),r);return xy(r.map,n.attribution),Iy(o.current,n.eventHandlers),LP(o.current,r),o}}function NP(t,e){const n=gd(t,e),r=Ly(n);return xP(r)}function MP(t,e){const n=gd(t),r=kP(n,e);return TP(r)}function RP(t,e){const n=gd(t,e),r=Ly(n);return PP(r)}function OP(t,e,n){const{opacity:r,zIndex:o}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),o!=null&&o!==n.zIndex&&t.setZIndex(o)}function Hc(){return Hc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hc.apply(this,arguments)}function AP({bounds:t,boundsOptions:e,center:n,children:r,className:o,id:a,placeholder:u,style:h,whenReady:d,zoom:p,...v},m){const[g]=ie.useState({className:o,id:a,style:h}),[x,P]=ie.useState(null);ie.useImperativeHandle(m,()=>(x==null?void 0:x.map)??null,[x]);const k=ie.useCallback(C=>{if(C!==null&&x===null){const w=new rs.Map(C,v);n!=null&&p!=null?w.setView(n,p):t!=null&&w.fitBounds(t,e),d!=null&&w.whenReady(d),P(EP(w))}},[]);ie.useEffect(()=>()=>{x==null||x.map.remove()},[x]);const j=x?Nu.createElement(Py,{value:x},r):u??null;return Nu.createElement("div",Hc({},g,{ref:k}),j)}const DP=ie.forwardRef(AP),bP=NP(function({position:e,...n},r){const o=new rs.Marker(e,n);return md(o,SP(r,{overlayContainer:o}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),zP=MP(function(e,n){const r=new rs.Popup(e,n.overlayContainer);return md(r,n)},function(e,n,{position:r},o){ie.useEffect(function(){const{instance:u}=e;function h(p){p.popup===u&&(u.update(),o(!0))}function d(p){p.popup===u&&o(!1)}return n.map.on({popupopen:h,popupclose:d}),n.overlayContainer==null?(r!=null&&u.setLatLng(r),u.openOn(n.map)):n.overlayContainer.bindPopup(u),function(){var v;n.map.off({popupopen:h,popupclose:d}),(v=n.overlayContainer)==null||v.unbindPopup(),n.map.removeLayer(u)}},[e,n,o,r])}),FP=RP(function({url:e,...n},r){const o=new rs.TileLayer(e,_d(n,r));return md(o,r)},function(e,n,r){OP(e,n,r);const{url:o}=n;o!=null&&o!==r.url&&e.setUrl(o)}),BP={apiKey:"AIzaSyB0xVPcTwZb5vYCZZKYPr8uimM8nKxM900",authDomain:"mapa-fe85d.firebaseapp.com",databaseURL:"https://mapa-fe85d-default-rtdb.europe-west1.firebasedatabase.app",projectId:"mapa-fe85d",storageBucket:"mapa-fe85d.firebasestorage.app",messagingSenderId:"1061731964525",appId:"1:1061731964525:web:7b1aecf2d5c3a04caad164",measurementId:"G-63RZV3H9KB"},WP=Wh(BP),UP=Sy(WP),HP=async()=>{const t=Cy(UP,"/");try{const e=await Ey(t);return e.exists()?e.val():(console.log("No data available"),[])}catch(e){return console.error("Error reading data:",e),[]}},ZP=()=>{const[t,e]=ie.useState([]);return ie.useEffect(()=>{(async()=>{const r=await HP();e(r)})()},[]),ke.jsxs(DP,{style:{height:"100vh",width:"100%"},center:[45.32560918851513,14.44176433327116],zoom:13,minZoom:13,scrollWheelZoom:!0,children:[ke.jsx(FP,{url:"https://tiles.stadiamaps.com/tiles/osm_bright/{z}/{x}/{y}{r}.png",attribution:" <a href='https://www.openstreetmap.org/copyright'>OpenStreetMap</a> contributors"}),t&&t.map((n,r)=>ke.jsx(bP,{position:[n.Y,n.X],icon:IP.icon({iconUrl:"https://img.icons8.com/3d-fluency/94/hospital-2.png",iconSize:[32,32]}),children:ke.jsxs(zP,{children:[n.Name,ke.jsx("br",{}),n.adresa]})},r))]})};function jP(){return ke.jsxs(ke.Fragment,{children:[ke.jsxs("div",{className:"gore",children:[ke.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"30",height:"30",viewBox:"0 0 30 30",children:ke.jsx("path",{d:"M 13 3 C 7.4889971 3 3 7.4889971 3 13 C 3 18.511003 7.4889971 23 13 23 C 15.396508 23 17.597385 22.148986 19.322266 20.736328 L 25.292969 26.707031 A 1.0001 1.0001 0 1 0 26.707031 25.292969 L 20.736328 19.322266 C 22.148986 17.597385 23 15.396508 23 13 C 23 7.4889971 18.511003 3 13 3 z M 13 5 C 17.430123 5 21 8.5698774 21 13 C 21 17.430123 17.430123 21 13 21 C 8.5698774 21 5 17.430123 5 13 C 5 8.5698774 8.5698774 5 13 5 z"})}),ke.jsx("input",{type:"text",placeholder:"Pretrai",id:"searchbar"}),ke.jsx(wP,{})]}),ke.jsx(ZP,{})]})}Zg(document.getElementById("root")).render(ke.jsx(ie.StrictMode,{children:ke.jsx(jP,{})}));
